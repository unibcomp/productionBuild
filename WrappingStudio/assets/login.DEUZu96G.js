import{e as y,u as w,r as g,j as e,L as r,z as u}from"./index.DNjfNSSq.js";import{u as N}from"./index.esm.D6hUNeUD.js";import{F as v,s as S,a as k,g as I}from"./firebase.StGHOsum.js";import{u as P}from"./unbcompY.4VGBDMNV.js";import{u as E}from"./useUser.Bv01oe3G.js";import{h as L}from"./queryToast.CysgzmFw.js";import"./useMutation.C-meR6bg.js";const W=()=>{const{register:n,handleSubmit:h,formState:p}=N({mode:"onSubmit"}),{errors:t}=p,i=y(),a=E(),{login:d}=w(),[c,b]=g.useState(!1),[m]=g.useState(!1),f=o=>{const{onSuccess:l,onError:s}=L({onSuccess:x=>{d(x)&&(localStorage.removeItem("cart"),i("/"))}});a.mutate({data:o},{onSuccess:l,onError:s})},j=async()=>{try{const l=await(await S(k,I)).user.getIdToken();a.mutate({headers:{provider:"google",authorization:`Bearer ${l}`}},{onSuccess:s=>{d(s)&&(localStorage.removeItem("cart"),i("/"))},onError:s=>{u.error(s?.response?.data?.message||"Google login failed")}})}catch{u.error("Google login cancelled")}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[e.jsxs("div",{className:"hidden md:flex md:w-1/2 bg-cover bg-center relative",style:{backgroundImage:"url(https://image3.luatvietnam.vn/uploaded/665twebp/images/original/2024/11/27/state-management-of-e-commerce-to-be-tightened_2711091334.jpg)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-700 via-indigo-600 to-blue-500 opacity-50"}),e.jsxs("div",{className:"flex flex-col items-start justify-center w-full h-full px-12 z-10",children:[e.jsxs("h2",{className:"text-white text-4xl md:text-5xl font-extrabold mb-4 drop-shadow-lg",children:["Welcome to ",e.jsx("span",{className:"text-yellow-400",children:"Unibcomp"}),"!"]}),e.jsxs("p",{className:"text-white text-lg md:text-xl mb-6 drop-shadow-md",children:["Shop the ",e.jsx("span",{className:"text-pink-400 font-semibold",children:"best products"})," now"]}),e.jsx(r,{to:"/signup",className:"bg-yellow-400 text-gray-900 font-semibold py-3 px-6 rounded-lg hover:bg-yellow-300 transition transform hover:scale-105",children:"Get Started"})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 p-8",children:e.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:P,alt:"Logo",className:"w-60 mx-auto mb-3"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-800",children:"Welcome Back"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sign in to continue shopping"})]}),e.jsxs("form",{onSubmit:h(f),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"Enter your email",...n("email",{required:"Email is required"}),className:"w-full text-sm border border-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"}),t.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",placeholder:"Enter your password",...n("password",{required:"Password is required"}),className:"w-full text-sm border border-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 font-medium",onClick:()=>b(o=>!o),children:c?"Hide":"Show"})]}),t.password&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:t.password.message})]}),e.jsx("div",{className:"text-right",children:e.jsx(r,{to:"/forget",className:"text-sm text-blue-600 hover:underline font-medium",children:"Forgot Password?"})}),e.jsx("button",{type:"submit",disabled:a.isPending,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition shadow-md disabled:opacity-60",children:a.isPending?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-grow h-px bg-gray-300"}),e.jsx("span",{className:"px-3 text-gray-500 text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),e.jsxs("button",{onClick:j,disabled:m,className:"w-full flex items-center justify-center gap-3 border border-gray-300 rounded-lg py-2.5 font-medium text-gray-700 hover:bg-gray-100 transition disabled:opacity-60",children:[e.jsx(v,{className:"text-xl"}),m?"Connecting...":"Continue with Google"]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Don’t have an account?"}),e.jsx(r,{to:"/signup",className:"text-blue-600 hover:underline font-medium",children:"Create your account"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(r,{to:"/",className:"text-gray-600 underline text-sm hover:text-black",children:"← Back to Store"})})]})})]})};export{W as default};
