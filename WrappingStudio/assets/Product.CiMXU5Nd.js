import{r as F,j as e,e as L,d as O,i as V}from"./index.pflPLzH3.js";import{b as q,c as A,F as D,S as H,d as R,e as z,P as G}from"./SortModel.DeqkeG7s.js";import{P as I}from"./PaginationSelecctor.BrL4VvmG.js";import{u as J}from"./usePagination.DIBQrnar.js";import{N as K}from"./NotDataFound.Bm9sHu1v.js";import{P as Q}from"./PageHeadline.DFQCtK4n.js";import{u as U}from"./useModal.BiQt9ZMn.js";import{B as W}from"./ButtonBar.B0d221zy.js";import"./WishlistButton.D_72pRM6.js";import"./useMutation.CaXsfkzd.js";import"./proxy.HBok0CUR.js";const X=({currentPage:s,handlePageChange:a,pageSize:o,totalCount:t})=>{const r=F.useMemo(()=>Math.ceil(t/o),[t,o]);return e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[e.jsx("button",{onClick:()=>a(s-1,r),disabled:s===1,className:`flex items-center justify-center w-9 h-9 rounded-full border border-gray-300 bg-white text-gray-700 \r
                   hover:bg-emerald-100 hover:text-emerald-700 \r
                   disabled:opacity-40 disabled:cursor-not-allowed transition`,children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_back_ios"})}),e.jsxs("span",{className:"text-sm text-gray-700 font-medium select-none px-3",children:[s," / ",r]}),e.jsx("button",{onClick:()=>a(s+1,r),disabled:s===r,className:`flex items-center justify-center w-9 h-9 rounded-full border border-gray-300 bg-white text-gray-700 \r
                   hover:bg-emerald-100 hover:text-emerald-700 \r
                   disabled:opacity-40 disabled:cursor-not-allowed transition`,children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward_ios"})})]})},ne=({category:s,subcategory:a,title:o,horizontal:t=!1,brand:r,showFilters:g=!1,isFullDetail:_=!1,exclude:x,productType:p})=>{const k=L(),[c]=O(),l=c.get("category"),i=c.get("subcategory"),m=c.get("slug"),d=c.get("brand"),y=c.get("exclude"),{openModal:N,closeModal:w,isModalOpen:b}=U(),{filters:u,setFilters:S,sorts:f,setSorts:v}=q(),{handlePageChange:C,handlePageSizeChange:M,pageNumber:h,pageSizeValue:j}=J(),{data:n,isLoading:$,isError:B}=A({category:l||s,subcategory:i||a,brand:d||r,pageNumber:h,pageSize:j,...u,slug:m?String(m):void 0,sort:f,exclude:y||x,productType:p});F.useEffect(()=>{window.scroll(0,0)},[Object.entries(u).flat().join(",")]);const E=B||(n?.results?.length??0)<1&&!p;return e.jsxs("div",{className:`${!t&&"min-h-screen"} bg-gray-50 relative`,children:[e.jsxs("div",{className:"mx-auto sm:px-8 py-2 grid grid-cols-1 md:grid-cols-4 gap-6 w-full h-auto",children:[g&&e.jsx("aside",{className:"hidden md:flex md:flex-col md:col-span-1 md:sticky md:top-36 md:bottom-36 space-y-4 self-start ",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 flex flex-col space-y-4",children:[e.jsx(D,{filters:u,setFilters:S,category:l||s,subcategory:i||a,brand:d||r,slug:m||""}),e.jsx(H,{sort:f,setSort:v})]})}),e.jsx("div",{className:g?"md:col-span-3":"md:col-span-4",children:$?e.jsx(V,{isNotFixed:!0,h:t?"h-[290px]":"h-[85vh]"}):E?e.jsx(K,{}):n?.results&&n.results.length>0&&e.jsxs("main",{className:`col-span-1 ${g?"md:col-span-3":"md:col-span-4"}`,children:[o&&t&&e.jsx(Q,{title:o,component:p?e.jsx(e.Fragment,{}):e.jsx(W,{buttons:[{label:"View All",onClick:()=>{const P=[s?`category=${s}`:"",x?`exclude=${x}`:""].filter(Boolean).join("&");k(`/product${P?`?${P}`:""}`)},colorClass:"bg-blue-600 text-white hover:bg-blue-700"}]})}),e.jsx(Y,{data:n?.results||[],horizontal:t,isFullDetail:_}),t?e.jsx(X,{handlePageChange:C,currentPage:h,pageSize:j,totalCount:n?.pagination?.total||0}):e.jsx(I,{handlePageChange:C,handlePageSizeChange:M,currentPage:h,pageSize:j,totalCount:n?.pagination?.total||0})]})})]}),g&&e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white shadow-lg border-t border-gray-200 flex justify-between items-center px-4 py-3",children:e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex-1 mr-2 bg-gray-100 text-gray-800 font-semibold py-2 rounded-md flex items-center justify-center gap-1",onClick:()=>N({isSort:!0}),children:[e.jsx("span",{className:"material-symbols-outlined",children:"sort"})," Sort"]}),e.jsxs("button",{className:"flex-1 bg-gray-100 text-gray-800 font-semibold py-2 rounded-md flex items-center justify-center gap-1",onClick:()=>N({isFilter:!0},{}),children:[e.jsx("span",{className:"material-symbols-outlined",children:"filter_list"})," Filter"]})]})}),e.jsx(R,{show:b?.isFilter||!1,handleClose:()=>{w({isFilter:!1})},filters:u,setFilters:S,category:l||s,subcategory:i||a,brand:d||r,slug:m||""},b?.isFilter+""),e.jsx(z,{show:b.isSort||!1,setSort:v,sort:f,handleClose:()=>w({isSort:!1})})]},[l||"",i||"",d||""].join("-"))},Y=({data:s,horizontal:a=!1,isFullDetail:o=!1})=>e.jsx("div",{className:a?"flex custom-scroll space-x-4 pb-2":"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:s.map(t=>e.jsx("div",{className:a?"w-[300px] flex-shrink-0":"",children:e.jsx(G,{product:t,isFullDetail:o})},t._id))});export{ne as default};
