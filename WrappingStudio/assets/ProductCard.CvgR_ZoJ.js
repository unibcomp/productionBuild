import{a as d,g as n,b as l,h as x,j as s,L as h}from"./index.C1zK8HYA.js";import{u as g}from"./useMutation.BghMb9Y5.js";const N=()=>d({queryKey:["wishlist"],queryFn:async()=>{const{data:e}=await l.get("/wishlist");return console.log("📥 Wishlist fetched:",e),e?.data??[]},enabled:!!n()}),v=()=>g({mutationFn:async e=>{console.log("📤 Sending productId to API:",e);const{data:a}=await l.post(`/create-remove-wishlist/${e}`);return a}}),y=({product:e,isFullDetail:a})=>{const r=x(),t=e.variant?e.variant.images[0]:void 0,o=`/product/detail/${e._id}?variant=${e.variant?._id}&&size=${e.variant?.size?._id}`,i=v();return s.jsxs("div",{className:"border rounded-lg shadow-sm hover:shadow-md p-3 relative",children:[s.jsx("button",{onClick:()=>{if(!n())return r("/login");i.mutate(e._id)},disabled:i.isPending,className:`
    absolute top-2 right-2 text-xl
    ${e?.isInWishlist?"text-red-500":"text-gray-400"}
    ${i.isPending?"opacity-50 cursor-not-allowed pointer-events-none":"hover:scale-110"}
    transition
  `,children:e.isInWishlist?"❤️":"♡"}),s.jsxs(h,{to:o,className:"block",children:[t?s.jsx("img",{src:t,alt:e.name,className:"w-full h-40 object-contain rounded-md"}):s.jsx("div",{className:"w-full h-40 bg-gray-200 flex items-center justify-center rounded-md text-gray-500 text-sm",children:"No Image"}),s.jsx("h3",{className:"text-sm font-semibold mt-2 truncate",children:e.name}),s.jsx("p",{className:"text-gray-700 font-bold",children:e.brand.name}),s.jsxs("div",{className:"flex",children:[s.jsxs("p",{className:"text-gray-700 font-bold",children:["₹ ",Number(e.variant?.size?.sell_price).toFixed(2)]}),e.variant?.size&&e.variant?.size?.original_price>e.variant?.size?.sell_price&&s.jsxs("p",{className:"text-gray-500 text-xs line-through flex mt-2 ml-1",children:["₹ ",Number(e.variant?.size?.original_price).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsxs("div",{className:"flex items-center bg-green-600 text-white px-1.5 py-0.5 rounded-sm font-semibold",children:[s.jsx("span",{children:e?.ratings?.average.toFixed(1)}),s.jsx("span",{className:"material-symbols-outlined text-xs ml-1",children:"star"})]}),s.jsxs("span",{className:"text-gray-500 font-medium",children:[e?.ratings?.count," Ratings"]})]}),a&&s.jsx("div",{className:"mt-2",children:s.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm",children:e.variant?.size?.highlights.map((m,c)=>s.jsx("li",{children:m},c))})})]})]})};export{y as P,N as a,v as u};
