import{k as p,a as N,b as C,r as n,j as s}from"./index.BX1Evw8e.js";import{A as I}from"./index.cqgD_gQ9.js";import{m as f}from"./proxy.WDgRnSJ5.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k=p("chevron-left",E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S=p("chevron-right",R),z=()=>N({queryKey:["carousels"],queryFn:async()=>(await C.get("/carousel")).data.data,staleTime:1e3*60,refetchOnWindowFocus:!1});function L(t=768){const[m,d]=n.useState(()=>typeof window<"u"?window.innerWidth<=t:!1);return n.useEffect(()=>{const r=()=>{d(window.innerWidth<=t)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),m}const H=()=>{const{data:t,isLoading:m}=z(),d=L(),[r,l]=n.useState(0),[g,h]=n.useState(5e3),[c,x]=n.useState(!1),[u,i]=n.useState("right"),w=n.useRef([]),o=n.useRef(null);n.useEffect(()=>{if(!(!t||t.length===0))return o.current&&clearInterval(o.current),o.current=setInterval(()=>{i("right"),l(e=>(e+1)%t.length)},g),()=>{o.current&&clearInterval(o.current)}},[t,g,r]),n.useEffect(()=>{w.current.forEach((e,a)=>{e&&(a===r?(e.currentTime=0,e.play().catch(()=>{})):e.pause())})},[r]);const v=()=>{t&&(i("left"),l(e=>(e-1+t.length)%t.length),h(8e3))},y=()=>{t&&(i("right"),l(e=>(e+1)%t.length),h(8e3))},b=e=>e.endsWith(".mp4")||e.endsWith(".webm")||e.endsWith(".ogg");return s.jsxs("div",{className:`\r
        relative w-full \r
        h-[150px] sm:h-[280px] md:h-[35vh] lg:h-[40vh] xl:h-[43vh]\r
        overflow-hidden rounded-xl shadow-lg\r
        transition-all duration-500 ease-in-out\r
      `,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[s.jsx(I,{initial:!1,custom:u,children:t?.map((e,a)=>a===r?s.jsx(f.div,{className:"absolute w-full h-full",custom:u,initial:{opacity:0,x:u==="right"?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:u==="right"?-100:100},transition:{duration:.7,ease:"easeInOut"},children:b(e.image)?s.jsx("video",{ref:j=>{w.current[a]=j},src:e.image,className:"w-full h-full  rounded-xl",muted:!0,loop:!0,playsInline:!0}):s.jsx("img",{src:d?e?.mobileImage:e.image,alt:e.title,className:"w-full h-full  rounded-xl"})},e._id):null)}),s.jsx(f.button,{onClick:v,initial:{opacity:0,x:-20},animate:{opacity:c?1:0,x:c?0:-20},transition:{duration:.3},whileHover:{scale:1.15,backgroundColor:"rgba(0,0,0,0.6)"},className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black/40 text-white w-11 h-11 flex items-center justify-center rounded-full z-10",children:s.jsx(k,{className:"w-6 h-6"})}),s.jsx(f.button,{onClick:y,initial:{opacity:0,x:20},animate:{opacity:c?1:0,x:c?0:20},transition:{duration:.3},whileHover:{scale:1.15,backgroundColor:"rgba(0,0,0,0.6)"},className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black/40 text-white w-11 h-11 flex items-center justify-center rounded-full z-10",children:s.jsx(S,{className:"w-6 h-6"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:t?.map((e,a)=>s.jsx("div",{onClick:()=>{a>r?i("right"):i("left"),l(a),h(8e3)},className:`w-3 h-3 rounded-full cursor-pointer transition-colors ${a===r?"bg-white":"bg-gray-400"}`},a))})]})};export{H as default};
