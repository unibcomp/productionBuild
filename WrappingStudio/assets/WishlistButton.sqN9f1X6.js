import{a as y,g as o,k as d,b as u,r,e as m,j as x}from"./index.DSuwYhne.js";import{u as w}from"./useMutation.YGYLZE1r.js";const C=()=>y({queryKey:["wishlist"],queryFn:async()=>{const{data:t}=await u.get("/wishlist");return t?.data||[]},enabled:!!o()}),f=()=>{const t=d();return w({mutationFn:async({productId:a,variantId:e})=>{const i=`/create-remove-wishlist/${a}/${e||"null"}`,{data:s}=await u.post(i);return s},onSuccess:()=>{t.invalidateQueries({queryKey:["wishlist"]})}})},k=({productId:t,variantId:a,isInWishlist:e,className:i})=>{const[s,n]=r.useState(e),l=f(),c=m();r.useEffect(()=>{n(e)},[e]);const g=h=>{if(h.stopPropagation(),!o())return c("/login");n(p=>!p),l.mutate({productId:t,variantId:a})};return x.jsx("button",{onClick:g,className:`absolute top-2 right-2 text-2xl p-1 rounded-full ${s?"text-red-500":"text-gray-400"} hover:scale-110 transition ${i||""}`,"aria-label":"Toggle wishlist",children:s?"❤️":"♡"})};export{k as W,C as u};
