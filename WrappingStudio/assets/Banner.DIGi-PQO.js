import{k as v,a as C,b as E,r as n,j as s}from"./index.IsH4P2IF.js";import{A as I}from"./index.WHDJGk0Y.js";import{m as x}from"./proxy.BasxOMeA.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L=v("chevron-left",k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S=v("chevron-right",R),z=()=>C({queryKey:["carousels"],queryFn:async()=>(await E.get("/carousel")).data.data,staleTime:1e3*60,refetchOnWindowFocus:!1});function M(t=768){const[h,f]=n.useState(()=>typeof window<"u"?window.innerWidth<=t:!1);return n.useEffect(()=>{const l=()=>{f(window.innerWidth<=t)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t]),h}const q=()=>{const{data:t,isLoading:h,isError:f}=z(),l=M(),[a,c]=n.useState(0),[g,m]=n.useState(5e3),[u,p]=n.useState(!1),[d,i]=n.useState("right"),w=n.useRef([]),o=n.useRef(null);n.useEffect(()=>{if(!(!t||t.length===0))return o.current&&clearInterval(o.current),o.current=setInterval(()=>{i("right"),c(e=>(e+1)%t.length)},g),()=>{o.current&&clearInterval(o.current)}},[t,g,a]),n.useEffect(()=>{w.current.forEach((e,r)=>{e&&(r===a?(e.currentTime=0,e.play().catch(()=>{})):e.pause())})},[a]);const y=()=>{t&&(i("left"),c(e=>(e-1+t.length)%t.length),m(8e3))},b=()=>{t&&(i("right"),c(e=>(e+1)%t.length),m(8e3))},j=e=>e.endsWith(".mp4")||e.endsWith(".webm")||e.endsWith(".ogg");return h?s.jsx("div",{className:"h-[220px] flex justify-center items-center",children:"Loading..."}):f||!t?s.jsx("div",{className:"h-[220px] flex justify-center items-center",children:"No banners found"}):s.jsxs("div",{className:`\r
        relative w-full \r
        h-[150px] sm:h-[280px] md:h-[35vh] lg:h-[40vh] xl:h-[43vh]\r
        overflow-hidden rounded-xl shadow-lg\r
        transition-all duration-500 ease-in-out\r
      `,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[s.jsx(I,{initial:!1,custom:d,children:t.map((e,r)=>r===a?s.jsx(x.div,{className:"absolute w-full h-full",custom:d,initial:{opacity:0,x:d==="right"?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:d==="right"?-100:100},transition:{duration:.7,ease:"easeInOut"},children:j(e.image)?s.jsx("video",{ref:N=>{w.current[r]=N},src:e.image,className:"w-full h-full  rounded-xl",muted:!0,loop:!0,playsInline:!0}):s.jsx("img",{src:l?e?.mobileImage:e.image,alt:e.title,className:"w-full h-full  rounded-xl"})},e._id):null)}),s.jsx(x.button,{onClick:y,initial:{opacity:0,x:-20},animate:{opacity:u?1:0,x:u?0:-20},transition:{duration:.3},whileHover:{scale:1.15,backgroundColor:"rgba(0,0,0,0.6)"},className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black/40 text-white w-11 h-11 flex items-center justify-center rounded-full z-10",children:s.jsx(L,{className:"w-6 h-6"})}),s.jsx(x.button,{onClick:b,initial:{opacity:0,x:20},animate:{opacity:u?1:0,x:u?0:20},transition:{duration:.3},whileHover:{scale:1.15,backgroundColor:"rgba(0,0,0,0.6)"},className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black/40 text-white w-11 h-11 flex items-center justify-center rounded-full z-10",children:s.jsx(S,{className:"w-6 h-6"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:t.map((e,r)=>s.jsx("div",{onClick:()=>{r>a?i("right"):i("left"),c(r),m(8e3)},className:`w-3 h-3 rounded-full cursor-pointer transition-colors ${r===a?"bg-white":"bg-gray-400"}`},r))})]})};export{q as default};
