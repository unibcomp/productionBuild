import{i as W,a as J,k as Q,b as O,r as b,j as e,l as ee,e as D,g as H,z as T,R as se,d as te,u as ae,m as re,L as q}from"./index.Bd5MI6R0.js";import{u as U}from"./useModal.DKJnSpQf.js";import{u as ie}from"./index.esm.Ct30PYuB.js";import{K as I,h as V,P as Z,B as ne}from"./ButtonBar.u13QKf1I.js";import{u as G}from"./useMutation.ByBGHasB.js";import{a as le}from"./queryToast.CNePHpYA.js";import{u as oe,P as de}from"./Product.Cklfo053.js";import{a as ce,u as me}from"./useCart.C9H3Si22.js";import{W as K}from"./WishlistButton.C1CkPDOl.js";import"./usePagination.QrYJxrfP.js";import"./NotDataFound.BRQx-lng.js";import"./proxy.2rhI4bqt.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ue=W("star",xe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],he=W("thumbs-up",ge),pe=async s=>(await O.post("/add-rating",s)).data,be=async s=>(await O.post(`/like/${s}`)).data,ye=async({productId:s,...a})=>(await O.get(`/rating-list/${s}`,a)).data;function fe({productId:s=""}){const a={...s&&{productId:s}};return J({queryKey:["ratings",a],queryFn:()=>ye(a),enabled:!!a?.productId})}function je(){const s=Q();return G({mutationFn:a=>pe(a),onSuccess:(a,c)=>{s.invalidateQueries({queryKey:["ratings",c.productId]}),s.invalidateQueries({queryKey:["product",c.productId]})}})}function ve(){const s=Q();return G({mutationFn:a=>be(a),onSuccess:(a,c)=>{s.invalidateQueries({queryKey:["rating",c]}),s.invalidateQueries({queryKey:["ratings"]})}})}function Ne(s){return s??(()=>{})}const we=[1,2,3,4,5],X=({handleClose:s,isAdd:a=!0,show:c,productId:m,refetch:t})=>{const{register:y,handleSubmit:u,setValue:x,watch:l,formState:{errors:g}}=ie({defaultValues:{rating:5,comment:"",productId:m??void 0,title:"",images:null}});b.useEffect(()=>{m&&x("productId",m)},[m,x]);const v=l("rating")??5,o=je(),r=async i=>{const h=[];o.mutate({productId:i.productId,rating:i.rating,title:i.title??void 0,description:i.comment??void 0,images:h},le(Ne(t),s))};return e.jsx(I,{appear:!0,show:c,as:b.Fragment,children:e.jsxs(V,{as:"div",className:"relative z-50",onClose:s,children:[e.jsx(I.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm transition-opacity"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(I.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(V.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all border border-gray-200",children:[e.jsx(Z,{title:a?"Add Rating":"Edit Rating"}),e.jsxs("form",{onSubmit:u(r),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),e.jsx("div",{className:"flex items-center gap-2",children:we.map(i=>e.jsx("button",{type:"button",onClick:()=>x("rating",i),className:`p-2 rounded-md transition ${(v??0)>=i?"bg-yellow-400 text-white":"bg-gray-100 text-gray-600"}`,"aria-label":`${i} star`,children:"★"},i))}),g.rating?.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.rating?.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comment"}),e.jsx("textarea",{placeholder:"Write an optional comment...",...y("comment"),className:"mt-1 block w-full rounded-lg border border-gray-300 shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (optional)"}),e.jsx("input",{...y("title"),type:"text",placeholder:"Short title (e.g. 'Great quality')",className:"mt-1 block w-full rounded-lg border border-gray-300 shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("input",{type:"hidden",...y("productId")}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:a?"Submit":"Save"})]})]})]})})})})]})})},_e=(s,a)=>{const{_id:c}=ee(),m=D(),{data:t,isLoading:y,refetch:u}=oe(String(c)),{addIteamMutation:x}=ce(),{refetch:l}=me({type:"through_cart"}),[g,v]=b.useState(null),[o,r]=b.useState(!1),[i,h]=b.useState({x:0,y:0}),f=t,k=f?.productVariant??[],[R,C]=b.useState(s||""),[S,N]=b.useState(a||"");b.useEffect(()=>{(k.length>0||s)&&C(s||k[0]._id)},[k,s]);const P=b.useMemo(()=>k.find(d=>d._id===R),[R,k,s]);b.useEffect(()=>{if(P){const d=P.sizes||[];S?d.length>0&&!d.some(j=>j._id===S)&&N(d[0]?._id??""):N(a||(d[0]?._id??""))}},[P,a]);const z=d=>{C(d);const j=k.find(w=>w._id===d);j?.sizes?.length?N(j.sizes[0]._id):N(""),j?.images?.length&&v(j.images[0])},L=d=>{N(d)},A=d=>{const{left:j,top:w,width:M,height:n}=d.currentTarget.getBoundingClientRect(),p=(d.clientX-j)/M*100-20,_=(d.clientY-w)/n*100-20;h({x:p,y:_})},F=d=>{if(!H()){m("/login");return}x.mutate(d,{onSuccess:j=>{l();const{data:w}=j;if(w.type==="direct"){m(`/checkout?cart_id=${w._id}&&type=direct`);return}T.success("Item added to cart!")},onError:()=>{T.error("Failed to add item to cart.")}})},E=P?.images?.length?P.images:f?.images||["/placeholder.png"];return{product:f,isLoading:y,refetchProduct:u,selectedImg:g,setSelectedImg:v,zoom:o,setZoom:r,mousePos:i,handleMouseMove:A,selectedVariantId:R,selectedVariant:P,selectedSizeId:S,handleColorSelect:z,handleSizeSelect:L,handleAddtoCart:F,addIteamMutation:x,images:E}},$=({label:s,value:a})=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 py-1 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("div",{className:"text-sm text-gray-900 break-words",children:a??"—"})]}),ke=({manufacturingInfo:s,attributes:a=[],className:c=""})=>{const[m,t]=b.useState(!0),y=()=>!a||a.length===0?null:a.map(u=>{const x=Array.isArray(u.value)?u.value.join(", "):String(u.value);return e.jsx($,{label:u.name,value:x},u.name)});return e.jsxs("div",{className:`mt-4 rounded-lg bg-white border border-gray-200 shadow-sm overflow-hidden ${c}`,children:[e.jsxs("button",{type:"button",onClick:()=>t(u=>!u),"aria-expanded":m,className:"w-full px-4 py-2 flex items-center justify-between text-left bg-gray-50 hover:bg-gray-100 focus:outline-none transition-all duration-200",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Manufacturing Details"}),e.jsx("span",{className:"text-gray-600",children:m?"▾":"▸"})]}),m&&e.jsxs("div",{className:"px-4 py-3",children:[s?e.jsxs("div",{className:"bg-white p-2",children:[e.jsx($,{label:"Generic Name",value:s.genericName}),e.jsx($,{label:"Country of Origin",value:s.countryOfOrigin}),e.jsx($,{label:"Manufacturer",value:s.manufacturer?`${s.manufacturer.name}${s.manufacturer.address?`, ${s.manufacturer.address}`:""}${s.manufacturer.contact?` (${s.manufacturer.contact})`:""}`:"—"}),s.importer&&e.jsx($,{label:"Importer",value:`${s.importer.name}${s.importer.address?`, ${s.importer.address}`:""}${s.importer.contact?` (${s.importer.contact})`:""}`}),s.packer&&e.jsx($,{label:"Packer",value:`${s.packer.name}${s.packer.address?`, ${s.packer.address}`:""}${s.packer.contact?` (${s.packer.contact})`:""}`})]}):null,a&&a.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Technical Specifications"}),e.jsx("div",{className:"bg-white p-2",children:y()})]}),!s&&(!a||a.length===0)&&e.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"No specifications available for this product."})]})]})},Se=({label:s,value:a})=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 py-1 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("div",{className:"text-sm text-gray-900 break-words",children:a??"—"})]}),Pe=({attributes:s=[],productVariants:a=[],selectedVariantId:c,selectedSizeId:m,className:t=""})=>{const[y,u]=b.useState(!0),x=b.useMemo(()=>{const l=[];if(Array.isArray(s))for(const g of s)l.push({name:g.name,value:g.value});if(Array.isArray(a)&&a.length>0){const g=a.find(o=>o._id===c)??a[0],v=g?.sizes?.find(o=>o._id===m)??g?.sizes?.[0];if(v&&Array.isArray(v.attributes))for(const o of v.attributes){const r=l.find(i=>i.name===o.name);r?r.value=o.value:l.push({name:o.name,value:o.value})}}return l},[s,a,c,m]);return e.jsxs("div",{className:`mt-4 rounded-lg bg-white border border-gray-200 shadow-sm overflow-hidden ${t}`,children:[e.jsxs("button",{type:"button",onClick:()=>u(l=>!l),"aria-expanded":y,className:"w-full px-4 py-2 flex items-center justify-between text-left bg-gray-50 hover:bg-gray-100 focus:outline-none transition-all duration-200",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Specifications"}),e.jsx("span",{className:"text-gray-600",children:y?"▾":"▸"})]}),y&&e.jsx("div",{className:"px-4 py-3",children:x&&x.length>0?e.jsx("div",{className:"bg-white p-2",children:x.map(l=>{const g=Array.isArray(l.value)?l.value.join(", "):String(l.value);return e.jsx(Se,{label:l.name,value:g},l.name)})}):e.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"No specifications available for this product."})})]})},Ce=({data:s,isError:a,isLoading:c,product_id:m})=>{const{openModal:t,closeModal:y,isModalOpen:u}=U(),x=D(),[l,g]=se.useState(null),{mutate:v}=ve(),o=r=>{r&&l!==r&&(g(r),v(r,{onSettled:()=>{g(null)},onError:i=>{console.error("Failed to like rating:",i),alert("Failed to like the rating. Please try again.")}}))};return e.jsxs("div",{className:"mt-6",children:[e.jsx(Z,{title:"Review",component:e.jsx(ne,{buttons:[{label:"Add",colorClass:"bg-blue-500",onClick:()=>H()?t({isRating:!0}):x("/login")}]})}),c?e.jsx("p",{children:"Loading ratings..."}):a?e.jsx("p",{className:"text-red-500",children:"Failed to load ratings"}):s?.ratings?.length?e.jsx("div",{className:"space-y-4 mt-4 max-h-[40vh] custom-scroll",children:s?.ratings?.map(r=>e.jsxs("div",{className:"p-4 border rounded-md bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"font-medium",children:r.title||"Untitled"}),e.jsx("div",{className:"flex items-center text-yellow-400",children:Array.from({length:5}).map((i,h)=>e.jsx(ue,{size:16,fill:h<(r.rating??0)?"currentColor":"none"},h))})]}),e.jsx("div",{className:"text-sm text-gray-500",children:r.user?.name??"Anonymous"})]}),e.jsx("div",{className:"mt-2 text-gray-700",children:r.description??r.comment??""}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm text-gray-500",children:[e.jsx("div",{children:r.createdAt?new Date(r.createdAt).toLocaleDateString():""}),e.jsxs("button",{onClick:()=>o(r._id),disabled:l===r._id,className:"flex items-center gap-1 text-gray-600 hover:text-blue-600 transition",children:[e.jsx(he,{size:16,className:r.likes?.length?"text-blue-500":"text-gray-400"}),r.likes?.length??0]})]})]},r._id))}):e.jsx("p",{className:"text-gray-500",children:"No ratings yet. Be the first to review!"}),e.jsx(X,{show:u?.isRating||!1,handleClose:()=>y({isRating:!1}),isAdd:!0,productId:m})]})},Te=()=>{const[s]=te(),a=s.get("variant"),c=s.get("size"),{user:m}=ae(),{product:t,isLoading:y,refetchProduct:u,selectedImg:x,setSelectedImg:l,zoom:g,setZoom:v,mousePos:o,handleMouseMove:r,selectedVariantId:i,selectedVariant:h,selectedSizeId:f,handleColorSelect:k,handleSizeSelect:R,handleAddtoCart:C,addIteamMutation:S,images:N}=_e(a,c),{openModal:P,closeModal:z,isModalOpen:L}=U(),{data:A,isLoading:F,isError:E}=fe({productId:t?._id||""}),d=A?.ratings&&A?.ratings.length>0,{selectedPrice:j,originalPrice:w,discount:M}=b.useMemo(()=>{const n=h?.sizes.find(Y=>Y._id===f),p=n?.sell_price||0,_=n?.original_price||0,B=_?Math.round((_-p)/_*100):0;return{selectedPrice:p,originalPrice:_,discount:B}},[h,f]);return console.log(j,w,M,f,i,h),y?e.jsx(re,{}):t?e.jsx("div",{className:"p-2 sm:p-4 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8",children:[e.jsx("div",{className:"md:col-span-6 space-y-4 min-w-0",children:e.jsxs("div",{className:"md:sticky md:top-24 md:self-start",children:[e.jsx("div",{className:"md:hidden w-full overflow-x-auto flex gap-3 snap-x snap-mandatory",children:N.map((n,p)=>e.jsxs("div",{className:"relative w-full flex-shrink-0 h-64",children:[e.jsx("img",{src:n,alt:t.name||"Product image",className:"w-full max-w-full h-64 object-contain rounded-lg border border-gray-200 bg-white snap-center shadow-sm"}),e.jsx(K,{productId:t._id,variantId:i,isInWishlist:t.isInWishlist,className:"absolute top-2 right-2"})]},p))}),e.jsxs("div",{className:"hidden md:flex gap-4 min-w-0",children:[e.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto max-h-[70vh] pr-2 min-w-0",children:N.map((n,p)=>e.jsx("div",{className:`w-20 h-20 rounded-md border cursor-pointer transition-all ${x===n?"border-blue-600 ring-2 ring-blue-100 scale-105":"border-gray-200 hover:border-gray-300 hover:scale-105"}`,onClick:()=>l(n),children:e.jsx("img",{src:n,alt:`${t.name||"Product"} image ${p+1}`,className:"w-full h-full object-cover rounded-md"})},p))}),e.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-md min-w-0 max-w-full h-[50vh] md:h-[60vh] lg:h-[70vh]",children:[e.jsx(K,{productId:t._id,variantId:i,isInWishlist:t.isInWishlist,className:"absolute top-3 right-3 z-20"}),e.jsx("img",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onMouseMove:r,src:x||N[0],alt:t.name||"Product",className:"w-full h-full object-contain"})]})]}),f&&h&&e.jsxs("div",{className:"hidden md:flex gap-4 mt-2",children:[e.jsx("button",{disabled:S.isPending,onClick:()=>C({product_id:t._id,size_Id:f,variant_id:i,type:"through_cart"}),className:"flex-1 py-3 bg-yellow-400 hover:bg-yellow-500 rounded-lg font-semibold transition disabled:opacity-70",children:"Add to Cart"}),e.jsx("button",{disabled:S.isPending,onClick:()=>C({product_id:t._id,size_Id:f,variant_id:i,type:"direct"}),className:"flex-1 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition disabled:opacity-70",children:"Buy Now"})]})]})}),e.jsxs("div",{className:"md:col-span-6 flex flex-col space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 space-x-1",children:[e.jsx(q,{to:"/",className:"hover:underline text-gray-500",children:"Home"}),e.jsx("span",{children:"→"}),e.jsx(q,{to:"/product",className:"hover:underline text-gray-500",children:"Products"}),e.jsx("span",{children:"→"}),t.category?.name&&e.jsxs(e.Fragment,{children:[e.jsx(q,{to:`/products?category_id=${t.category._id}`,className:"hover:underline text-gray-500",children:t.category.name}),e.jsx("span",{children:"→"})]}),e.jsx("span",{className:"text-gray-800 font-medium",children:t.name})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[t.category?.name," • ",t.brand?.name]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-green-600 text-white px-1.5 py-0.5 rounded-sm font-semibold",children:[e.jsx("span",{children:t?.ratings?.average.toFixed(1)}),e.jsx("span",{className:"material-symbols-outlined text-xs ml-1",children:"star"})]}),e.jsxs("span",{className:"text-gray-500 font-medium",children:[t?.ratings?.count," Ratings"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-4xl font-bold text-green-700",children:["₹",j.toLocaleString("en-IN")]}),w>j&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xl line-through text-gray-500",children:["₹",w.toLocaleString("en-IN")]}),e.jsxs("span",{className:"bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:[M,"% off"]})]})]}),t.offers?.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Available offers"}),e.jsx("ul",{className:"text-xs space-y-1",children:t.offers.map((n,p)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600 text-lg",children:"✔"}),e.jsx("span",{children:n})]},p))}),t.offers.length>3&&e.jsxs("button",{className:"text-blue-600 text-xs mt-1",children:["View ",t.offers.length-3," more offers"]})]}),h&&h.sizes.length>0&&e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:(h.sizes[0].highlights||[]).map((n,p)=>e.jsx("li",{children:n},p))}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Color"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.productVariant.map(n=>e.jsx("button",{onClick:()=>k(n._id),className:`px-4 py-2 rounded-full border transition-all ${i===n._id?"border-blue-600 bg-blue-100 text-blue-800 shadow-sm":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"} text-sm font-medium`,children:n.color},n._id))})]}),h&&e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Size"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:h.sizes.map(n=>{const p=n.attributes.find(B=>B.name==="Storage"),_=p?p.value:null;return e.jsxs("button",{onClick:()=>R(n._id),className:`px-4 py-2 rounded-full border transition-all ${f===n._id?"border-green-600 bg-green-100 text-green-800 shadow-sm":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"} text-sm font-medium`,children:[n.size," ",_&&`/ ${_}`]},n._id)})})]}),e.jsx(Pe,{attributes:t.attributes,productVariants:t.productVariant,selectedVariantId:i,selectedSizeId:f}),e.jsx(ke,{manufacturingInfo:t.manufacturingInfo,attributes:t.attributes}),m&&!d&&e.jsx("button",{onClick:()=>P({isRating:!0}),className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition shadow-md",children:"Rate this product"}),e.jsx(Ce,{data:A,isError:E,isLoading:F,product_id:t._id})]})]}),g&&e.jsx("div",{className:"fixed right-24 top-28 z-50 w-[600px] h-[450px] overflow-hidden rounded-xl border-2 border-gray-200 bg-white shadow-md",children:e.jsx("img",{src:x||N[0],alt:"Zoomed view",className:"w-full h-full object-contain transition-transform duration-200 ease-out",style:{transform:`scale(2) translate(-${o.x}%, -${o.y}%)`,transformOrigin:`${o.x}% ${o.y}%`}})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-md flex md:hidden gap-3 p-3",children:[e.jsx("button",{disabled:S.isPending,onClick:()=>C({product_id:t._id,type:"through_cart",size_Id:f,variant_id:i}),className:"flex-1 py-3 bg-yellow-400 hover:bg-yellow-500 rounded-lg font-semibold transition disabled:opacity-70",children:"Add to Cart"}),e.jsx("button",{disabled:S.isPending,onClick:()=>C({product_id:t._id,type:"direct",size_Id:f,variant_id:i}),className:"flex-1 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition disabled:opacity-70",children:"Buy Now"})]}),e.jsx("div",{className:"mt-2",children:e.jsx(de,{category:t.category?._id,title:"Related Products",exclude:t._id,horizontal:!0})}),e.jsx(X,{show:L?.isRating||!1,handleClose:()=>z({isRating:!1}),isAdd:!0,productId:t._id,refetch:u})]})}):e.jsx("p",{className:"p-6 text-gray-700",children:"Product not found"})};export{Te as default};
