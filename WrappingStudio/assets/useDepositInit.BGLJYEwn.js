import{b as i,n as r}from"./index.CuO4JxmZ.js";import{u as o}from"./useMutation.BHH0QUaa.js";import{a as m}from"./queryToast.BPRLz0la.js";const y=async t=>(await r.post("https://api.unibcomp.co.in/api/v1/user/payment/pay",{payment_session_id:t})).data,l=async t=>(await i.post("/check/deposit",{payment_session_id:t})).data,w=async t=>(await r.put(`https://api.unibcomp.in/api/v1/user/deposit/update/${t}`)).data,z=async t=>(await i.post("/payment/update",t)).data,h=()=>{const t=o({mutationFn:y}),a=o({mutationFn:l}),e=o({mutationFn:w}),n=o({mutationFn:z});return{depositRequestMutation:t,depositProcessMutation:a,depositStatusUpdateMutation:e,depositUpdate2:n}},C=()=>{const{depositUpdate2:t}=h();return{openRazorpayCheckout:({key:e,order_id:n,amount:c,currency:u,customer:s})=>{if(!window.Razorpay){alert("Razorpay SDK not loaded properly.");return}const d={key:e,order_id:n,amount:c*100,currency:u||"INR",name:"UnibComp",description:"Order Payment",prefill:{name:s?.name||"",email:s?.email||"",contact:s?.contact||""},theme:{color:"#3399cc"},handler:function(p){t.mutate({order_id:n,status:"SUCCESS",payment_id:p.razorpay_payment_id,signature:p.razorpay_signature}),window.location.replace("/")},modal:{ondismiss:function(){t.mutate({order_id:n,status:"FAILED"},m(()=>window.location.replace("/")))}}};new window.Razorpay(d).open()}}};export{C as r,h as u};
