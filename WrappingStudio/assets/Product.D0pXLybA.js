import{e as A,d as O,r as V,j as s}from"./index.DNjfNSSq.js";import{b as q,c as H,F as R,d as D,S as G,P as I,C as J,e as K,f as Q,g as U}from"./ProductCardShimmer.CtfRRTI-.js";import{P as W}from"./PaginationSelecctor.voBL6c6h.js";import{u as X}from"./usePagination.D9hDaigN.js";import{N as Y}from"./NotDataFound.BslNDnCb.js";import{P as Z}from"./PageHeadline.XCm7RKpP.js";import{u as z}from"./useModal.C_NBhnnu.js";import{B as T}from"./ButtonBar.DLy0cKY-.js";import"./WishlistButton.B11Aasd0.js";import"./useMutation.C-meR6bg.js";import"./dialog.n9coetp8.js";import"./proxy.DssN4j3-.js";const xs=({category:a,subcategory:r,title:n,horizontal:e=!1,brand:p,showFilters:d=!1,isFullDetail:S=!1,exclude:u,productType:f})=>{const k=A(),[t]=O(),l=t.get("category"),o=t.get("subcategory"),c=t.get("slug"),i=t.get("brand"),N=t.get("exclude"),M=t.get("offer"),{openModal:P,closeModal:v,isModalOpen:j}=z(),{filters:m,setFilters:w,sorts:h,setSorts:C}=q(),{handlePageChange:F,handlePageSizeChange:$,pageNumber:g,pageSizeValue:b}=X(),{data:x,isLoading:_,isError:B}=H({category:l||a,subcategory:o||r,brand:i||p,pageNumber:g,pageSize:b,...m,slug:c?String(c):void 0,sort:h,exclude:N||u,productType:f,offer:M||void 0});V.useEffect(()=>{window.scrollTo(0,0)},[m,g]);const E=B||(x?.results?.length??0)<1&&!f;return s.jsxs("div",{className:`${!e&&"min-h-screen"} bg-white relative`,children:[s.jsxs("div",{className:d?"mx-auto sm:px-8 py-2 w-full h-auto md:flex md:gap-6":"mx-auto sm:px-8 py-2 grid grid-cols-1 md:grid-cols-4 gap-6 w-full h-auto",children:[d&&s.jsx("aside",{className:"hidden md:flex md:flex-col w-[260px] xl:w-[300px] md:sticky md:top-20 lg:top-32 space-y-4 self-start",children:s.jsx("div",{className:"space-y-4",children:_?s.jsxs(s.Fragment,{children:[s.jsx(R,{}),s.jsx("div",{className:"h-5 w-24 bg-gray-200 rounded shimmer"})]}):s.jsxs(s.Fragment,{children:[s.jsx(D,{filters:m,setFilters:w,category:l||a,subcategory:o||r,brand:i||p,slug:c||""}),s.jsx(G,{sort:h,setSort:C})]})})}),s.jsx("div",{className:d?"md:col-span-3":"md:col-span-4",children:_?s.jsx("div",{className:e?"flex space-x-4 pb-2":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:Array.from({length:e?4:8}).map((y,L)=>s.jsx("div",{className:e?"w-[300px] flex-shrink-0":"",children:s.jsx(I,{isFullDetail:S})},L))}):E?s.jsx(Y,{}):s.jsxs("main",{className:`col-span-1 ${d?"md:col-span-3":"md:col-span-4"}`,children:[n&&e&&s.jsx(Z,{title:n,component:f?null:s.jsx(T,{buttons:[{label:"View All",onClick:()=>{const y=[a?`category=${a}`:"",u?`exclude=${u}`:""].filter(Boolean).join("&");k(`/product${y?`?${y}`:""}`)},colorClass:"bg-blue-600 text-white hover:bg-blue-700"}]})}),s.jsx(ss,{data:x?.results||[],horizontal:e,isFullDetail:S}),e?s.jsx(J,{handlePageChange:F,currentPage:g,pageSize:b,totalCount:x?.pagination?.total||0}):s.jsx(W,{handlePageChange:F,handlePageSizeChange:$,currentPage:g,pageSize:b,totalCount:x?.pagination?.total||0})]})})]}),d&&s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white shadow-lg border-t border-gray-200 flex justify-between items-center px-4 py-3",children:s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"flex-1 mr-2 bg-gray-100 text-gray-800 font-semibold py-2 rounded-md flex items-center justify-center gap-1",onClick:()=>P({isSort:!0}),children:[s.jsx("span",{className:"material-symbols-outlined",children:"sort"})," Sort"]}),s.jsxs("button",{className:"flex-1 bg-gray-100 text-gray-800 font-semibold py-2 rounded-md flex items-center justify-center gap-1",onClick:()=>P({isFilter:!0},{}),children:[s.jsx("span",{className:"material-symbols-outlined",children:"filter_list"})," Filter"]})]})}),s.jsx(K,{show:j?.isFilter||!1,handleClose:()=>{v({isFilter:!1})},filters:m,setFilters:w,category:l||a,subcategory:o||r,brand:i||p,slug:c||""},j?.isFilter+""),s.jsx(Q,{show:j.isSort||!1,setSort:C,sort:h,handleClose:()=>v({isSort:!1})})]},[l||"",o||"",i||""].join("-"))},ss=({data:a,horizontal:r=!1,isFullDetail:n=!1})=>s.jsx("div",{className:r?"flex custom-scroll space-x-4 pb-2":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:a.map(e=>s.jsx("div",{className:r?"w-[300px] flex-shrink-0":"",children:s.jsx(U,{product:e,isFullDetail:n})},e?._id))});export{xs as default};
