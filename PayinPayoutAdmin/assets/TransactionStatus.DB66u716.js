import{o as h,r as x,j as e,m as i,i as f,L as j,N as y}from"./index.BxzDvWKe.js";import{b as N}from"./useTransaction.B9oZOgSw.js";const T=()=>{const{transaction_id:s}=h(),[t,r]=x.useState(""),[l,c]=x.useState(""),{data:d,isLoading:u,isError:p}=N({searchQuery:l}),n=d==null?void 0:d.result;x.useEffect(()=>{s&&(c(s),r(s))},[s]);const g=o=>{o.preventDefault(),t.trim()&&c(t)},b=!n&&!u;return e.jsx(i.div,{className:"bg-gradient-to-br from-slate-50 to-indigo-50 shadow-lg rounded-2xl p-6 min-h-[80vh] flex flex-col",variants:f,initial:"hidden",animate:"visible",children:b?e.jsxs(i.div,{className:"flex flex-col items-center justify-center flex-1 text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500 bg-clip-text text-transparent drop-shadow-md",children:"Track Your Transaction by TXN ID, UTR, Payment Ref, or Order ID"}),e.jsxs(i.form,{onSubmit:g,className:"w-full max-w-lg bg-white p-4 rounded-xl shadow-lg border border-gray-200 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:t,onChange:o=>r(o.target.value),className:`flex-1 border border-gray-300 rounded-lg px-4 py-2 text-gray-700\r
        focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow`}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-md hover:shadow-lg",children:"Search"})]}),l&&e.jsxs(i.p,{className:"mt-6 text-lg text-gray-800",children:["Searching for:"," ",e.jsx("span",{className:"bg-yellow-300 text-gray-900 px-3 py-1 rounded-md shadow-sm font-semibold",children:l})]})]}):u?e.jsx(j,{}):p||!n?e.jsx(y,{message:l?`No transaction found for this Transaction ID "${l}"`:"Please enter a Transaction ID"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 border-b pb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-700",children:"Transaction Status"}),e.jsxs("form",{onSubmit:g,className:"flex gap-2 w-full md:w-auto",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:t,onChange:o=>r(o.target.value),className:"flex-1 md:flex-none border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]})]}),e.jsx(v,{transaction:n})]})})},v=({transaction:s})=>e.jsxs(i.div,{className:"max-w-5xl mx-auto bg-white shadow-md rounded-xl p-6 mt-6 border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 border-b pb-3 gap-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-indigo-700 break-all",children:["Transaction ID: ",s.transaction_id]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold uppercase tracking-wide ${s.status==="SUCCESS"?"bg-green-100 text-green-700":s.status==="PENDING"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5 text-sm text-gray-800",children:[e.jsx(a,{label:"Type",value:s.type}),e.jsx(a,{label:"Amount",value:`₹${s.amount.toFixed(2)}`}),e.jsx(a,{label:"Payable Amount",value:`₹${s.payBaleAmount.toFixed(2)}`}),e.jsx(a,{label:"Tax Amount",value:`₹${s.taxAmount.toFixed(2)}`}),e.jsx(a,{label:"Created At",value:s.createdAt}),s.completedAt&&e.jsx(a,{label:"Completed At",value:s.completedAt}),s.method&&e.jsx(a,{label:"Method",value:s.method}),s.utr&&e.jsx(a,{label:"UTR",value:s.utr}),s.remark&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remark:"}),e.jsx("p",{className:"text-gray-800 mt-1 break-words",children:s.remark})]})]}),s.userInformation&&typeof s.userInformation=="object"&&e.jsx(m,{label:"User Information",data:s.userInformation}),s.tax&&typeof s.tax=="object"&&e.jsx(m,{label:"Tax Breakdown",data:s.tax}),s.payerDetails&&typeof s.payerDetails=="object"&&Object.keys(s.payerDetails).length>0&&e.jsx(m,{label:"Payer Details",data:s.payerDetails})]}),a=({label:s,value:t})=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[s,":"]}),e.jsx("div",{className:"text-gray-800 break-all",children:t})]}),m=({label:s,data:t})=>e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:s}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(t).map(([r,l])=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[r.charAt(0).toUpperCase()+r.slice(1),":"]}),e.jsx("div",{className:"text-gray-800 break-words",children:String(l)})]},r))})]});export{T as TransactionStatusPage,T as default};
