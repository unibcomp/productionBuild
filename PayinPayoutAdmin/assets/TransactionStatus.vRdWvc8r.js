import{p as h,r as n,j as e,m as o,i as f,L as j,N as y}from"./index.huOq2yLe.js";import{b as N}from"./useTransaction.CHl5rBLO.js";const T=()=>{const{transaction_id:s}=h(),[l,a]=n.useState(""),[r,c]=n.useState(""),{data:i,isLoading:u,isError:p}=N({searchQuery:r}),x=i==null?void 0:i.result;n.useEffect(()=>{s&&(c(s),a(s))},[s]);const g=d=>{d.preventDefault(),l.trim()&&c(l)},b=!x&&!u;return e.jsx(o.div,{className:"bg-gradient-to-br from-slate-50 to-indigo-50 shadow-lg rounded-2xl p-6 min-h-[80vh] flex flex-col",variants:f,initial:"hidden",animate:"visible",children:b?e.jsxs(o.div,{className:"flex flex-col items-center justify-center flex-1 text-center",children:[e.jsx("h1",{className:"text-3xl font-extrabold mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500 bg-clip-text text-transparent drop-shadow-md",children:"Track Your Transaction by TXN ID, UTR, Payment Ref, or Order ID"}),e.jsxs(o.form,{onSubmit:g,className:"w-full max-w-lg bg-white p-4 rounded-xl shadow-lg border border-gray-200 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:l,onChange:d=>a(d.target.value),className:`flex-1 border border-gray-300 rounded-lg px-4 py-2 text-gray-700
        focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow`}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-md hover:shadow-lg",children:"Search"})]}),r&&e.jsxs(o.p,{className:"mt-6 text-lg text-gray-800",children:["Searching for:"," ",e.jsx("span",{className:"bg-yellow-300 text-gray-900 px-3 py-1 rounded-md shadow-sm font-semibold",children:r})]})]}):u?e.jsx(j,{}):p||!x?e.jsx(y,{message:r?`No transaction found for this Transaction ID "${r}"`:"Please enter a Transaction ID"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 border-b pb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-700",children:"Transaction Status"}),e.jsxs("form",{onSubmit:g,className:"flex gap-2 w-full md:w-auto",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:l,onChange:d=>a(d.target.value),className:"flex-1 md:flex-none border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]})]}),e.jsx(v,{transaction:x})]})})},v=({transaction:s})=>e.jsxs(o.div,{className:"max-w-5xl mx-auto bg-white shadow-md rounded-xl p-6 mt-6 border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 border-b pb-3 gap-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-indigo-700 break-all",children:["Transaction ID: ",s.transaction_id]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold uppercase tracking-wide ${s.status==="SUCCESS"?"bg-green-100 text-green-700":s.status==="PENDING"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5 text-sm text-gray-800",children:[e.jsx(t,{label:"Type",value:s.type||""}),e.jsx(t,{label:"Amount",value:`₹${(s.amount??0).toFixed(2)}`}),e.jsx(t,{label:"Payable Amount",value:`₹${(s.payBaleAmount??0).toFixed(2)}`}),e.jsx(t,{label:"Tax Amount",value:`₹${(s.taxAmount??0).toFixed(2)}`}),e.jsx(t,{label:"Created At",value:s.createdAt}),s.completedAt&&e.jsx(t,{label:"Completed At",value:s==null?void 0:s.completedAt}),s.method&&e.jsx(t,{label:"Method",value:s==null?void 0:s.method}),s.utr&&e.jsx(t,{label:"UTR",value:s==null?void 0:s.utr}),s.remark&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remark:"}),e.jsx("p",{className:"text-gray-800 mt-1 break-words",children:s==null?void 0:s.remark})]})]}),s.userInformation&&typeof s.userInformation=="object"&&e.jsx(m,{label:"User Information",data:s.userInformation}),s.tax&&typeof s.tax=="object"&&e.jsx(m,{label:"Tax Breakdown",data:s.tax}),s.payerDetails&&typeof s.payerDetails=="object"&&Object.keys(s.payerDetails).length>0&&e.jsx(m,{label:"Payer Details",data:s.payerDetails})]}),t=({label:s,value:l})=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[s,":"]}),e.jsx("div",{className:"text-gray-800 break-all",children:l})]}),m=({label:s,data:l})=>e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:s}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(l).map(([a,r])=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[a.charAt(0).toUpperCase()+a.slice(1),":"]}),e.jsx("div",{className:"text-gray-800 break-words",children:String(r)})]},a))})]});export{T as TransactionStatusPage,T as default};
