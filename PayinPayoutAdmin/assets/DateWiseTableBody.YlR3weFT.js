import{l as i,j as a,m as d,i as o,k as h}from"./index.Cnj62l4G.js";import{u}from"./permission.DEkHML4Y.js";const j=({data:t,openModal:r,type:l,status:n})=>{const{user:e}=i(),{manualPendingPayin:x}=u();return a.jsx("tbody",{className:"custom-scroll",children:t.map((s,c)=>a.jsxs(d.tr,{className:"hover:bg-gray-50 transition-all duration-150",variants:o,initial:"hidden",animate:"visible",custom:c,children:[a.jsx("td",{className:"px-4 py-3 font-bold",children:c+1}),a.jsx("td",{className:"px-4 py-3",children:(s==null?void 0:s.full_name)||"N/A"}),a.jsx("td",{className:"px-4 py-3",children:(s==null?void 0:s.mobile)||"N/A"}),(e==null?void 0:e.role.toUpperCase())==="SUPERADMIN"&&a.jsxs("td",{className:"px-4 py-3",children:[(s==null?void 0:s.reseller_name)||"N/A"," "]}),a.jsx("td",{className:"px-4 py-3",children:s.amount}),l==="Pay-In"&&a.jsx("td",{className:"px-4 py-3",children:s.paymentMode}),a.jsx("td",{className:"px-4 py-3",children:s==null?void 0:s.method}),a.jsx("td",{className:"px-4 py-3",children:s.utr}),l==="Pay-In"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3",children:(s==null?void 0:s.payReference)||"-"}),a.jsx("td",{className:"text-center",children:s.depositFileUrl&&a.jsx("a",{href:s==null?void 0:s.depositFileUrl,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:s==null?void 0:s.depositFileUrl,alt:"Deposit Image",className:"max-w-[100px] max-h-[100px] object-cover rounded-md mx-auto"})})}),a.jsx("td",{className:"px-4 py-3 text-nowrap",children:s.settled_status?"Yes":"no"}),a.jsx("td",{className:"px-4 py-3 text-nowrap",children:s.settledDate||"N/A"})]}),a.jsx("td",{className:"px-4 py-3",children:s.transaction_id}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
      ${s.status==="SUCCESS"?"bg-green-100 text-green-700":""}
      ${s.status==="FAILED"?"bg-red-100 text-red-700":""}
      ${s.status==="PENDING"?"bg-yellow-100 text-yellow-700":""}`,children:s.status})}),a.jsx("td",{className:"px-4 py-3 text-nowrap",children:s.initiatedAt}),a.jsx("td",{className:"px-4 py-3 text-nowrap",children:s.completedAt}),a.jsxs("td",{className:"px-4 py-3 text-center",children:[l==="Pay-In"&&["PENDING"].includes(s==null?void 0:s.status)&&s.ActionAPPLICABLE&&x.write&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex justify-center gap-2 items-center",children:[a.jsx("button",{className:"text-green-600 hover:underline cursor-pointer",onClick:()=>r==null?void 0:r({confirm:!0},{id:s.id,status:"SUCCESS"}),"aria-label":`Approve Deposit for ${s.transaction_id}`,children:a.jsx("span",{className:"material-symbols-outlined",children:"check"})}),a.jsx("button",{className:"text-red-600 hover:underline cursor-pointer",onClick:()=>r==null?void 0:r({confirm:!0},{id:s.id,status:"FAILED"}),"aria-label":`Reject Deposit for ${s.transaction_id}`,children:a.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})}),l==="Pay-In"&&["PENDING","PROCESSING","FAILED","INITIATED"].includes(s==null?void 0:s.status)&&(e==null?void 0:e.role)==="SUPERADMIN"&&a.jsxs("button",{className:"hover:cursor-pointer hover:text-blue-900 flex flex-col",onClick:()=>{r==null||r({isMannualUpdateDeposit:!0},{transaction_id:s.transaction_id,amount:s.amount,payRef:s.payReference,payMethod:s.method})},children:[a.jsx("span",{className:"material-symbols-outlined",children:"update"}),a.jsx("span",{children:"Deposit"})]}),(n==null?void 0:n.toLowerCase())==="success"&&a.jsx("div",{children:a.jsxs("td",{className:"flex gap-2",children:[a.jsxs("button",{className:"hover:cursor-pointer hover:text-blue-900 flex flex-col",onClick:()=>{r==null||r({isTaxDetails:!0},{transaction_id:s.transaction_id,...l&&{type:l}})},children:[a.jsx("span",{className:"material-symbols-outlined",children:"visibility"}),a.jsx("span",{children:"Tax"})]}),a.jsxs(h,{className:"hover:cursor-pointer hover:text-blue-900 flex flex-col",to:`/transaction/status/${s.transaction_id}`,children:[a.jsx("span",{className:"material-symbols-outlined",children:"visibility"}),a.jsx("span",{children:"Details"})]}),(e==null?void 0:e.role)==="SUPERADMIN"&&a.jsxs("button",{className:"hover:cursor-pointer hover:text-blue-900 flex flex-col",onClick:()=>{r==null||r({isUtr:!0},{transaction_id:s.transaction_id,...l&&{type:l}})},children:[a.jsx("span",{className:"material-symbols-outlined",children:"update"}),a.jsx("span",{children:"update"})]})]})}),l==="Pay-In"&&["FAILED"].includes(s==null?void 0:s.status)&&(e==null?void 0:e.role)==="SUPERADMIN"&&(s==null?void 0:s.isReverse)&&a.jsx("button",{className:"text-red-500 hover:text-red-800 cursor-pointer text-xl ml-5","aria-label":`Approve Deposit for ${s.transaction_id}`,onClick:()=>{r==null||r({confirm:!0},{transaction_id:s.transaction_id,isReverse:!0})},children:a.jsx("span",{className:"material-symbols-outlined",children:"settings_backup_restore"})})]})]},c))})};export{j as D};
