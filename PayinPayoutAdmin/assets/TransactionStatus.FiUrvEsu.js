import{o as p,r as m,j as e,m as o,f as h,L as b,N as y}from"./index.CI7cpV2y.js";import{b as f}from"./useTransaction.CymVtNn8.js";const w=()=>{const{transaction_id:a}=p(),[t,r]=m.useState(""),{data:l,isLoading:x,isError:u}=f({searchQuery:t}),n=l==null?void 0:l.result;m.useEffect(()=>{a&&r(a)},[a]);const c=i=>{i.preventDefault(),t.trim()},g=!n&&!x;return e.jsx(o.div,{className:"bg-gradient-to-br from-slate-50 to-indigo-50 shadow-lg rounded-2xl p-6 min-h-[80vh] flex flex-col",variants:h,initial:"hidden",animate:"visible",children:g?e.jsxs(o.div,{className:"flex flex-col items-center justify-center flex-1 text-center",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsx("h1",{className:"text-4xl font-extrabold mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500 bg-clip-text text-transparent drop-shadow-md",children:"Track Your Transaction"}),e.jsxs(o.form,{onSubmit:c,initial:{scale:.9,opacity:0,y:0},animate:{scale:1,opacity:1,y:[0,-6,0]},transition:{opacity:{duration:.3},scale:{duration:.3},y:{repeat:1/0,repeatType:"mirror",duration:2,ease:"easeInOut"}},className:"w-full max-w-lg bg-white p-4 rounded-xl shadow-lg border border-gray-200 flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:t,onChange:i=>r(i.target.value),className:`flex-1 border border-gray-300 rounded-lg px-4 py-2 text-gray-700
      focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-70 transition-shadow`}),e.jsx("button",{type:"submit",className:`px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700
      transition-colors shadow-md hover:shadow-lg`,children:"Search"})]}),t&&e.jsxs(o.p,{className:"mt-6 text-lg text-gray-800",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:["Searching for:"," ",e.jsx("span",{className:"bg-yellow-300 text-gray-900 px-3 py-1 rounded-md shadow-sm font-semibold",children:t})]})]}):x?e.jsx(b,{}):u||!n?e.jsx(y,{message:t?`No transaction found for this Transaction ID "${t}"`:"Please enter a Transaction ID"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 border-b pb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-700",children:"Transaction Status"}),e.jsxs("form",{onSubmit:c,className:"flex gap-2 w-full md:w-auto",children:[e.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:t,onChange:i=>r(i.target.value),className:"flex-1 md:flex-none border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]})]}),e.jsx(j,{transaction:n})]})})},j=({transaction:a})=>e.jsxs(o.div,{className:"max-w-5xl mx-auto bg-white shadow-md rounded-xl p-6 mt-6 border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 border-b pb-3 gap-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-indigo-700 break-all",children:["Transaction ID: ",a.transaction_id]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold uppercase tracking-wide ${a.status==="SUCCESS"?"bg-green-100 text-green-700":a.status==="PENDING"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:a.status})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5 text-sm text-gray-800",children:[e.jsx(s,{label:"Type",value:a.type}),e.jsx(s,{label:"Amount",value:`₹${a.amount.toFixed(2)}`}),e.jsx(s,{label:"Payable Amount",value:`₹${a.payBaleAmount.toFixed(2)}`}),e.jsx(s,{label:"Tax Amount",value:`₹${a.taxAmount.toFixed(2)}`}),e.jsx(s,{label:"Created At",value:a.createdAt}),a.completedAt&&e.jsx(s,{label:"Completed At",value:a.completedAt}),a.method&&e.jsx(s,{label:"Method",value:a.method}),a.utr&&e.jsx(s,{label:"UTR",value:a.utr}),a.remark&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Remark:"}),e.jsx("p",{className:"text-gray-800 mt-1 break-words",children:a.remark})]})]}),a.userInformation&&typeof a.userInformation=="object"&&e.jsx(d,{label:"User Information",data:a.userInformation}),a.tax&&typeof a.tax=="object"&&e.jsx(d,{label:"Tax Breakdown",data:a.tax}),a.payerDetails&&typeof a.payerDetails=="object"&&Object.keys(a.payerDetails).length>0&&e.jsx(d,{label:"Payer Details",data:a.payerDetails})]}),s=({label:a,value:t})=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[a,":"]}),e.jsx("div",{className:"text-gray-800 break-all",children:t})]}),d=({label:a,data:t})=>e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:a}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(t).map(([r,l])=>e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-600",children:[r.charAt(0).toUpperCase()+r.slice(1),":"]}),e.jsx("div",{className:"text-gray-800 break-words",children:String(l)})]},r))})]});export{w as TransactionStatusPage,w as default};
