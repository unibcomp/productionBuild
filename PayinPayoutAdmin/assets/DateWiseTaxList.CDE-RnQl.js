import{e as i,j as s,b as g,o as u,c as j,m as c,f as N,P as m,S as w,L as C,N as S,g as b}from"./index.BqcJufwq.js";import{a as A}from"./useCompanyResellerTaxCount.Ct3Kp8Hf.js";const P=({data:n})=>{const{user:r}=i();return r?s.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150",children:[s.jsx("td",{className:"px-4 py-3 text-nowrap",children:t+1}),s.jsx("td",{className:"px-4 py-3 text-nowrap capitalize",children:(e==null?void 0:e.full_name)||"N/A"}),s.jsx("td",{className:"px-4 py-3 text-nowrap",children:e==null?void 0:e.mobile}),r.role==="SUPERADMIN"&&s.jsx("td",{className:"px-4 py-3 text-nowrap",children:(e==null?void 0:e.reseller_name)||"N/A"}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e.totalAmount.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e.totalCharges.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e.companyCharges.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e.gstAmount.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e.resellerCharges.toFixed(2)]}),s.jsxs("td",{className:"px-4 py-3 text-nowrap",children:["₹",e!=null&&e.resellerGstAmount?e==null?void 0:e.resellerGstAmount.toFixed(2):"-"]})]},`${e.mobile}-${t}`))}):null},z=()=>{var p;const{handlePageChange:n,handlePageSizeChange:r,pageNumber:e,pageSizeValue:t}=g(),{user:l}=i();if(!l)return null;const{date:d,type:h}=u(),{data:a,isError:o,isLoading:x}=A({date:d,type:h,pageNumber:e,pageSize:t}),{setSearchQuery:y}=j();return s.jsxs(c.div,{className:"bg-white shadow-lg rounded-2xl",variants:N,initial:"hidden",animate:"visible",children:[s.jsx(m,{title:"Reseller And Company Count List",searchComponent:s.jsx(s.Fragment,{children:s.jsx(w,{handlePageSizeChange:r,pageSizeOptions:[10,20,30],pageSize:t,setSearchQuery:y})})}),s.jsxs("div",{className:"custom-scroll h-[72vh] overflow-auto",children:[s.jsxs("table",{className:"min-w-full text-sm text-left text-gray-700",children:[s.jsx("thead",{className:"bg-gray-100 border-b text-xs uppercase text-gray-500 sticky top-0 z-40",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"S.N"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Mobile"}),l.role==="SUPERADMIN"&&s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Reseller Name"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Action Amount"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Total Charges"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Gateway Charges"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Gateway Gst"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Company Charges"}),s.jsx("th",{className:"px-4 py-3 text-nowrap",children:"Company GST"})]})}),!o&&(a==null?void 0:a.results)&&((p=a==null?void 0:a.results)==null?void 0:p.length)!=0&&!x&&s.jsx(P,{data:a.results})]}),x?s.jsx(C,{}):(o||(a==null?void 0:a.results.length)===0)&&s.jsx(S,{})]}),s.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:s.jsx(b,{currentPage:e,handlePageChange:n,pageSize:t,handlePageSizeChange:r,totalCount:(a==null?void 0:a.pagination.total)||1})})]})};export{z as default};
