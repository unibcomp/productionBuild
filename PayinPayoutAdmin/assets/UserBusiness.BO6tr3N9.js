import{f as p,g as b,e as f,j as e,L as j,m as n,c as y,P as w,N}from"./index.2s6Ut4HN.js";const v=async a=>{if(!a)throw new Error("User ID is required");const i=await b.get("/user/business/fetch/",{params:{user_id:a}});if(!i.data.success)throw new Error(i.data.error||"Failed to fetch business data");return i.data.data},D=a=>p({queryKey:["businessData",a],queryFn:()=>v(a),enabled:!!a,refetchOnWindowFocus:!1}),d=a=>/\.pdf$/i.test(a),m=a=>/\.(jpeg|jpg|png|gif|bmp|webp)$/i.test(a),g=a=>/\.(mp4|webm|ogg|mov)$/i.test(a),E=()=>{const{user_id:a}=f(),{data:i,isLoading:x,isError:h}=D(a||"");if(!a)return e.jsx("div",{className:"text-center text-red-500 py-10",children:"Missing user ID."});if(x)return e.jsx(j,{h:"100"});const r=i,o=s=>s.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,t=>t.toUpperCase()),l=Object.keys(r||{}).filter(s=>typeof r[s]=="string"&&(m(r[s])||g(r[s])||d(r[s]))),u=Object.entries(r||{}).filter(([s,t])=>!l.includes(s)&&typeof t!="object"&&t!==null&&t!==""&&s!=="kycActionById"),c=l.map(s=>[s,r[s]]);return e.jsxs(n.div,{className:"bg-white rounded-2xl shadow-xl min-h-screen",variants:y,initial:"hidden",animate:"visible",children:[e.jsx(w,{title:"Business Details"}),e.jsxs("div",{className:"p-4 sm:p-6 overflow-auto max-h-[72vh] custom-scroll",children:[h&&e.jsx(e.Fragment,{children:e.jsx(N,{})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(([s,t])=>e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/30 backdrop-blur-lg border border-blue-200 rounded-xl p-4 shadow-lg hover:shadow-2xl transition-all duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:o(s)}),e.jsx("span",{className:"material-symbols-outlined text-gray-400 text-lg",children:"info"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-800 break-words",children:Array.isArray(t)?t.join(", "):String(t)})]},s))}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mt-6 mb-2",children:"Documents & Media"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(([s,t])=>e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-xl border border-blue-200 shadow-lg p-3 bg-gradient-to-br from-white to-blue-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:o(s)}),e.jsx("span",{className:"material-symbols-outlined text-gray-400 text-lg",children:"attach_file"})]}),e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:m(t)?e.jsx("img",{src:t,alt:s,className:"rounded-lg w-full h-48 object-cover hover:scale-105 transition-transform duration-200"}):g(t)?e.jsx("video",{src:t,controls:!0,className:"rounded-lg w-full h-48 object-cover"}):d(t)?e.jsx("iframe",{src:t,title:s,className:"rounded-lg w-full h-48 border"}):null})]},s))})]})]})]})};export{E as default};
