import{g,j as e,m as o,e as j,u as y,b,r as N,c as v,P as w,S as P,L as f,N as h,d as C}from"./index.CV2AEKHB.js";import{u as S}from"./useTicket.Cd8Vud2B.js";const k=({data:s,STATUS:r})=>{const n=g();return e.jsx("tbody",{className:"custom-scroll",children:s.map((i,a)=>e.jsxs(o.tr,{className:"hover:bg-gray-50 transition-all duration-150",variants:j,initial:"hidden",animate:"visible",custom:a,children:[e.jsx("td",{className:"px-4 py-3 w-1/12 text-center",children:a+1}),e.jsx("td",{className:"px-4 py-3 w-5/12 text-center",children:i.date}),e.jsx("td",{className:"px-4 py-3 w-3/12 text-center",children:i.count}),e.jsx("td",{className:"px-4 py-3 w-3/12 text-right",children:e.jsx("button",{className:"text-blue-600 hover:underline cursor-pointer",onClick:()=>n(`/ticket/${r}/${i.date}/`),"aria-label":"view",children:e.jsx("span",{className:"material-symbols-outlined",children:"visibility "})})})]},a))})},L=({STATUS:s})=>{var d;const{handlePageChange:r,handlePageSizeChange:n,pageNumber:i,pageSizeValue:a}=y(),{setSearchQuery:u}=b(),[c,p]=N.useState(),{isLoading:l,isError:x,data:t}=S({status:s==="All"?"":s==="Success"?"RESOLVED":s.toUpperCase(),type:c,pageNumber:i,pageSize:a},!0);return e.jsxs(o.div,{className:"bg-white shadow-lg rounded-2xl",variants:v,initial:"hidden",animate:"visible",children:[e.jsx(w,{title:`${s} Ticket Count`,searchComponent:e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(P,{handlePageSizeChange:n,pageSizeOptions:[10,20,30],pageSize:a,setSearchQuery:u})})})}),e.jsxs("div",{className:"custom-scroll h-[72vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-50 border-b bg-transparent",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800"}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("select",{value:c,onChange:m=>p(m.target.value),className:"px-4 py-3 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 transition-all",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"PAY_IN",children:"Pay-In"}),e.jsx("option",{value:"PAY_OUT",children:"Pay-Out"})]})})]}),e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-700 table-fixed",children:[e.jsx("thead",{className:"bg-gray-100 border-b text-xs uppercase text-gray-500 sticky top-0 z-40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 w-1/12 text-center",children:"S.N"}),e.jsx("th",{className:"px-4 py-3 w-5/12 text-center",children:"Date"}),e.jsx("th",{className:"px-4 py-3 w-3/12 text-center",children:"Count"}),e.jsx("th",{className:"px-4 py-3 w-3/12 text-right",children:"Action"})]})}),!l&&!x&&(t==null?void 0:t.results)&&t.results.length>0&&e.jsx(k,{data:t.results||[],STATUS:s,TYPE:c})]}),l&&e.jsx(f,{}),!l&&(!(t!=null&&t.results)||t.results.length===0)&&e.jsx(h,{}),x&&!l&&e.jsx(h,{})]}),e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:e.jsx(C,{currentPage:i,handlePageChange:r,pageSize:a,handlePageSizeChange:n,totalCount:((d=t==null?void 0:t.pagination)==null?void 0:d.total)||0})})]})};export{L as default};
