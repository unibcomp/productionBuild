import{e as h,r as n,j as s,m as d,c as f,L as j,N as y}from"./index.2s6Ut4HN.js";import{b as w}from"./useTransaction.Cn___kFT.js";const k=()=>{const{transaction_id:e}=h(),[l,a]=n.useState(""),[r,g]=n.useState(""),{data:x,isLoading:c,isError:b}=w({searchQuery:r}),m=x==null?void 0:x.result;n.useEffect(()=>{e&&(g(e),a(e))},[e]);const u=o=>{o.preventDefault(),l.trim()&&g(l)},p=!m&&!c;return s.jsx(d.div,{className:"bg-gradient-to-br from-slate-50 to-indigo-50 shadow-lg rounded-2xl p-6 min-h-[80vh] flex flex-col",variants:f,initial:"hidden",animate:"visible",children:p?s.jsxs(d.div,{className:"flex flex-col items-center justify-center flex-1 text-center",children:[s.jsx("h1",{className:"text-3xl font-extrabold mb-6 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-500 bg-clip-text text-transparent drop-shadow-md",children:"Track Your Transaction by TXN ID, UTR, Payment Ref, or Order ID"}),s.jsxs(d.form,{onSubmit:u,className:"w-full max-w-lg bg-white p-4 rounded-xl shadow-lg border border-gray-200 flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:l,onChange:o=>a(o.target.value),className:`flex-1 border border-gray-300 rounded-lg px-4 py-2 text-gray-700
        focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow`}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-md hover:shadow-lg",children:"Search"})]}),r&&s.jsxs(d.p,{className:"mt-6 text-lg text-gray-800",children:["Searching for:"," ",s.jsx("span",{className:"bg-yellow-300 text-gray-900 px-3 py-1 rounded-md shadow-sm font-semibold",children:r})]})]}):c?s.jsx(j,{}):b||!m?s.jsx(y,{message:r?`No transaction found for this Transaction ID "${r}"`:"Please enter a Transaction ID"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold text-indigo-700",children:"Transaction Status"}),s.jsxs("form",{onSubmit:u,className:"flex gap-2 w-full md:w-auto",children:[s.jsx("input",{type:"text",placeholder:"Enter Transaction ID...",value:l,onChange:o=>a(o.target.value),className:"flex-1 md:flex-none border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"}),s.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]})]}),s.jsx(N,{transaction:m})]})})},N=({transaction:e})=>s.jsxs(d.div,{className:"max-w-5xl mx-auto bg-white shadow-md rounded-xl p-6 mt-6 border border-gray-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 border-b pb-3 gap-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-indigo-700 break-all",children:["Transaction ID: ",e.transaction_id]}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold uppercase tracking-wide ${e.status==="SUCCESS"?"bg-green-100 text-green-700":e.status==="PENDING"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5 text-sm text-gray-800",children:[s.jsx(t,{label:"Type",value:e.type||""}),s.jsx(t,{label:"Amount",value:`₹${(e.amount??0).toFixed(2)}`}),s.jsx(t,{label:"Payable Amount",value:`₹${(e.payBaleAmount??0).toFixed(2)}`}),s.jsx(t,{label:"Tax Amount",value:`₹${(e.taxAmount??0).toFixed(2)}`}),s.jsx(t,{label:"Created At",value:e.createdAt}),e.completedAt&&s.jsx(t,{label:"Completed At",value:e==null?void 0:e.completedAt}),e.method&&s.jsx(t,{label:"Method",value:e==null?void 0:e.method}),e.utr&&s.jsx(t,{label:"UTR",value:e==null?void 0:e.utr}),e.remark&&s.jsxs("div",{className:"col-span-full",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Remark:"}),s.jsx("p",{className:"text-gray-800 mt-1 break-words",children:e==null?void 0:e.remark})]})]}),e.userInformation&&typeof e.userInformation=="object"&&s.jsx(i,{label:"User Information",data:e.userInformation}),e.tax&&typeof e.tax=="object"&&s.jsx(i,{label:"Tax Breakdown",data:e.tax}),e.payerDetails&&typeof e.payerDetails=="object"&&Object.keys(e.payerDetails).length>0&&s.jsx(i,{label:"Payer Details",data:e.payerDetails}),e.webHooksLogs&&typeof e.webHooksLogs=="object"&&s.jsx(i,{label:"Webhook Logs",data:{id:e.webHooksLogs.id,source:e.webHooksLogs.source,createdAt:e.webHooksLogs.createdAt,...e.webHooksLogs.payload}})]}),t=({label:e,value:l})=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600",children:[e,":"]}),s.jsx("div",{className:"text-gray-800 break-all",children:l})]}),i=({label:e,data:l})=>s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:e}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(l).map(([a,r])=>s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600",children:[a.charAt(0).toUpperCase()+a.slice(1),":"]}),s.jsx("div",{className:"text-gray-800 break-words",children:String(r)})]},a))})]});export{k as TransactionStatusPage,k as default};
