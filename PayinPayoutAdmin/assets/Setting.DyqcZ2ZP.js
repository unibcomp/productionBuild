import{l as w,r as f,V as b,j as e,m as o,f as v,P as S,p as B,O as h}from"./index.BQuySKhI.js";import{u as E}from"./useSetting.D4PDM03O.js";const q=()=>{var c,u,m,g,p,x;const{createOrUpdate:r,getSetting:t}=E(),{register:n,handleSubmit:j,control:d,reset:y,formState:{errors:a}}=w({defaultValues:{deposit:((c=t.data)==null?void 0:c.results.deposit)||!1,withdraw:((u=t.data)==null?void 0:u.results.withdraw)||!1,projectName:((m=t.data)==null?void 0:m.results.projectName)||"",copyTradingFee:((g=t.data)==null?void 0:g.results.copyTradingFee)||0,depositBonus:((p=t.data)==null?void 0:p.results.depositBonus)||0,signupBonus:((x=t.data)==null?void 0:x.results.signupBonus)||0}});f.useEffect(()=>{var s;(s=t.data)!=null&&s.results&&y(t.data.results)},[t.data]);const N=s=>{var l;r.mutate({_id:(l=t.data)==null?void 0:l.results._id,data:s})};return f.useEffect(()=>{var s;if(r.isSuccess)b.success("Updated SuccessFully");else if(r.isError){const i=(s=r.error.response)==null?void 0:s.data;b.error((i==null?void 0:i.error)||(i==null?void 0:i.message))}},[r.isError,r.isSuccess]),e.jsx(e.Fragment,{children:e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},variants:v,className:"min-h-full",children:[e.jsx("div",{className:"sticky top-0 z-40",children:e.jsx(S,{title:"Setting",searchComponent:e.jsx(e.Fragment,{})})}),e.jsx(o.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:" flex items-center justify-center   bg-gradient-to-br from-slate-100 to-white px-4  custom-scroll min-h-[82vh] overflow-auto",variants:B,children:e.jsxs("div",{className:"w-full max-w-3xl bg-white/90 backdrop-blur-sm border border-gray-200 shadow-xl rounded-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),e.jsx("p",{className:"text-gray-500",children:"Update your platform configuration"})]}),e.jsxs("form",{onSubmit:j(N),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Project Name"}),e.jsx("input",{type:"text",placeholder:"Enter project Name",...n("projectName",{required:"Project name is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),a.projectName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.projectName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Copy Trading Fee"}),e.jsx("input",{type:"text",placeholder:"Enter copy trading fee",...n("copyTradingFee",{required:"Copy trading fee is required",pattern:{value:/^[0-9]+$/,message:"Only numbers allowed"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),a.copyTradingFee&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.copyTradingFee.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Deposit Bonus (%)"}),e.jsx("input",{type:"text",placeholder:"Enter deposit bonus",...n("depositBonus",{required:"Deposit bonus is required",pattern:{value:/^[0-9]+$/,message:"Only numbers allowed"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),a.depositBonus&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.depositBonus.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Signup Bonus (â‚¹)"}),e.jsx("input",{type:"text",placeholder:"Enter signup bonus",...n("signupBonus",{required:"Signup bonus is required",pattern:{value:/^[0-9]+$/,message:"Only numbers allowed"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),a.signupBonus&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.signupBonus.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Enable Deposit"}),e.jsx(h,{name:"deposit",control:d,render:({field:s})=>e.jsx("button",{type:"button",onClick:()=>s.onChange(!s.value),className:`w-10 h-5 flex items-center rounded-full p-1 transition-colors duration-300 ${s.value?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transform transition-transform ${s.value?"translate-x-5":"translate-x-0"}`})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Enable Withdraw"}),e.jsx(h,{name:"withdraw",control:d,render:({field:s})=>e.jsx("button",{type:"button",onClick:()=>s.onChange(!s.value),className:`w-10 h-5 flex items-center rounded-full p-1 transition-colors duration-300 ${s.value?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transform transition-transform ${s.value?"translate-x-5":"translate-x-0"}`})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Upload Logo"}),e.jsx("input",{type:"file",...n("file"),className:"w-full px-4 py-2 border border-gray-300 rounded-md file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 focus:outline-none"}),a.file&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.file.message})]}),e.jsx(o.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r.isPending,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-md transition",children:r.isPending?"Saving...":"Save"})]})]})})]})})};export{q as default};
