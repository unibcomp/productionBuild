import{r as p,j as e,s as j}from"./index.BExXVMiE.js";import{u as f,a as N}from"./useCreateProduct.kU-is9Fx.js";import{u as b,P as y}from"./usePagination.BKxWHthg.js";const S=()=>{const[t,i]=p.useState(""),{data:n,isLoading:o,isError:d}=f(),c=!0,{data:a,isLoading:m,isError:x}=N(t,c),{pageNumber:r,pageSizeValue:l,handlePageChange:u,handlePageSizeChange:g}=b();return o||m?e.jsx(j,{}):d?e.jsx("div",{className:"p-4 text-red-500",children:"Failed to load categories."}):x?e.jsx("div",{className:"p-4 text-red-500",children:"Failed to load subcategories."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Subcategory Management"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{className:"text-sm font-medium mr-2 whitespace-nowrap",children:"Filter by Category:"}),e.jsxs("select",{value:t,onChange:s=>i(s.target.value),className:"border rounded-md p-2 w-full md:w-64 focus:outline-none focus:ring focus:ring-pink-500",children:[e.jsx("option",{value:"",children:"All Categories"}),n?.results?.map(s=>e.jsx("option",{value:s._id,children:s.name},s._id))]})]})]}),!a?.results||a.results.length===0?e.jsx("p",{children:"No subcategories found."}):e.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[400px] rounded-lg shadow-sm custom-scrollbar",children:e.jsxs("table",{className:"min-w-full text-sm bg-white rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-medium",children:"S.No"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Image"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Name"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Active"})]})}),e.jsx("tbody",{children:a.results.map((s,h)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3",children:(r-1)*l+(h+1)}),e.jsx("td",{className:"p-3",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-12 h-12 object-cover rounded-md border"}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center text-gray-500 text-xs",children:"No Image"})}),e.jsx("td",{className:"p-3",children:s.name}),e.jsx("td",{className:"p-3",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.isActive,readOnly:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 rounded-full peer-checked:bg-green-500 transition-all relative",children:e.jsx("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transform peer-checked:translate-x-5 transition"})})]})})]},s._id))})]})}),a?.pagination&&e.jsx(y,{currentPage:r,handlePageChange:u,pageSize:l,handlePageSizeChange:g,totalCount:a.pagination.total||0})]})};export{S as default};
