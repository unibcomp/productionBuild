import{d as q,r as n,k as y,j as e,z as r}from"./index.Cj5zF2mn.js";import{u as T,A as j,a as b}from"./useAuth.zwfCSner.js";import{B as U}from"./box.Cg_RwJs2.js";import{T as E}from"./truck.DL6uhKvR.js";import{C as _}from"./credit-card.DuGvAvRn.js";import{U as I}from"./users.D5dS0PSP.js";import"./iconBase.CTTDl8hl.js";const L=()=>{const m=q(),{signup:N,isSigningUp:u,verifyOtp:w,isVerifyingOtp:x}=T(),[t,f]=n.useState(1),[S,v]=n.useState(""),[o,P]=n.useState(!1),[c,z]=n.useState(!1),{register:d,handleSubmit:g,formState:{errors:a}}=y(),{register:p,handleSubmit:C,formState:{errors:i}}=y(),A=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,O=/^[6-9]\d{9}$/,h=async l=>{try{const s=await N(l);if(!s?.data?._id){r.error("Signup failed: Vendor ID missing");return}v(s.data._id),r.success("Signup successful! OTP sent."),f(2)}catch(s){r.error(s?.message||"Signup failed")}},k=async l=>{if(l.password!==l.confirm_password){r.error("Passwords do not match");return}try{const s=await w({...l,vendor_id:S});s.success?(r.success("Vendor registration completed!"),m("/dashboard")):r.error(s.error||"OTP verification failed")}catch(s){r.error(s?.message||"OTP verification failed")}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[e.jsx("div",{className:"w-full md:w-1/2 flex items-start justify-center pt-10 px-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white shadow-xl rounded-3xl p-10 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:"Vendor Sign Up"}),e.jsxs("form",{onSubmit:t===1?g(h):C(k),className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Full Name",...d("name",{required:"Name is required"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:t===2}),a.name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.name.message}),e.jsx("input",{type:"email",placeholder:"Email",...d("email",{required:"Email is required",pattern:{value:A,message:"Invalid email address"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:t===2}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email.message}),e.jsx("input",{type:"text",placeholder:"Phone",...d("phone",{pattern:{value:O,message:"Invalid phone number"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:t===2}),a.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:a.phone.message}),t===1&&e.jsx("button",{type:"button",onClick:g(h),disabled:u,className:"w-full bg-purple-700 text-white py-3 rounded-2xl hover:bg-purple-800 transition font-medium",children:u?"Signing Up...":"Next"}),t===2&&e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsx("input",{type:"text",placeholder:"Enter OTP",...p("otp",{required:"OTP is required"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.otp&&e.jsx("p",{className:"text-red-500 text-sm",children:i.otp.message}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",placeholder:"Password",...p("password",{required:"Password is required",minLength:{value:6,message:"Min 6 characters"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 pr-10"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>P(!o),children:o?e.jsx(j,{size:20}):e.jsx(b,{size:20})})]}),i.password&&e.jsx("p",{className:"text-red-500 text-sm",children:i.password.message}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",placeholder:"Confirm Password",...p("confirm_password",{required:"Confirm your password"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 pr-10"}),e.jsx("span",{className:"absolute right-3 top-3 cursor-pointer text-gray-500",onClick:()=>z(!c),children:c?e.jsx(j,{size:20}):e.jsx(b,{size:20})})]}),i.confirm_password&&e.jsx("p",{className:"text-red-500 text-sm",children:i.confirm_password.message}),e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>f(1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-2xl hover:bg-gray-400 transition font-medium",children:"Back"}),e.jsx("button",{type:"submit",disabled:x,className:"flex-1 bg-green-600 text-white py-3 rounded-2xl hover:bg-green-700 transition font-medium",children:x?"Verifying...":"Submit"})]})]})]}),e.jsx("div",{className:"text-center mt-2",children:e.jsx("button",{onClick:()=>m("/signin"),className:"text-sm text-purple-700 hover:underline",children:"Already have an account? Sign In"})})]})}),e.jsxs("div",{className:"hidden md:flex w-1/2 bg-purple-100 p-10 flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-purple-800 mb-6",children:"Grow your business faster by selling on Unibcomp"}),e.jsxs("ul",{className:"space-y-3 text-gray-700 text-lg",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(U,{size:20,className:"text-purple-700"})," List unlimited products"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(E,{size:20,className:"text-purple-700"})," Easy shipping with fast delivery"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(_,{size:20,className:"text-purple-700"})," Secure & timely payments"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(I,{size:20,className:"text-purple-700"})," Access to 1000+ customers"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"All you need to sell on Unibcomp:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600",children:[e.jsx("li",{children:"Tax Details (GST)"}),e.jsx("li",{children:"Bank Account"}),e.jsx("li",{children:"Business Documents"})]})]})]})]})};export{L as default};
