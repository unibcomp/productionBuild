import{d as p,e as j,B as b,r as g,j as e,t as w}from"./index.BNJSppEy.js";const N=a=>p({queryKey:["product-variant",a],queryFn:async()=>(console.log("Fetching product variants for:",a),(await j.get(`/get-product-variant?product_id=${a}`)).data),enabled:!!a}),y=()=>{const{productId:a}=b(),{data:o,isLoading:x}=N(a),[m,u]=g.useState({});if(x)return e.jsx(w,{});const n=o?.results||[];return n.length===0?e.jsx("p",{className:"text-center mt-10 text-gray-500",children:"No variants available"}):e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-10 space-y-12",children:n.map((t,c)=>{const d=Array.from(new Set(t.sizes.flatMap(s=>s.attributes.map(r=>r.name)))),i=m[c]||t.images?.[0]||"";return e.jsxs("div",{className:"bg-white shadow-lg rounded-3xl p-8 transition hover:shadow-xl",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-3",children:[t.color.charAt(0).toUpperCase()+t.color.slice(1)," Variant"]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-10",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full max-w-md aspect-square rounded-2xl overflow-hidden shadow-md",children:e.jsx("img",{src:i,alt:t.color,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),e.jsx("div",{className:"flex gap-3 mt-5 overflow-x-auto pb-2 w-full justify-center",children:t.images.map((s,r)=>e.jsx("button",{onClick:()=>u(l=>({...l,[c]:s})),className:`flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden border-2 transition 
                        ${i===s?"border-blue-600 scale-105":"border-gray-200 hover:border-gray-400"}`,children:e.jsx("img",{src:s,alt:`${t.color}-${r}`,className:"w-full h-full object-cover"})},r))})]}),e.jsx("div",{className:"flex-1 w-full overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 text-sm rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:[d.map(s=>e.jsx("th",{className:"p-3 text-left whitespace-nowrap",children:s},s)),e.jsx("th",{className:"p-3 text-left",children:"Price"}),e.jsx("th",{className:"p-3 text-left",children:"Stock"})]})}),e.jsx("tbody",{children:t.sizes.map((s,r)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[d.map(l=>{const h=s.attributes.find(f=>f.name===l);return e.jsx("td",{className:"p-3",children:h?.value??"-"},l)}),e.jsxs("td",{className:"p-3 font-medium text-blue-600",children:["â‚¹",s.sell_price]}),e.jsx("td",{className:`p-3 font-medium ${s.stock>0?"text-green-600":"text-red-500"}`,children:s.stock>0?s.stock:"Out of Stock"})]},r))})]})})]})]},c)})})};export{y as default};
