import{j as e,k as N,h as g}from"./index.saRe6un4.js";import{u as y,a as w,b as v}from"./useDomain.DBbHUt9K.js";import{u as C,P as D}from"./usePagination.B4OasDjR.js";import{u as S}from"./useModal.D92FPtk9.js";import{P as _,S as P}from"./square-pen.wa_EbDi0.js";import{m as b}from"./proxy.CGF8wzVI.js";const k=({isOpen:t,onClose:i,onSubmit:o,defaultValues:s})=>{if(!t)return null;const n=r=>{r.preventDefault();const l=new FormData(r.target);o({domain:l.get("domain"),seller_domain:l.get("seller_domain")})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("form",{onSubmit:n,className:"bg-white p-6 rounded-lg w-96 space-y-4 shadow-xl",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:s?"Edit Domain":"Create Domain"}),e.jsx("input",{name:"domain",placeholder:"Domain",defaultValue:s?.domain,required:!0,className:"w-full p-2 border rounded"}),e.jsx("input",{name:"seller_domain",placeholder:"Seller Domain",defaultValue:s?.seller_domain,required:!0,className:"w-full p-2 border rounded"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-gray-400 rounded",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:s?"Update":"Create"})]})]})})},z=({checked:t,onChange:i})=>e.jsx("button",{onClick:i,className:`relative inline-flex items-center h-6 w-12 rounded-full transition 
      ${t?"bg-green-500":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 bg-white rounded-full shadow transform transition 
        ${t?"translate-x-6":"translate-x-1"}`})}),O=()=>{const{pageNumber:t,pageSizeValue:i,handlePageChange:o,handlePageSizeChange:s}=C(),{data:n,isLoading:r,isError:l}=y(),j=w(),m=v(),{data:d,isModalOpen:c,openModal:u,closeModal:p}=S(),f=a=>{d?._id?m.mutate({id:d._id,...a}):j.mutate(a),p({isCreate:!1,isUpdate:!1})};if(r)return e.jsx(N,{});if(l)return e.jsx("div",{className:"p-4 text-red-500",children:"Error loading domains."});const x=n?.results||[];return e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"All Domains"}),e.jsxs("button",{onClick:()=>u({isCreate:!0}),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md shadow-sm transition",children:[e.jsx(_,{size:18})," Add Domain"]})]}),x.length===0?e.jsx("p",{children:"No domains found"}):e.jsx(b.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.35},className:"overflow-x-auto rounded-lg shadow-sm border",children:e.jsxs("table",{className:"min-w-full text-sm bg-white",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-medium",children:"S.No"}),e.jsx("th",{className:"p-3 font-medium",children:"Domain"}),e.jsx("th",{className:"p-3 font-medium",children:"Seller Domain"}),e.jsx("th",{className:"p-3 font-medium text-center",children:"Status"}),e.jsx("th",{className:"p-3 font-medium text-center",children:"Update"})]})}),e.jsx("tbody",{children:x.map((a,h)=>e.jsxs(b.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:h*.05},className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:h+1}),e.jsx("td",{className:"p-3",children:a.domain}),e.jsx("td",{className:"p-3",children:a.seller_domain}),e.jsx("td",{className:"p-3 text-center",children:e.jsx(z,{checked:a.status==="active",onChange:()=>m.mutate({id:a._id,status:a.status==="active"?"inactive":"active"})})}),e.jsxs("td",{className:"p-3 text-center flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>u({isUpdate:!0},a),className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:e.jsx(P,{size:16})}),e.jsx(g,{to:`/category/${a._id}`,className:"px-3 py-2 bg-amber-500 text-white rounded-md hover:bg-amber-600 transition",children:"Category"}),e.jsx(g,{to:`/carousel/${a._id}`,className:"px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition",children:"Carousel"})]})]},a._id))})]})}),n?.pagination?.total&&e.jsx(D,{currentPage:t,handlePageChange:o,pageSize:i,handlePageSizeChange:s,totalCount:n.pagination.total}),e.jsx(k,{isOpen:c.isCreate||c.isUpdate||!1,onClose:()=>p({isCreate:!1,isUpdate:!1}),onSubmit:f,defaultValues:d||void 0})]})};export{O as default};
