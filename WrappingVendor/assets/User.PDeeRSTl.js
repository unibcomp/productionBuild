import{u as m,a as h,j as e}from"./index.7FpDpqUK.js";import{u as p,P as j}from"./usePagination.CM3a4RtK.js";import{L as N}from"./loader-circle.DfsLURcC.js";import{U as u}from"./users.B4fqXUNz.js";const g=(t,r)=>m({queryKey:["user",t,r],queryFn:async()=>(await h.get(`/userList?pageNumber=${t}&pageSize=${r}`)).data});function w(){const{startItem:t,handlePageChange:r,handlePageSizeChange:l,pageNumber:i,pageSizeValue:n}=p(),{data:a,isLoading:c,isError:d,isFetching:x}=g(i,n);return c||x?e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx(N,{className:"animate-spin w-6 h-6 text-gray-500"}),e.jsx("span",{className:"ml-2",children:"Loading Users List..."})]}):d?e.jsx("div",{className:"text-center text-red-500 mt-6",children:"Failed to load user data."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(u,{className:"w-6 h-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Users List"})]}),e.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-2xl",children:e.jsxs("table",{className:"min-w-full border text-left",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"S.No"}),e.jsx("th",{className:"py-3 px-4",children:"Full Name"}),e.jsx("th",{className:"py-3 px-4",children:"Email"}),e.jsx("th",{className:"py-3 px-4",children:"Mobile"}),e.jsx("th",{className:"py-3 px-4",children:"Role"}),e.jsx("th",{className:"py-3 px-4",children:"Joined"}),e.jsx("th",{className:"py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:a?.users?.length?a.users.map((s,o)=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-2 px-4",children:t+o}),e.jsx("td",{className:"py-2 px-4",children:s.fullName}),e.jsx("td",{className:"py-2 px-4",children:s.email}),e.jsx("td",{className:"py-2 px-4",children:s.mobile||"-"}),e.jsx("td",{className:"py-2 px-4",children:s.role}),e.jsx("td",{className:"py-2 px-4",children:new Date(s.createdAt).toLocaleDateString("en-IN")}),e.jsx("td",{className:"py-2 px-4",children:s.isVerified?e.jsx("span",{className:"px-2 py-1 rounded-full bg-green-100 text-green-800 text-xs",children:"Verified"}):e.jsx("span",{className:"px-2 py-1 rounded-full bg-red-100 text-red-800 text-xs",children:"Unverified"})})]},s._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-4 text-center text-gray-500",children:"No users found"})})})]})}),a?.totalUsers&&a.totalUsers>0&&e.jsx("div",{className:"mt-4",children:e.jsx(j,{currentPage:i,handlePageChange:r,pageSize:n,handlePageSizeChange:l,totalCount:a.totalUsers||0})})]})}export{w as default};
