import{q as o,i as m,v as x,j as e,p as h}from"./index.Cj5zF2mn.js";const u=a=>o({queryKey:["product-variant",a],queryFn:async()=>(console.log("Fetching product variants for:",a),(await m.get(`/get-product-variant?product_id=${a}`)).data),enabled:!!a}),j=()=>{const{productId:a}=x(),{data:l,isLoading:n}=u(a);if(n)return e.jsx(h,{});const t=l?.results?.[0];if(!t)return e.jsx("p",{children:"No variant selected"});const c=Array.from(new Set(t.sizes.flatMap(s=>s.attributes.map(r=>r.name))));return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[e.jsx("div",{className:"flex gap-4",children:t.images.map((s,r)=>e.jsx("img",{src:s,alt:t.color,className:"w-32 h-32 object-cover rounded"},r))}),e.jsxs("div",{className:"bg-white shadow rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-3",children:["Variants for ",t.color]}),e.jsxs("table",{className:"w-full border border-gray-200 text-sm rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-gray-700",children:[c.map(s=>e.jsx("th",{className:"p-3 text-left",children:s},s)),e.jsx("th",{className:"p-3 text-left",children:"Price"}),e.jsx("th",{className:"p-3 text-left",children:"Stock"})]})}),e.jsx("tbody",{children:t.sizes.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[c.map(r=>{const i=s.attributes.find(d=>d.name===r);return e.jsx("td",{className:"p-3",children:i?.value??"-"},r)}),e.jsx("td",{className:"p-3",children:s.sell_price}),e.jsx("td",{className:"p-3",children:s.stock})]},s._id))})]})]})]})};export{j as default};
