import{f as E,r as i,m as y,j as e,z as n,o as O,e as T,q as U}from"./index.Cu82lF0A.js";import{u as I,A as j,a as b}from"./useAuth.KwCxC29Z.js";import{B}from"./box.BOKecGjq.js";import{T as V}from"./truck.dHhlBr6X.js";import{C as _}from"./credit-card.FkeiohZb.js";import{U as F}from"./users.DdqyKVnx.js";import"./iconBase.Dd-ep6-J.js";const M=()=>{const m=E(),{signup:N,isSigningUp:p,verifyOtp:w,isVerifyingOtp:x}=I(),[r,g]=i.useState(1),[S,v]=i.useState(""),[l,k]=i.useState(!1),[o,q]=i.useState(!1),{register:d,handleSubmit:f,formState:{errors:t}}=y(),{register:c,handleSubmit:z,formState:{errors:a}}=y(),C=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,P=/^[6-9]\d{9}$/,h=async u=>{await N(u,{onSuccess:s=>{n.success(s?.data?.message||"OTP sent successfully"),v(s.data._id),g(2)},onError:s=>{n.error(s?.response?.data?.error||s?.response?.data?.error||"Something Went Wrong")}})},A=async u=>{await w({...u,vendor_id:S},{onSuccess:async s=>{s?.data?.token&&(O.set("accessToken",s.data.token,{expires:1}),T.defaults.headers.common.Authorization=`Bearer ${s.data.token}`,await U.invalidateQueries({queryKey:["admin-details"]})),m("/dashboard"),n.success(s?.message||"OTP Verified Successfully")},onError:s=>{n.error(s?.data?.error||s?.data?.message||"Internal Server Error")}})};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[e.jsx("div",{className:"w-full md:w-1/2 flex items-start justify-center pt-10 px-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white shadow-xl rounded-3xl p-10 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:"Vendor Sign Up"}),e.jsxs("form",{onSubmit:r===1?f(h):z(A),className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Full Name",...d("name",{required:"Name is required"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:r===2}),t.name&&e.jsx("p",{className:"text-red-500 text-sm",children:t.name.message}),e.jsx("input",{type:"email",placeholder:"Email",...d("email",{required:"Email is required",pattern:{value:C,message:"Invalid email address"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:r===2}),t.email&&e.jsx("p",{className:"text-red-500 text-sm",children:t.email.message}),e.jsx("input",{type:"text",placeholder:"Phone",...d("phone",{required:"phone is required",pattern:{value:P,message:"Invalid phone number"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500",readOnly:r===2}),t.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:t.phone.message}),r===1&&e.jsx("button",{type:"button",onClick:f(h),disabled:p,className:"w-full bg-purple-700 text-white py-3 rounded-2xl hover:bg-purple-800 transition font-medium",children:p?"Signing Up...":"Next"}),r===2&&e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsx("input",{type:"text",placeholder:"Enter OTP",...c("otp",{required:"OTP is required"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500"}),a.otp&&e.jsx("p",{className:"text-red-500 text-sm",children:a.otp.message}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",placeholder:"Password",...c("password",{required:"Password is required",minLength:{value:6,message:"Min 6 characters"}}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 pr-10"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer text-gray-500",onClick:()=>k(!l),children:l?e.jsx(j,{size:20}):e.jsx(b,{size:20})})]}),a.password&&e.jsx("p",{className:"text-red-500 text-sm",children:a.password.message}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",placeholder:"Confirm Password",...c("confirm_password",{required:"Confirm your password"}),className:"w-full border border-gray-300 p-4 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 pr-10"}),e.jsx("span",{className:"absolute right-3 top-3 cursor-pointer text-gray-500",onClick:()=>q(!o),children:o?e.jsx(j,{size:20}):e.jsx(b,{size:20})})]}),a.confirm_password&&e.jsx("p",{className:"text-red-500 text-sm",children:a.confirm_password.message}),e.jsxs("div",{className:"flex justify-between space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>g(1),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-2xl hover:bg-gray-400 transition font-medium",children:"Back"}),e.jsx("button",{type:"submit",disabled:x,className:"flex-1 bg-green-600 text-white py-3 rounded-2xl hover:bg-green-700 transition font-medium",children:x?"Verifying...":"Submit"})]})]})]}),e.jsx("div",{className:"text-center mt-2",children:e.jsx("button",{onClick:()=>m("/signin"),className:"text-sm text-purple-700 hover:underline",children:"Already have an account? Sign In"})})]})}),e.jsxs("div",{className:"hidden md:flex w-1/2 bg-purple-100 p-10 flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-purple-800 mb-6",children:"Grow your business faster by selling on Unibcomp"}),e.jsxs("ul",{className:"space-y-3 text-gray-700 text-lg",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(B,{size:20,className:"text-purple-700"})," List unlimited products"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(V,{size:20,className:"text-purple-700"})," Easy shipping with fast delivery"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(_,{size:20,className:"text-purple-700"})," Secure & timely payments"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(F,{size:20,className:"text-purple-700"})," Access to 1000+ customers"]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"All you need to sell on Unibcomp:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600",children:[e.jsx("li",{children:"Tax Details (GST)"}),e.jsx("li",{children:"Bank Account"}),e.jsx("li",{children:"Business Documents"})]})]})]})]})};export{M as default};
