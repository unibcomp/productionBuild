import{r as d,e as S,j as e,L as x,z as n}from"./index.iBcEEe4E.js";import{F as E}from"./index.DFFP-HtF.js";import{u as k}from"./unbcompY.4VGBDMNV.js";import{a as q,b as U}from"./useUser.W_j0GIyu.js";import{u as C}from"./index.esm.CSPHdcmw.js";import"./iconBase.CNvNnBMr.js";import"./useMutation.GV4_nnAS.js";const p=s=>s?typeof s=="string"?s:"message"in s&&typeof s.message=="string"?s.message:null:null,O=()=>{const[s,c]=d.useState(!1),[l,f]=d.useState(!1),[m,b]=d.useState(null),{register:a,handleSubmit:h,setError:i,clearErrors:u,formState:{errors:g}}=C(),y=S(),w=q(),j=U(),N=async r=>{if(!r.email&&!r.mobile){i("email",{type:"manual",message:"Email or Mobile is required"}),i("mobile",{type:"manual",message:"Email or Mobile is required"});return}u(["email","mobile"]),w.mutate(r,{onSuccess:o=>{n.success(o?.message||"User created successfully!"),b(o?.result?.id||null),c(!0)},onError:o=>{n.error(o?.response?.data?.message||o?.response?.data?.error||"Something went wrong!"),c(!1)}})},v=async r=>{if(!m){n.error("User not found. Please register again.");return}if(r.password!==r.confirmPassword){i("confirmPassword",{type:"manual",message:"Passwords do not match"});return}u("confirmPassword");const o={id:m,otp:r.otp,password:r.password,confirmPassword:r.confirmPassword};try{const t=await j.mutateAsync(o);n.success(t?.message||"Account verified successfully!"),y("/login")}catch(t){n.error(t?.response?.data?.message||t?.message||"Verification failed"),i("otp",{type:"manual",message:t?.response?.data?.message||"Verification failed"})}},P=()=>console.log("Google signup clicked");return e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://static.vecteezy.com/ti/photos-gratuite/t1/23309285-ai-generatif-commerce-electronique-en-ligne-achats-concept-livraison-concept-photo.jpg')"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative flex min-h-screen flex-col md:flex-row",children:[e.jsxs("div",{className:"hidden md:flex md:w-1/2 flex-col justify-center px-12 text-white z-10",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold mb-4 drop-shadow-lg",children:["Join ",e.jsx("span",{className:"text-orange-600",children:"Unibcomp"})," Today!"]}),e.jsxs("p",{className:"text-lg md:text-xl mb-6 drop-shadow-md",children:["Sign up and discover"," ",e.jsx("span",{className:"font-semibold",children:"amazing products"})]}),e.jsx(x,{to:"/login",className:"bg-orange-300 text-gray-900 font-semibold py-3 px-6 rounded-lg hover:bg-orange-700 transition transform hover:scale-105",children:"Already a member? Login"})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center z-10 p-8",children:e.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-9 w-[60%] max-w-[60%] transform hover:scale-[1.01] transition-all duration-300",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:k,alt:"Logo",className:"w-56 mx-auto mb-3"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-800",children:"Create Account"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sign up to start shopping"})]}),e.jsxs("form",{onSubmit:h(s?v:N),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Enter your full name",...a("fullName",{required:"Full Name is required"}),disabled:s,className:`w-full border px-4 py-3 rounded-lg focus:outline-none focus:ring-2 shadow-sm ${s?"bg-gray-100 border-gray-300":"border-gray-300 focus:ring-orange-500"}`}),p(g.fullName)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:p(g.fullName)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Mobile"}),e.jsx("input",{type:"text",placeholder:"Enter your mobile number",...a("mobile"),disabled:s,className:`w-full border px-4 py-3 rounded-lg focus:outline-none focus:ring-2 shadow-sm ${s?"bg-gray-100 border-gray-300":"border-gray-300 focus:ring-orange-500"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"Enter your email",...a("email"),disabled:s,className:`w-full border px-4 py-3 rounded-lg focus:outline-none focus:ring-2 shadow-sm ${s?"bg-gray-100 border-gray-300":"border-gray-300 focus:ring-orange-500"}`})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"OTP"}),e.jsx("input",{type:"text",placeholder:"Enter OTP",...a("otp",{required:"OTP is required"}),className:"w-full border border-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",placeholder:"Enter your password",...a("password",{required:"Password is required"}),className:"w-full border border-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 font-medium",onClick:()=>f(!l),children:l?"Hide":"Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Confirm Password"}),e.jsx("input",{type:l?"text":"password",placeholder:"Confirm your password",...a("confirmPassword",{required:"Confirm Password is required"}),className:"w-full border border-gray-300 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm"})]})]}),e.jsx("button",{type:"submit",className:`w-full ${s?"bg-green-600 hover:bg-green-700":"bg-orange-500 hover:bg-orange-600"} text-white py-3 rounded-lg font-semibold transition transform hover:scale-[1.02] shadow-md`,children:s?"Verify OTP":"Sign Up"})]}),e.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center gap-3 border border-gray-300 rounded-lg py-2.5 font-medium text-gray-700 hover:bg-orange-500 transition transform hover:scale-[1.02] mt-4",children:[e.jsx(E,{className:"text-xl"})," Continue with Google"]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Already have an account?"}),e.jsx(x,{to:"/login",className:"inline-block px-4 py-1 text-orange-600 font-medium text-sm rounded-full hover:bg-orange-100 hover:text-orange-800 transition",children:"Login?"})]})]})})]})]})};export{O as default};
