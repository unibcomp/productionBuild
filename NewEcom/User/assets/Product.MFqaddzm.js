import{a as R,b as D,r as u,e as te,j as e,h as se,L as re,n as H,d as ae}from"./index.iBcEEe4E.js";import{u as le}from"./useWishlist.lSxLkZ9Y.js";import{N as ie}from"./NotDataFound.od_pjo5P.js";import{K as F,h as P,P as oe}from"./dialog.Dole23pQ.js";import{u as ne}from"./useModal.CYjSKKl-.js";import{k as O,Q as de,i as L,R as M}from"./index.DoxR8w4p.js";import{A as E}from"./index.USpG9VB8.js";import{m as A}from"./proxy.ehZYG1RB.js";const ce=async t=>{const{data:s}=await D.get("/get-product",{params:t});return s},xe=async t=>{const{data:s}=await D.get(`/product-details/${t}`);return s},me=({category:t,subcategory:s,brand:a,_id:o,pageSize:m=10,pageNumber:l=1,sort:d,slug:r,exclude:x,search:h})=>{const i={pageSize:m,pageNumber:l,...t&&{category:t},...s&&{subcategory:s},...a&&{brand:a},...o&&{_id:o},...d&&{sort:d},...r&&{slug:r},...x&&{exclude:x},...h&&{search:h}};return R({queryKey:["products",i],queryFn:()=>ce(i)})},Le=t=>R({queryKey:["product",t],queryFn:()=>xe(t),enabled:!!t,staleTime:1e3*60*5}),he=({productId:t,variantId:s,isInWishlist:a,className:o="",size:m="md",variant:l="default"})=>{const[d,r]=u.useState(a),[x,h]=u.useState(!1),i=le(),g=te();u.useEffect(()=>{r(a)},[a]);const y=c=>{if(c.preventDefault(),c.stopPropagation(),!se())return g("/login");h(!0),setTimeout(()=>h(!1),600),r(b=>!b),i.mutate({productId:t,variantId:s})},p={sm:"p-1.5 w-8 h-8",md:"p-2 w-10 h-10",lg:"p-2.5 w-12 h-12"},f={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},n=()=>l==="minimal"?d?"bg-red-50 text-red-500 hover:bg-red-100 border border-red-200":"bg-gray-50 text-gray-400 hover:bg-gray-100 hover:text-red-400 border border-gray-200":l==="floating"?d?"bg-gradient-to-br from-red-500 to-pink-500 text-white shadow-xl hover:shadow-2xl border-2 border-red-400":"bg-white/95 backdrop-blur-md text-gray-600 shadow-lg hover:shadow-xl border-2 border-gray-200 hover:border-red-300":d?"bg-red-500 text-white shadow-lg hover:bg-red-600 border-2 border-red-500":"bg-white/90 backdrop-blur-sm text-gray-600 shadow-md hover:bg-secondary border-2 border-gray-200 hover:border-red-300";return e.jsxs("button",{onClick:y,disabled:i.isPending,className:`
        absolute top-2 right-2 
        ${p[m]}
        rounded-full 
        flex items-center justify-center
        transition-all duration-300 ease-out
        ${n()}
        ${x?"animate-bounce":""}
        ${i.isPending?"opacity-70 cursor-wait":"hover:scale-110 active:scale-95"}
        focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2
        disabled:cursor-not-allowed
        ${o}
      `,"aria-label":d?"Remove from wishlist":"Add to wishlist",title:d?"Remove from wishlist":"Add to wishlist",children:[e.jsx("svg",{className:`
          ${f[m]}
          transition-all duration-300
          ${d?"fill-current scale-100":"fill-none stroke-current stroke-2"}
          ${x?"scale-125":""}
        `,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",strokeLinecap:"round",strokeLinejoin:"round"})}),i.isPending&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full backdrop-blur-sm",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"})})]})},ue=({product:t,isFullDetail:s})=>{const a=t.variant?t.variant.images[0]:void 0,o=`/product/detail/${t._id}?variant=${t.variant?._id}&size=${t.variant?.size?._id}`,m=t.variant?.size&&t.variant?.size?.original_price>t.variant?.size?.sell_price?Math.round((t.variant.size.original_price-t.variant.size.sell_price)/t.variant.size.original_price*100):0;return e.jsxs("div",{className:"relative group h-full bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-slate-200",children:[e.jsx("div",{className:"absolute top-1 right-2 z-10",children:e.jsx(he,{productId:t._id,variantId:t.variant?._id,isInWishlist:t.isInWishlist})}),m>0&&e.jsxs("div",{className:"absolute top-2 left-2 z-10 bg-gradient-to-r from-orange-500 to-orange-600 text-white px-2 py-0.5 rounded-full text-xs font-bold shadow-lg",children:[m,"% OFF"]}),e.jsxs(re,{to:o,className:"w-full h-full flex items-center justify-center",children:[e.jsx("div",{className:"w-1/3 h-40 flex-shrink-0 bg-gradient-to-br from-slate-50 to-slate-100 rounded-l-xl overflow-hidden flex items-center justify-center",children:a?e.jsx("img",{src:a,alt:t.name,className:"max-w-full max-h-full object-contain transform transition-transform duration-500 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center rounded-lg text-slate-500 text-xs font-medium",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl block mb-1 text-slate-400",children:"image"}),"No Image"]})})}),e.jsxs("div",{className:"w-2/3 p-3 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-1 mb-2",children:e.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-wider bg-emerald-50 px-1 py-0.5 rounded-md",children:t.brand.name})}),e.jsx("h3",{className:"text-sm font-bold text-slate-800 line-clamp-2 leading-tight group-hover:text-orange-600 transition-colors mb-2",children:t.name})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-baseline gap-1 mb-1",children:[e.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["₹",Number(t.variant?.size?.sell_price).toFixed(0)]}),t.variant?.size&&t.variant?.size?.original_price>t.variant?.size?.sell_price&&e.jsxs("p",{className:"text-xs text-slate-400 line-through",children:["₹",Number(t.variant?.size?.original_price).toFixed(0)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-2 py-0.5 rounded-lg font-bold text-xs shadow-md",children:[e.jsx("span",{children:t?.ratings?.average.toFixed(1)}),e.jsx("span",{className:"material-symbols-outlined text-xs ml-0.5",children:"star"})]}),e.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:["(",t?.ratings?.count.toLocaleString(),")"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-1 pt-1 border-t border-slate-200 h-16 mb-2",children:s&&t.variant?.size?.highlights&&t.variant.size.highlights.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-1 uppercase tracking-wide",children:"Key Features"}),e.jsx("ul",{className:"space-y-0.5 text-xs text-slate-600",children:t.variant.size.highlights.slice(0,2).map((l,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"material-symbols-outlined text-orange-500 text-sm mr-1 mt-0.5 flex-shrink-0",children:"check_circle"}),e.jsx("span",{className:"line-clamp-1",children:l})]},d))})]}):e.jsx("div",{className:"h-full"})}),e.jsx("div",{className:"h-8 flex-shrink-0",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white text-center py-1.5 rounded-xl font-semibold text-xs opacity-0 group-hover:opacity-100 transform translate-y-1 group-hover:translate-y-0 transition-all duration-300 shadow-lg h-full flex items-center justify-center",children:"View Details"})})]})]})]})]})},w="...",ge=({currentPage:t,handlePageChange:s,pageSize:a,handlePageSizeChange:o,pageSizeOptions:m=[5,10,20,50,100,200],siblingCount:l=1,totalCount:d})=>{const r=u.useMemo(()=>Math.ceil(d/a),[d,a]),x=u.useMemo(()=>{if(l+5>=r)return Array.from({length:r},(c,b)=>b+1);const g=Math.max(t-l,1),y=Math.min(t+l,r),p=g>2,f=y<r-1;if(!p&&f)return[...Array.from({length:3+2*l},(b,v)=>v+1),w,r];if(p&&!f){const c=Array.from({length:3+2*l},(b,v)=>r-(3+2*l)+v+1);return[1,w,...c]}const n=Array.from({length:y-g+1},(c,b)=>g+b);return[1,w,...n,w,r]},[d,t,a,l,r]),h=u.useMemo(()=>r<=5?Array.from({length:r},(i,g)=>g+1):[1,2,3,w,r],[r]);return e.jsxs("div",{className:"bg-gray-100 text-gray-800 px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 rounded-b-xl shadow-sm border border-gray-300",children:[e.jsxs("div",{className:"sm:flex items-center gap-2 hidden",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Rows per page:"}),e.jsx("select",{value:a,onChange:i=>o(Number(i.target.value)),className:"bg-white text-sm text-gray-800 border border-gray-300 px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400",children:m.map(i=>e.jsx("option",{value:i,className:"bg-white text-gray-800",children:i},i))})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 flex-wrap justify-center",children:[e.jsx("button",{onClick:()=>s(t-1,r),disabled:t===1,className:"px-3 py-2 rounded-md text-sm border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Prev"}),x.map((i,g)=>i===w?e.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"..."},g):e.jsx("button",{onClick:()=>s(Number(i),r),className:`px-3 py-2 rounded-md text-sm border transition ${t===i?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 border-gray-300"}`,children:i},g)),e.jsx("button",{onClick:()=>s(t+1,r),disabled:t===r,className:"px-3 py-2 rounded-md text-sm border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]}),e.jsxs("div",{className:"flex sm:hidden items-center gap-1 flex-wrap justify-center w-full",children:[e.jsx("button",{onClick:()=>s(t-1,r),disabled:t===1,className:"px-2 py-1 rounded-md text-xs border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Prev"}),h.map((i,g)=>i===w?e.jsx("span",{className:"px-2 text-gray-400 text-xs",children:"..."},g):e.jsx("button",{onClick:()=>s(Number(i),r),className:`px-2 py-1 rounded-md text-xs border transition ${t===i?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 border-gray-300"}`,children:i},g)),e.jsx("button",{onClick:()=>s(t+1,r),disabled:t===r,className:"px-2 py-1 rounded-md text-xs border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]},t+a)},fe=()=>{const[t,s]=u.useState(1),[a,o]=u.useState(10);return{startItem:(t-1)*a+1,handlePageChange:(r,x)=>{r>=1&&r<=x&&r!==t&&s(r)},handlePageSizeChange:r=>{r>0&&r!==a&&o(r)},pageNumber:t,pageSizeValue:a}},be=()=>{const[t,s]=u.useState({}),[a,o]=u.useState("relevance");return{filters:t,setFilters:s,sorts:a,setSorts:o}},pe=async t=>{const{data:s}=await D.get("/filters",{params:t});return s},ye=({category:t="",subcategory:s=""})=>{const a={...t&&{category:t},...s&&{subcategory:s}};return R({queryKey:["filters"],queryFn:()=>pe(a),staleTime:300*1e3})},Q=({filters:t,setFilters:s,category:a,subcategory:o,handleClose:m})=>{const[l,d]=u.useState(t),[r,x]=u.useState({}),{data:h,isLoading:i}=ye({category:a,subcategory:o}),g=n=>{x(c=>({...c,[n]:!c[n]}))},y=(n,c)=>{c!==void 0&&d(b=>{const v=b[n]||[],z=v.includes(c)?v.filter(k=>k!==c):[...v,c];return{...b,[n]:z}})},p=()=>{d({})},f=Object.values(l).reduce((n,c)=>n+(Array.isArray(c)?c.length:0),0);return i?e.jsx(H,{isNotFixed:!0}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:e.jsx("div",{className:"p-4 space-y-2",children:h?.results?.length?e.jsx(e.Fragment,{children:h.results.map(n=>e.jsx(ve,{label:je(n.name),queryName:n.queryName,items:n.value||[],open:r[n.queryName]||!1,onToggle:()=>g(n.queryName),filters:l,onFilterToggle:y},n.queryName))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-300 mb-2",children:"filter_alt_off"}),e.jsx("p",{className:"text-sm text-text-muted",children:"No filters available"})]})})}),e.jsxs("div",{className:"sticky bottom-0 bg-surface border-t-2 border-gray-100 p-4 space-y-2",children:[f>0&&e.jsx("button",{className:"w-full py-2.5 bg-gray-100 text-text font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",onClick:p,children:"Clear All Filters"}),e.jsxs("button",{className:"w-full py-2.5 bg-gradient-to-r from-primary to-primary-dark text-white font-semibold rounded-lg hover:shadow-lg transition-all text-sm",onClick:()=>{s(l),m?.()},children:["Apply Filters ",f>0&&`(${f})`]})]})]})},ve=({label:t,queryName:s,items:a,open:o,onToggle:m,filters:l,onFilterToggle:d})=>{const r=l[s]?.length||0;return e.jsxs("div",{className:"border-2 border-gray-100 rounded-lg overflow-hidden",children:[e.jsxs("button",{className:"w-full flex justify-between items-center font-semibold px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",onClick:m,children:[e.jsxs("span",{className:"text-sm text-text flex items-center gap-2",children:[t,r>0&&e.jsx("span",{className:"bg-primary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:r})]}),o?e.jsx(O,{className:"text-text-muted transition-transform"}):e.jsx(de,{className:"text-text-muted transition-transform"})]}),o&&e.jsx("div",{className:"p-3 bg-white max-h-60 overflow-y-auto custom-scroll",children:e.jsx("div",{className:"space-y-2",children:a.map(x=>{const h=x._id||x.name||"",i=l[s]?.includes(h)||!1;return e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer group transition-colors",htmlFor:`${s}-${h}`,children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-2 focus:ring-primary/20 cursor-pointer",onChange:()=>d(s,h),checked:i,id:`${s}-${h}`}),e.jsx("span",{className:"text-sm text-text group-hover:text-primary transition-colors flex-1",children:x.name})]},h)})})})]})},je=t=>t.charAt(0).toUpperCase()+t.slice(1),U=({close:t,sort:s,setSort:a})=>{const o=[{label:"Relevance",value:"relevance"},{label:"Price: Low to High",value:"lowToHigh"},{label:"Price: High to Low",value:"highToLow"}],m=l=>{a(l),t?.()};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-text-muted px-1",children:"Choose how you want to sort products"}),e.jsx("div",{className:"space-y-2",children:o.map(l=>e.jsx("button",{onClick:()=>m(l.value),className:`w-full px-4 py-4 text-left rounded-xl text-sm font-medium transition-all border-2 ${s===l.value?"bg-gradient-to-r from-secondary to-secondary-dark text-white border-secondary shadow-lg scale-105":"text-text bg-white hover:bg-gray-50 border-gray-200 hover:border-secondary/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s===l.value?"border-white bg-white/20":"border-gray-300"}`,children:s===l.value&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),e.jsx("span",{children:l.label})]}),s===l.value&&e.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})]})},l.value))})]})},we=({show:t,filters:s,setFilters:a,handleClose:o,category:m,subcategory:l})=>e.jsx(F,{appear:!0,show:t,as:u.Fragment,children:e.jsxs(P,{as:"div",className:"relative z-50",onClose:o,children:[e.jsx(F.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx(F.Child,{as:u.Fragment,enter:"ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in-out duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsxs(P.Panel,{className:"pointer-events-auto absolute right-0 top-0 h-full w-80 bg-white shadow-xl overflow-y-auto flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsx("div",{className:"flex-1 p-4",children:e.jsx(Q,{filters:s,setFilters:a,category:m,subcategory:l,handleClose:o})})]})})})})]})}),Ne=({show:t,handleClose:s,sort:a,setSort:o})=>e.jsx(F,{appear:!0,show:t,as:u.Fragment,children:e.jsxs(P,{as:"div",className:"relative z-50",onClose:s,children:[e.jsx(F.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx(F.Child,{as:u.Fragment,enter:"ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in-out duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsxs(P.Panel,{className:"pointer-events-auto absolute right-0 top-0 h-full w-80 bg-white shadow-xl overflow-y-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Sort By"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-800",children:"✕"})]}),e.jsx(U,{close:s,sort:a,setSort:o})]})})})})]})}),Fe=({category:t,subcategory:s,title:a,horizontal:o=!1,brand:m,showFilters:l=!1,isFullDetail:d=!1,exclude:r})=>{const[x]=ae(),[h,i]=u.useState(!1),[g,y]=u.useState(!1),p=x.get("category"),f=x.get("subcategory"),n=x.get("slug"),c=x.get("brand"),b=x.get("search"),{openModal:v,closeModal:z,isModalOpen:k}=ne(),{filters:S,setFilters:_,sorts:T,setSorts:I}=be(),{handlePageChange:X,handlePageSizeChange:G,pageNumber:q,pageSizeValue:B}=fe(),{data:$,isLoading:J,isError:Y}=me({category:p||t,subcategory:f||s,brand:c||m,pageNumber:q,pageSize:B,...S,slug:n?String(n):void 0,sort:T,exclude:r,search:b?String(b):void 0}),K=b?`Search Results for "${b}"`:n?`Results for "${n}"`:a,j=Object.values(S).reduce((C,N)=>C+(Array.isArray(N)?N.length:0),0);return e.jsxs("div",{className:"min-h-screen bg-background relative mt-9 md:mt-0",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-6",children:[K&&e.jsx(oe,{title:K}),l&&e.jsx("div",{className:"hidden md:block mb-6",children:e.jsx("div",{className:"bg-surface rounded-xl shadow-md border-2 border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"flex items-center divide-x divide-gray-200",children:[e.jsxs("button",{onClick:()=>{i(!h),y(!1)},className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50 transition-colors group",children:[e.jsx("span",{className:"material-symbols-outlined text-primary group-hover:scale-110 transition-transform",children:"sort"}),e.jsx("span",{className:"font-semibold text-text",children:"Sort By"}),e.jsx(O,{className:`text-text-muted transition-transform duration-300 ${h?"rotate-180":""}`})]}),e.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 overflow-x-auto custom-scroll",children:j>0?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xs font-medium text-text-muted whitespace-nowrap",children:[j," filter",j>1?"s":""," active"]}),Object.entries(S).map(([C,N])=>Array.isArray(N)&&N.length>0?N.map((V,Z)=>e.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap",children:[String(V),e.jsx("button",{onClick:()=>{_(W=>({...W,[C]:W[C].filter(ee=>ee!==V)}))},className:"hover:bg-primary/20 rounded-full p-0.5 transition-colors",children:e.jsx(L,{size:12})})]},`${C}-${Z}`)):null),e.jsx("button",{onClick:()=>_({}),className:"text-xs font-medium text-red-600 hover:text-red-700 whitespace-nowrap ml-2",children:"Clear All"})]}):e.jsx("span",{className:"text-sm text-text-muted",children:"No filters applied"})}),e.jsxs("button",{onClick:()=>{y(!g),i(!1)},className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50 transition-colors group relative",children:[e.jsx(M,{className:"text-primary group-hover:scale-110 transition-transform",size:20}),e.jsx("span",{className:"font-semibold text-text",children:"More Filters"}),j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-secondary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:j}),e.jsx(O,{className:`text-text-muted transition-transform duration-300 ${g?"rotate-180":""}`})]})]})})}),J?e.jsx(H,{isNotFixed:!0}):Y||$?.results&&$?.results.length<1?e.jsx(ie,{}):e.jsxs("main",{children:[e.jsx(ke,{data:$?.results||[],horizontal:o,isFullDetail:d}),!o&&e.jsx("div",{className:"mt-8 bg-surface rounded-xl shadow-md border-2 border-gray-100 p-4 md:p-6",children:e.jsx(ge,{handlePageChange:X,handlePageSizeChange:G,currentPage:q,pageSize:B,totalCount:$?.pagination?.total||0})})]})]}),e.jsx(E,{children:h&&e.jsxs(e.Fragment,{children:[e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>i(!1)}),e.jsxs(A.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 h-full w-80 bg-surface shadow-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-secondary to-secondary-dark px-6 py-5 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"sort"}),"Sort By"]}),e.jsx("button",{onClick:()=>i(!1),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(L,{size:20,className:"text-white"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(U,{sort:T,setSort:I,close:()=>i(!1)})})]})]})}),e.jsx(E,{children:g&&e.jsxs(e.Fragment,{children:[e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>y(!1)}),e.jsxs(A.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-96 bg-surface shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark px-6 py-5 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[e.jsx(M,{size:20}),"Filters"]}),e.jsx("button",{onClick:()=>y(!1),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(L,{size:20,className:"text-white"})})]}),e.jsx(Q,{filters:S,setFilters:_,category:p||t,subcategory:f||s,handleClose:()=>y(!1)})]})]})}),l&&e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface shadow-2xl border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex gap-3 px-4 py-3",children:[e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-secondary to-secondary-dark hover:from-secondary-dark hover:to-secondary text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",onClick:()=>v({isSort:!0}),children:[e.jsx("span",{className:"material-symbols-outlined",children:"sort"})," Sort"]}),e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all relative",onClick:()=>v({isFilter:!0},{}),children:[e.jsx(M,{size:20}),"Filter",j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-secondary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:j})]})]})}),e.jsx(we,{show:k?.isFilter||!1,handleClose:()=>{z({isFilter:!1})},filters:S,setFilters:_,category:p||t,subcategory:f||s},k?.isFilter+""),e.jsx(Ne,{show:k.isSort||!1,setSort:I,sort:T,handleClose:()=>z({isSort:!1})})]},[p||"",f||"",c||"",n||"",b||""].join("-"))},ke=({data:t,horizontal:s=!1,isFullDetail:a=!1})=>e.jsx("div",{className:s?"flex overflow-x-auto space-x-4 pb-2 snap-x snap-mandatory scrollbar-hide":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:t.map(o=>e.jsx("div",{className:s?"min-w-[300px] md:min-w-[400px] flex-shrink-0 snap-start":"group",children:e.jsx("div",{className:s?"bg-surface rounded-xl md:rounded-2xl shadow-md border-2 border-gray-100 overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-primary/30":"bg-surface rounded-xl md:rounded-2xl shadow-md border-2 border-gray-100 overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-2 hover:border-primary/30",children:e.jsx(ue,{product:o,isFullDetail:a})})},o._id))}),Me=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"}));export{Fe as P,he as W,Me as a,Le as u};
