import{k as o,r as i,u as w,j as e,z as d}from"./index.iBcEEe4E.js";import{a as A,u as k,b as P,A as S}from"./AddressModal.CxXJmMgi.js";import"./index.esm.CSPHdcmw.js";import"./useMutation.GV4_nnAS.js";import"./dialog.Dole23pQ.js";import"./ButtonBar.BCVNhBr3.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],M=o("mail",C);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_=o("map-pin",E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],z=o("shield",L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$=o("user",U),R=[{key:"profile",label:"Profile",icon:$},{key:"addresses",label:"Addresses",icon:_}],H=()=>{const[t,g]=i.useState("profile"),n=A(),{user:l}=w(),[b,j]=i.useState(null),[m,c]=i.useState(!1),[x,h]=i.useState(null),{data:p,isLoading:f,refetch:u}=k({pageNumber:1,pageSize:50}),N=P(),y=s=>{confirm("Are you sure you want to delete this address?")&&N.mutate(s,{onSuccess:()=>{d.success("Address deleted successfully"),u()},onError:()=>d.error("Failed to delete address")})},v=async s=>{s.preventDefault();const r=new FormData(s.currentTarget);try{const a=await n.mutateAsync(r);d.success(a?.message||"Profile updated successfully!")}catch(a){d.error(a?.response?.data?.message||a?.response?.data?.error||"Something went wrong!")}};return e.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white shadow-lg rounded-2xl flex flex-col md:flex-row overflow-hidden",children:[e.jsx("div",{className:"w-full md:w-1/4 bg-gray-50 border-b md:border-b-0 md:border-r pt-7 md:pt-0",children:R.map(({key:s,label:r,icon:a})=>e.jsxs("button",{onClick:()=>g(s),className:`w-full flex items-center gap-3 px-4 py-4 md:px-5 md:py-3 text-left text-sm font-medium transition ${t===s?"bg-orange-100 text-orange-800 border-r-4 border-orange-800":"hover:bg-orange-50 hover:text-orange-700"}`,children:[e.jsx(a,{size:18}),r]},s))}),e.jsxs("div",{className:"flex-1 p-6",children:[t==="profile"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),e.jsxs("form",{className:"space-y-4",onSubmit:v,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:b||l?.profileImage||`https://api.dicebear.com/7.x/initials/svg?seed=${l?.fullName}`,alt:"Profile",className:"w-20 h-20 rounded-full border object-cover"}),e.jsxs("label",{className:"px-4 py-2 text-sm bg-gray-200 rounded-lg hover:bg-orange-600 hover:text-white cursor-pointer",children:["Change Photo",e.jsx("input",{type:"file",name:"image",accept:"image/*",className:"hidden",onChange:s=>{s.target.files&&s.target.files[0]&&j(URL.createObjectURL(s.target.files[0]))}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Full Name"}),e.jsx("input",{name:"name",type:"text",defaultValue:l?.fullName||"",className:"mt-1 w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(M,{size:18,className:"text-gray-500"}),e.jsx("span",{children:l?.email||"No email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Phone"}),e.jsx("input",{name:"mobile",type:"text",defaultValue:l?.mobile||"",className:"mt-1 w-full border rounded-lg px-3 py-2"})]}),e.jsx("button",{type:"submit",disabled:n.isPending,className:`mt-6 px-6 py-2 rounded-lg text-white transition ${n.isPending?"bg-orange-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-800"}`,children:n.isPending?"Saving...":"Save Changes"})]})]}),t==="addresses"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Saved Addresses"}),f?e.jsx("p",{children:"Loading addresses..."}):p?.results?.length?e.jsx("div",{className:"space-y-4",children:p.results.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-gray-50",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{children:[s.addressLine1,s.addressLine2?`, ${s.addressLine2}`:"",","," ",s.city,", ",s.state,", ",s.country," - ",s.postalCode]}),e.jsxs("p",{children:["Phone: ",s.phone]}),e.jsxs("div",{className:"mt-2 flex gap-3",children:[e.jsx("button",{className:"text-orange-600 hover:underline",onClick:()=>{h(s),c(!0)},children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>y(s._id),children:"Remove"})]})]},s._id))}):e.jsx("p",{className:"text-gray-500",children:"No addresses saved yet."}),e.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",onClick:()=>{h(null),c(!0)},children:"Add New Address"}),m&&e.jsx(S,{show:m,handleClose:()=>c(!1),isAdd:!x,data:x||void 0,refetch:u})]}),t==="payments"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Methods"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[e.jsx("p",{className:"font-medium",children:"Visa **** 1234"}),e.jsx("p",{children:"Expires 12/26"}),e.jsx("button",{className:"text-red-600 hover:underline mt-2",children:"Remove"})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[e.jsx("p",{className:"font-medium",children:"UPI: johndoe@upi"}),e.jsx("button",{className:"text-red-600 hover:underline mt-2",children:"Remove"})]})]}),e.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Add Payment Method"})]}),t==="notifications"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notifications"}),e.jsx("div",{className:"space-y-4",children:[{label:"Email Alerts",checked:!0},{label:"SMS Alerts",checked:!1},{label:"App Push Notifications",checked:!0},{label:"Promotional Emails",checked:!1}].map(({label:s,checked:r})=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:r,className:"w-4 h-4"}),s]},s))})]}),t==="security"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition",children:"Change Password"}),e.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"Change MPIN"}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsx(z,{className:"text-gray-600"}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4"}),"Enable Two-Factor Authentication"]})]})]})]})]})]})})};export{H as default};
