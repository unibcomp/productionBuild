import{k as f,j as e,L as m}from"./index.BHxc7D0m.js";import{a as j,u as N}from"./useWishlist.CgU7iN8q.js";import"./useMutation.BCQV56qk.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],b=f("trash",v),k=()=>{const{data:l=[],isLoading:x,isError:h}=j(),n=N();if(x)return e.jsx("p",{className:"p-4",children:"Loading wishlist..."});if(h)return e.jsx("p",{className:"p-4 text-red-500",children:"Failed to load wishlist."});if(!l.length)return e.jsx("p",{className:"p-4 text-gray-500",children:"Your wishlist is empty."});const g=(a,s,t)=>{a.stopPropagation(),a.preventDefault(),n.mutate({productId:s,variantId:t})};return e.jsx("div",{className:"mt-12 md:mt-4 flex flex-col gap-4 p-4",children:l.map(a=>{const s=a.productId,t=a.variantId,o=t?.images?.[0]||s?.images?.[0]||"",c=`/product/detail/${s._id}?variant=${t?._id??""}`,d=t?.sizes?.[0],i=t?.sell_price||d?.sell_price||0,r=t?.original_price||d?.original_price||0,p=i&&r?Math.round((r-i)/r*100):0;return e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 border border-orange-500 rounded-xl p-4 shadow-sm hover:shadow-md hover:border-orange-800 hover:bg-orange-50 transition-all duration-200 relative",children:[e.jsxs("button",{onClick:u=>g(u,s._id,t?._id),className:"absolute top-4 right-4 transition-colors disabled:opacity-50 flex items-center gap-1",title:"Remove from wishlist",disabled:n.isPending,children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{className:"sr-only",children:"Remove"})]}),e.jsx(m,{to:c,className:"w-full sm:w-40 flex-shrink-0",children:o?e.jsx("img",{src:o,alt:s.name,className:"w-full h-40 object-contain rounded-lg border"}):e.jsx("div",{className:"w-full h-40 bg-gray-200 flex items-center justify-center rounded-lg text-gray-500 text-sm",children:"No Image"})}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx(m,{to:c,className:"text-base sm:text-lg font-semibold text-gray-800 hover:text-orange-700 transition-colors duration-200",children:s.name}),s.brand?.name&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.brand.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm mt-2",children:[e.jsxs("div",{className:"flex items-center bg-green-600 text-white px-1.5 py-0.5 rounded-sm font-semibold",children:[e.jsx("span",{children:s.ratings?.average?.toFixed(1)??"0.0"}),e.jsx("span",{className:"material-symbols-outlined text-xs ml-1",children:"star"})]}),e.jsxs("span",{className:"text-gray-500 font-medium",children:[s.ratings?.count??0," Ratings"]})]}),i>0&&e.jsxs("div",{className:"flex items-baseline space-x-2 mt-2",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",i.toLocaleString("en-IN")]}),r>i&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm line-through text-gray-500",children:["₹",r.toLocaleString("en-IN")]}),e.jsxs("span",{className:"text-sm font-semibold text-green-600 bg-green-100 px-1.5 py-0.5 rounded",children:[p,"% off"]})]})]})]})]},a._id)})})};export{k as default};
