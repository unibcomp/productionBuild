import{a as I,b as B,r as u,e as U,j as e,h as ae,L as le,n as X,d as ie}from"./index.BHxc7D0m.js";import{u as oe}from"./useWishlist.CgU7iN8q.js";import{N as ne}from"./NotDataFound.CNTQj38f.js";import{K as k,h as A,P as de,B as ce}from"./ButtonBar.wlUrCWqx.js";import{u as me}from"./useModal.BZCQGMde.js";import{k as R,Q as xe,i as M,R as O}from"./index.BFqS5zLA.js";import{A as Q}from"./index.CNEXTKYg.js";import{m as $}from"./proxy.Bd0jAl89.js";const he=async t=>{const{data:s}=await B.get("/get-product",{params:t});return s},ue=async t=>{const{data:s}=await B.get(`/product-details/${t}`);return s},ge=({category:t,subcategory:s,brand:l,_id:o,pageSize:h=10,pageNumber:a=1,sort:c,slug:r,exclude:g,search:m})=>{const i={pageSize:h,pageNumber:a,...t&&{category:t},...s&&{subcategory:s},...l&&{brand:l},...o&&{_id:o},...c&&{sort:c},...r&&{slug:r},...g&&{exclude:g},...m&&{search:m}};return I({queryKey:["products",i],queryFn:()=>he(i)})},Re=t=>I({queryKey:["product",t],queryFn:()=>ue(t),enabled:!!t,staleTime:1e3*60*5}),be=({productId:t,variantId:s,isInWishlist:l,className:o="",size:h="md",variant:a="default"})=>{const[c,r]=u.useState(l),[g,m]=u.useState(!1),i=oe(),x=U();u.useEffect(()=>{r(l)},[l]);const v=d=>{if(d.preventDefault(),d.stopPropagation(),!ae())return x("/login");m(!0),setTimeout(()=>m(!1),600),r(f=>!f),i.mutate({productId:t,variantId:s})},y={sm:"p-1.5 w-8 h-8",md:"p-2 w-10 h-10",lg:"p-2.5 w-12 h-12"},b={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},n=()=>a==="minimal"?c?"bg-red-50 text-red-500 hover:bg-red-100 border border-red-200":"bg-gray-50 text-gray-400 hover:bg-gray-100 hover:text-red-400 border border-gray-200":a==="floating"?c?"bg-gradient-to-br from-red-500 to-pink-500 text-white shadow-xl hover:shadow-2xl border-2 border-red-400":"bg-white/95 backdrop-blur-md text-gray-600 shadow-lg hover:shadow-xl border-2 border-gray-200 hover:border-red-300":c?"bg-red-500 text-white shadow-lg hover:bg-red-600 border-2 border-red-500":"bg-white/90 backdrop-blur-sm text-gray-600 shadow-md hover:bg-secondary border-2 border-gray-200 hover:border-red-300";return e.jsxs("button",{onClick:v,disabled:i.isPending,className:`
        absolute top-2 right-2 
        ${y[h]}
        rounded-full 
        flex items-center justify-center
        transition-all duration-300 ease-out
        ${n()}
        ${g?"animate-bounce":""}
        ${i.isPending?"opacity-70 cursor-wait":"hover:scale-110 active:scale-95"}
        focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2
        disabled:cursor-not-allowed
        ${o}
      `,"aria-label":c?"Remove from wishlist":"Add to wishlist",title:c?"Remove from wishlist":"Add to wishlist",children:[e.jsx("svg",{className:`
          ${b[h]}
          transition-all duration-300
          ${c?"fill-current scale-100":"fill-none stroke-current stroke-2"}
          ${g?"scale-125":""}
        `,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",strokeLinecap:"round",strokeLinejoin:"round"})}),i.isPending&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 rounded-full backdrop-blur-sm",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"})})]})},fe=({product:t,isFullDetail:s})=>{const l=t.variant?t.variant.images[0]:void 0,o=`/product/detail/${t._id}?variant=${t.variant?._id}&size=${t.variant?.size?._id}`,h=t.variant?.size&&t.variant?.size?.original_price>t.variant?.size?.sell_price?Math.round((t.variant.size.original_price-t.variant.size.sell_price)/t.variant.size.original_price*100):0;return e.jsxs("div",{className:"relative group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 border border-gray-200 flex flex-col h-full",children:[e.jsx("div",{className:"absolute top-1 right-2 z-10",children:e.jsx(be,{productId:t._id,variantId:t.variant?._id,isInWishlist:t.isInWishlist})}),h>0&&e.jsxs("div",{className:"absolute top-2 left-2 z-10 bg-red-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:[h,"% OFF"]}),e.jsxs(le,{to:o,className:"flex flex-col h-full",children:[e.jsx("div",{className:"relative bg-gray-50 p-3 md:p-4 overflow-hidden rounded-t-lg flex-shrink-0",children:l?e.jsx("img",{src:l,alt:t.name,className:"w-full h-40 md:h-48 object-contain transform transition-transform duration-300 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-40 md:h-48 bg-gray-100 flex items-center justify-center rounded text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl block mb-2",children:"image"}),e.jsx("span",{className:"text-xs",children:"No Image"})]})})}),e.jsxs("div",{className:"flex-1 p-3 md:p-4 flex flex-col",children:[e.jsx("div",{children:e.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:t.brand.name})}),e.jsx("h3",{className:`text-sm md:text-base font-semibold text-gray-800 leading-snug mb-2 group-hover:text-primary transition-colors\r
             overflow-hidden text-ellipsis line-clamp-2 break-words h-12`,children:t.name}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:["₹",Number(t.variant?.size?.sell_price).toLocaleString("en-IN")]}),t.variant?.size&&t.variant?.size?.original_price>t.variant?.size?.sell_price&&e.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["₹",Number(t.variant?.size?.original_price).toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-2 py-0.5 rounded-lg font-bold text-xs shadow-md",children:[e.jsx("span",{children:t?.ratings?.average.toFixed(1)}),e.jsx("span",{className:"material-symbols-outlined text-xs ml-0.5",children:"star"})]}),e.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:["(",t?.ratings?.count.toLocaleString(),")"]})]}),e.jsxs("div",{children:[s&&t.variant?.size?.highlights&&t.variant.size.highlights.length>0&&e.jsx("div",{className:"mt-2 border-t border-gray-200 overflow-hidden max-h-16",children:e.jsx("ul",{className:"space-y-1",children:t.variant.size.highlights.slice(0,3).map((a,c)=>e.jsxs("li",{className:"flex items-start text-xs text-gray-600 truncate",children:[e.jsx("span",{className:"material-symbols-outlined text-primary text-sm mr-1 flex-shrink-0",children:"check_circle"}),e.jsx("span",{className:"truncate",children:a})]},c))})}),e.jsx("div",{className:"mt-auto pt-3",children:e.jsx("div",{className:"bg-primary text-white text-center py-2 rounded-lg font-semibold text-sm opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300",children:"View Details"})})]})]})]})]})},w="...",pe=({currentPage:t,handlePageChange:s,pageSize:l,handlePageSizeChange:o,pageSizeOptions:h=[5,10,20,50,100,200],siblingCount:a=1,totalCount:c})=>{const r=u.useMemo(()=>Math.ceil(c/l),[c,l]),g=u.useMemo(()=>{if(a+5>=r)return Array.from({length:r},(d,f)=>f+1);const x=Math.max(t-a,1),v=Math.min(t+a,r),y=x>2,b=v<r-1;if(!y&&b)return[...Array.from({length:3+2*a},(f,p)=>p+1),w,r];if(y&&!b){const d=Array.from({length:3+2*a},(f,p)=>r-(3+2*a)+p+1);return[1,w,...d]}const n=Array.from({length:v-x+1},(d,f)=>x+f);return[1,w,...n,w,r]},[c,t,l,a,r]),m=u.useMemo(()=>r<=5?Array.from({length:r},(i,x)=>x+1):[1,2,3,w,r],[r]);return e.jsxs("div",{className:"bg-gray-100 text-gray-800 px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 rounded-b-xl shadow-sm border border-gray-300",children:[e.jsxs("div",{className:"sm:flex items-center gap-2 hidden",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Rows per page:"}),e.jsx("select",{value:l,onChange:i=>o(Number(i.target.value)),className:"bg-white text-sm text-gray-800 border border-gray-300 px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400",children:h.map(i=>e.jsx("option",{value:i,className:"bg-white text-gray-800",children:i},i))})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 flex-wrap justify-center",children:[e.jsx("button",{onClick:()=>s(t-1,r),disabled:t===1,className:"px-3 py-2 rounded-md text-sm border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Prev"}),g.map((i,x)=>i===w?e.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"..."},x):e.jsx("button",{onClick:()=>s(Number(i),r),className:`px-3 py-2 rounded-md text-sm border transition ${t===i?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 border-gray-300"}`,children:i},x)),e.jsx("button",{onClick:()=>s(t+1,r),disabled:t===r,className:"px-3 py-2 rounded-md text-sm border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]}),e.jsxs("div",{className:"flex sm:hidden items-center gap-1 flex-wrap justify-center w-full",children:[e.jsx("button",{onClick:()=>s(t-1,r),disabled:t===1,className:"px-2 py-1 rounded-md text-xs border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Prev"}),m.map((i,x)=>i===w?e.jsx("span",{className:"px-2 text-gray-400 text-xs",children:"..."},x):e.jsx("button",{onClick:()=>s(Number(i),r),className:`px-2 py-1 rounded-md text-xs border transition ${t===i?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 border-gray-300"}`,children:i},x)),e.jsx("button",{onClick:()=>s(t+1,r),disabled:t===r,className:"px-2 py-1 rounded-md text-xs border border-gray-300 bg-white text-gray-700 hover:bg-emerald-100 hover:text-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]},t+l)},ye=()=>{const[t,s]=u.useState(1),[l,o]=u.useState(10);return{startItem:(t-1)*l+1,handlePageChange:(r,g)=>{r>=1&&r<=g&&r!==t&&s(r)},handlePageSizeChange:r=>{r>0&&r!==l&&o(r)},pageNumber:t,pageSizeValue:l}},ve=()=>{const[t,s]=u.useState({}),[l,o]=u.useState("relevance");return{filters:t,setFilters:s,sorts:l,setSorts:o}},je=async t=>{const{data:s}=await B.get("/filters",{params:t});return s},we=({category:t="",subcategory:s=""})=>{const l={...t&&{category:t},...s&&{subcategory:s}};return I({queryKey:["filters"],queryFn:()=>je(l),staleTime:300*1e3})},G=({filters:t,setFilters:s,category:l,subcategory:o,handleClose:h})=>{const[a,c]=u.useState(t),[r,g]=u.useState({}),{data:m,isLoading:i}=we({category:l,subcategory:o}),x=n=>{g(d=>({...d,[n]:!d[n]}))},v=(n,d)=>{d!==void 0&&c(f=>{const p=f[n]||[],P=p.includes(d)?p.filter(C=>C!==d):[...p,d];return{...f,[n]:P}})},y=()=>{c({})},b=Object.values(a).reduce((n,d)=>n+(Array.isArray(d)?d.length:0),0);return i?e.jsx(X,{isNotFixed:!0}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-1 overflow-y-auto custom-scroll",children:e.jsx("div",{className:"p-4 space-y-2",children:m?.results?.length?e.jsx(e.Fragment,{children:m.results.map(n=>e.jsx(Ne,{label:ke(n.name),queryName:n.queryName,items:n.value||[],open:r[n.queryName]||!1,onToggle:()=>x(n.queryName),filters:a,onFilterToggle:v},n.queryName))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-300 mb-2",children:"filter_alt_off"}),e.jsx("p",{className:"text-sm text-text-muted",children:"No filters available"})]})})}),e.jsxs("div",{className:"sticky bottom-0 bg-surface border-t-2 border-gray-100 p-4 space-y-2",children:[b>0&&e.jsx("button",{className:"w-full py-2.5 bg-gray-100 text-text font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",onClick:y,children:"Clear All Filters"}),e.jsxs("button",{className:"w-full py-2.5 bg-gradient-to-r from-primary to-primary-dark text-white font-semibold rounded-lg hover:shadow-lg transition-all text-sm",onClick:()=>{s(a),h?.()},children:["Apply Filters ",b>0&&`(${b})`]})]})]})},Ne=({label:t,queryName:s,items:l,open:o,onToggle:h,filters:a,onFilterToggle:c})=>{const r=a[s]?.length||0;return e.jsxs("div",{className:"border-2 border-gray-100 rounded-lg overflow-hidden",children:[e.jsxs("button",{className:"w-full flex justify-between items-center font-semibold px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",onClick:h,children:[e.jsxs("span",{className:"text-sm text-text flex items-center gap-2",children:[t,r>0&&e.jsx("span",{className:"bg-primary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:r})]}),o?e.jsx(R,{className:"text-text-muted transition-transform"}):e.jsx(xe,{className:"text-text-muted transition-transform"})]}),o&&e.jsx("div",{className:"p-3 bg-white max-h-60 overflow-y-auto custom-scroll",children:e.jsx("div",{className:"space-y-2",children:l.map(g=>{const m=g._id||g.name||"",i=a[s]?.includes(m)||!1;return e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer group transition-colors",htmlFor:`${s}-${m}`,children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-2 focus:ring-primary/20 cursor-pointer",onChange:()=>c(s,m),checked:i,id:`${s}-${m}`}),e.jsx("span",{className:"text-sm text-text group-hover:text-primary transition-colors flex-1",children:g.name})]},m)})})})]})},ke=t=>t.charAt(0).toUpperCase()+t.slice(1),J=({close:t,sort:s,setSort:l})=>{const o=[{label:"Relevance",value:"relevance"},{label:"Price: Low to High",value:"lowToHigh"},{label:"Price: High to Low",value:"highToLow"}],h=a=>{l(a),t?.()};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-text-muted px-1",children:"Choose how you want to sort products"}),e.jsx("div",{className:"space-y-2",children:o.map(a=>e.jsx("button",{onClick:()=>h(a.value),className:`w-full px-4 py-4 text-left rounded-xl text-sm font-medium transition-all border-2 ${s===a.value?"bg-gradient-to-r from-secondary to-secondary-dark text-white border-secondary shadow-lg scale-105":"text-text bg-white hover:bg-gray-50 border-gray-200 hover:border-secondary/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s===a.value?"border-white bg-white/20":"border-gray-300"}`,children:s===a.value&&e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),e.jsx("span",{children:a.label})]}),s===a.value&&e.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})]})},a.value))})]})},Fe=({show:t,filters:s,setFilters:l,handleClose:o,category:h,subcategory:a})=>e.jsx(k,{appear:!0,show:t,as:u.Fragment,children:e.jsxs(A,{as:"div",className:"relative z-50",onClose:o,children:[e.jsx(k.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx(k.Child,{as:u.Fragment,enter:"ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in-out duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsxs(A.Panel,{className:"pointer-events-auto absolute right-0 top-0 h-full w-80 bg-white shadow-xl overflow-y-auto flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsx("div",{className:"flex-1 p-4",children:e.jsx(G,{filters:s,setFilters:l,category:h,subcategory:a,handleClose:o})})]})})})})]})}),Se=({show:t,handleClose:s,sort:l,setSort:o})=>e.jsx(k,{appear:!0,show:t,as:u.Fragment,children:e.jsxs(A,{as:"div",className:"relative z-50",onClose:s,children:[e.jsx(k.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx(k.Child,{as:u.Fragment,enter:"ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in-out duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsxs(A.Panel,{className:"pointer-events-auto absolute right-0 top-0 h-full w-80 bg-white shadow-xl overflow-y-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Sort By"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-800",children:"✕"})]}),e.jsx(J,{close:s,sort:l,setSort:o})]})})})})]})}),Ce=({category:t,subcategory:s,title:l,horizontal:o=!1,brand:h,showFilters:a=!1,isFullDetail:c=!1,exclude:r})=>{const g=U(),[m]=ie(),[i,x]=u.useState(!1),[v,y]=u.useState(!1),b=m.get("category"),n=m.get("subcategory"),d=m.get("slug"),f=m.get("brand"),p=m.get("search"),P=m.get("exclude"),{openModal:C,closeModal:D,isModalOpen:T}=me(),{filters:F,setFilters:z,sorts:L,setSorts:V}=ve(),{handlePageChange:Y,handlePageSizeChange:Z,pageNumber:q,pageSizeValue:K}=ye(),{data:_,isLoading:ee,isError:te}=ge({category:b||t,subcategory:n||s,brand:f||h,pageNumber:q,pageSize:K,...F,slug:d?String(d):void 0,sort:L,exclude:P??r,search:p?String(p):void 0}),W=p?`Search Results for "${p}"`:d?`Results for "${d}"`:l,j=Object.values(F).reduce((S,N)=>S+(Array.isArray(N)?N.length:0),0);return e.jsxs("div",{className:"min-h-screen bg-background relative mt-9 md:mt-3",children:[e.jsxs("div",{className:"mx-auto sm:px-8 py-2 grid grid-cols-1 gap-6",children:[a&&e.jsx("div",{className:"hidden md:block mb-6",children:e.jsx("div",{className:"bg-surface rounded-xl shadow-md border-2 border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"flex items-center divide-x divide-gray-200",children:[e.jsxs("button",{onClick:()=>{x(!i),y(!1)},className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50 transition-colors group",children:[e.jsx("span",{className:"material-symbols-outlined text-primary group-hover:scale-110 transition-transform",children:"sort"}),e.jsx("span",{className:"font-semibold text-text",children:"Sort By"}),e.jsx(R,{className:`text-text-muted transition-transform duration-300 ${i?"rotate-180":""}`})]}),e.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 overflow-x-auto custom-scroll",children:j>0?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xs font-medium text-text-muted whitespace-nowrap",children:[j," filter",j>1?"s":""," active"]}),Object.entries(F).map(([S,N])=>Array.isArray(N)&&N.length>0?N.map((E,se)=>e.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap",children:[String(E),e.jsx("button",{onClick:()=>{z(H=>({...H,[S]:H[S].filter(re=>re!==E)}))},className:"hover:bg-primary/20 rounded-full p-0.5 transition-colors",children:e.jsx(M,{size:12})})]},`${S}-${se}`)):null),e.jsx("button",{onClick:()=>z({}),className:"text-xs font-medium text-red-600 hover:text-red-700 whitespace-nowrap ml-2",children:"Clear All"})]}):e.jsx("span",{className:"text-sm text-text-muted",children:"No filters applied"})}),e.jsxs("button",{onClick:()=>{y(!v),x(!1)},className:"flex items-center gap-2 px-6 py-4 hover:bg-gray-50 transition-colors group relative",children:[e.jsx(O,{className:"text-primary group-hover:scale-110 transition-transform",size:20}),e.jsx("span",{className:"font-semibold text-text",children:"More Filters"}),j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-secondary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:j}),e.jsx(R,{className:`text-text-muted transition-transform duration-300 ${v?"rotate-180":""}`})]})]})})}),ee?e.jsx(X,{isNotFixed:!0}):te||_?.results&&_?.results.length<1?e.jsx(ne,{}):e.jsxs("main",{className:`col-span-1 ${a?"md:col-span-3":"md:col-span-4"}`,children:[W&&e.jsx(de,{title:W,component:e.jsx(ce,{buttons:[{label:"View All",onClick:()=>g(`/product?category=${t}&exclude=${r}`),colorClass:"bg-secondary text-white hover:bg-primary-dark"}]})}),e.jsx(ze,{data:_?.results||[],horizontal:o,isFullDetail:c}),!o&&e.jsx("div",{className:"mt-8 bg-surface rounded-xl shadow-md border-2 border-gray-100 p-4 md:p-6",children:e.jsx(pe,{handlePageChange:Y,handlePageSizeChange:Z,currentPage:q,pageSize:K,totalCount:_?.pagination?.total||0})})]})]}),e.jsx(Q,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>x(!1)}),e.jsxs($.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 h-full w-80 bg-surface shadow-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-secondary to-secondary-dark px-6 py-5 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"sort"}),"Sort By"]}),e.jsx("button",{onClick:()=>x(!1),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(M,{size:20,className:"text-white"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(J,{sort:L,setSort:V,close:()=>x(!1)})})]})]})}),e.jsx(Q,{children:v&&e.jsxs(e.Fragment,{children:[e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>y(!1)}),e.jsxs($.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-96 bg-surface shadow-2xl z-50 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark px-6 py-5 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[e.jsx(O,{size:20}),"Filters"]}),e.jsx("button",{onClick:()=>y(!1),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:e.jsx(M,{size:20,className:"text-white"})})]}),e.jsx(G,{filters:F,setFilters:z,category:b||t,subcategory:n||s,handleClose:()=>y(!1)})]})]})}),a&&e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface shadow-2xl border-t-2 border-gray-200",children:e.jsxs("div",{className:"flex gap-3 px-4 py-3",children:[e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-secondary to-secondary-dark hover:from-secondary-dark hover:to-secondary text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",onClick:()=>C({isSort:!0}),children:[e.jsx("span",{className:"material-symbols-outlined",children:"sort"})," Sort"]}),e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white font-semibold py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all relative",onClick:()=>C({isFilter:!0},{}),children:[e.jsx(O,{size:20}),"Filter",j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-secondary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:j})]})]})}),e.jsx(Fe,{show:T?.isFilter||!1,handleClose:()=>{D({isFilter:!1})},filters:F,setFilters:z,category:b||t,subcategory:n||s},T?.isFilter+""),e.jsx(Se,{show:T.isSort||!1,setSort:V,sort:L,handleClose:()=>D({isSort:!1})})]},[b||"",n||"",f||"",d||"",p||""].join("-"))},ze=({data:t,horizontal:s=!1,isFullDetail:l=!1})=>e.jsx("div",{className:s?"flex overflow-x-auto space-x-4 pb-2 snap-x snap-mandatory scrollbar-hide":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:t.map(o=>e.jsx("div",{className:s?"min-w-[300px] md:min-w-[400px] flex-shrink-0 snap-start":"group",children:e.jsx("div",{className:s?"bg-surface rounded-xl md:rounded-2xl shadow-md border-2 border-gray-100 overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-primary/30":"bg-surface rounded-xl md:rounded-2xl shadow-md border-2 border-gray-100 overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-2 hover:border-primary/30",children:e.jsx(fe,{product:o,isFullDetail:l})})},o._id))}),Ie=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"}));export{Ce as P,be as W,Ie as a,Re as u};
