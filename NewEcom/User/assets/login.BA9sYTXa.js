import{e as y,u as w,r as j,j as e,L as o,z as v}from"./index.BHxc7D0m.js";import{u as N}from"./index.esm.BQqehW3V.js";import{E as S,a as k,F as E}from"./index.XR5Hv1wJ.js";import{u as L}from"./unbcompY.4VGBDMNV.js";import{u as P}from"./useUser.nhTURJ8n.js";import{h as I}from"./queryToast.IZiA70RY.js";import"./iconBase.rAni4LCw.js";import"./useMutation.BCQV56qk.js";const R=()=>{const c=y(),l=P(),{login:d}=w(),[t,x]=j.useState(!1),{register:i,handleSubmit:p,formState:{errors:s}}=N(),g=h=>{const{onSuccess:b,onError:f}=I({onSuccess:a=>{const r=a?.data??a;if(d(r)){const n=localStorage.getItem("cart");if(n)try{JSON.parse(n),localStorage.removeItem("cart")}catch{localStorage.removeItem("cart")}c("/")}},onError:a=>{const r=a?.response?.data,m=r?.message||r?.message||"Login failed. Please try again.";v.error(m)}});l.mutate(h,{onSuccess:b,onError:f})},u=()=>{};return e.jsxs("div",{className:"min-h-screen h-screen w-full relative flex overflow-hidden bg-[url('https://t3.ftcdn.net/jpg/06/32/90/44/360_F_632904407_iPLi90WdjZ0oKAeRiL98gEIeHIUtzWae.jpg')] bg-cover bg-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-700 via-indigo-600 to-blue-500 opacity-50"}),e.jsxs("div",{className:"hidden lg:flex flex-1 flex-col justify-center px-8 xl:px-16 z-10",children:[e.jsxs("h2",{className:"text-white text-3xl xl:text-5xl font-extrabold mb-4 drop-shadow-lg",children:["Welcome to ",e.jsx("span",{className:"text-primary",children:"Unibcomp"}),"!"]}),e.jsxs("p",{className:"text-white text-lg xl:text-xl mb-6 drop-shadow-md",children:["Shop the ",e.jsx("span",{className:"font-semibold",children:"best products"})," now"]}),e.jsx(o,{to:"/signup",className:"bg-primary text-white font-semibold py-3 px-6 rounded-lg hover:bg-primary-dark hover:text-white transition transform hover:scale-105 w-max",children:"Get Started"})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-8 z-10 overflow-y-auto",children:e.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-9 w-full max-w-md lg:max-w-lg xl:max-w-xl my-auto",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("img",{src:L,alt:"Logo",className:"w-40 sm:w-48 mx-auto mb-3"}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-black",children:"Welcome Back"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Sign in to continue shopping"})]}),e.jsxs("form",{onSubmit:p(g),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-sm sm:text-base",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"Enter your email",...i("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),className:`appearance-none w-full text-sm border px-4 py-2.5 sm:py-3 rounded-lg shadow-sm 
                  focus:outline-none focus:ring-2 ${s.email?"border-primary focus:ring-primary":"border-gray-300 focus:ring-primary"}`}),s.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-sm sm:text-base",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:t?"text":"password",placeholder:"Enter your password",...i("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters long"}}),className:`appearance-none w-full text-sm border px-4 py-2.5 sm:py-3 pr-12 rounded-lg shadow-sm 
                    focus:outline-none focus:ring-2 ${s.password?"border-primary focus:ring-primary":"border-gray-300 focus:ring-primary"} [&::-ms-reveal]:hidden [&::-ms-clear]:hidden 
                    [&::-webkit-contacts-auto-fill-button]:hidden 
                    [&::-webkit-credentials-auto-fill-button]:hidden`}),e.jsx("button",{type:"button",onClick:()=>x(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-black bg-white rounded-full p-1","aria-label":t?"Hide password":"Show password",children:t?e.jsx(S,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),s.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password.message})]}),e.jsx("div",{className:"text-right",children:e.jsx(o,{to:"/forget",className:"text-xs sm:text-sm text-primary hover:underline hover:decoration-primary-dark font-medium",children:"Forgot Password?"})}),e.jsx("button",{type:"submit",className:"w-full  text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition transform hover:scale-[1.02] shadow-md text-sm sm:text-base",children:l.isPending?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"flex items-center my-4 sm:my-5",children:[e.jsx("div",{className:"flex-grow h-px bg-gray-300"}),e.jsx("span",{className:"px-3 text-gray-500 text-xs sm:text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-3 border rounded-lg py-2 sm:py-2.5 font-medium text-white hover:bg-primary-dark transition transform hover:scale-[1.02] text-sm sm:text-base",children:[e.jsx(E,{className:"text-lg sm:text-xl"}),"Continue with Google"]}),e.jsxs("div",{className:"text-center mt-4 sm:mt-5",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Don’t have an account?"}),e.jsx(o,{to:"/signup",className:"text-primary hover:text-primary-dark font-medium text-sm sm:text-base",children:"Create your account"})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(o,{to:"/",className:"text-gray-600 text-xs sm:text-sm hover:text-primary",children:"← Back to Store"})})]})})]})};export{R as default};
