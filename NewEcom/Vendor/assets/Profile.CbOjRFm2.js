import{h as g,a as x,n as b,j as e,s as f,z as u}from"./index.1CbKXVec.js";import{b as p}from"./useProfile.BMekuJ3R.js";import{U as j}from"./user.CWCoclIE.js";import{M as N}from"./mail.C_fnETnt.js";import{P as w}from"./phone.CVr4JWR-.js";import{S as y,a as v}from"./star.BkUlyLYt.js";import{F as k}from"./file-text.Cx58Klr_.js";import{H as z}from"./house.Cp2IrMMi.js";const I=()=>{const{user:s}=g(),[r,l]=x.useState(!1),{register:a,handleSubmit:d,reset:n}=b(),{mutate:h,isPending:m}=p();if(x.useEffect(()=>{s&&n({name:s.name,shopName:s.shopName,gstNumber:s.gstNumber,address:s.address,email:s.email,phone:s.phone})},[s,n]),!s)return e.jsx(f,{});const c=async t=>{try{const o={};if(t.name!==s.name&&(o.name=t.name),t.shopName!==s.shopName&&(o.shopName=t.shopName),t.gstNumber!==s.gstNumber&&(o.gstNumber=t.gstNumber),t.address!==s.address&&(o.address=t.address),Object.keys(o).length===0){u.success("No changes to update");return}h(o),l(!1)}catch(o){u.error(o.response?.data?.message||"Failed to update profile")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-gray-100 to-gray-100 p-6 flex flex-col items-center mt-16",children:[e.jsxs("div",{className:"relative w-full max-w-3xl flex flex-col items-center ",children:[e.jsx("div",{className:"relative w-36 h-36 rounded-full overflow-hidden shadow-xl border-4 border-white  ring-4 ring-blue-200 -mt-16 mb-4 ",children:e.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${s.name}`,alt:s.name,className:"w-full h-full object-cover "})}),e.jsx("button",{className:"absolute top-10 right-80  bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellowo-500 hover:to-orange-500 text-white p-2 rounded-full shadow-md transition-transform hover:scale-110",title:"Edit Profile Picture",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5h2.25l1.5-1.5h10.5l1.5 1.5H21a.75.75 0 01.75.75v9.75a.75.75 0 01-.75.75H3a.75.75 0 01-.75-.75V8.25A.75.75 0 013 7.5z"})]})}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-1",children:s.name}),e.jsxs("p",{className:"text-gray-500 mb-4",children:[s.role," | ",s.shopName]})]}),e.jsxs("form",{onSubmit:d(c),className:"w-full max-w-2xl bg-white rounded-2xl shadow-lg p-6 mt-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-yellow-600 border-b pb-2 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(i,{icon:e.jsx(j,{size:24}),label:"Name",disabled:!r,...a("name",{required:!0})}),e.jsx(i,{icon:e.jsx(N,{size:24}),label:"Email",disabled:!0,...a("email")}),e.jsx(i,{icon:e.jsx(w,{size:24}),label:"Phone",disabled:!0,...a("phone")}),e.jsx(i,{icon:e.jsx(y,{size:24}),label:"Shop Name",disabled:!r,...a("shopName",{required:!0})}),e.jsx(i,{icon:e.jsx(k,{size:24}),label:"GST Number",disabled:!r,...a("gstNumber")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-yellow-300 to-orange-500 text-white rounded-full mr-4 shadow-md",children:e.jsx(z,{size:24})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-500",children:"Address"}),e.jsx("textarea",{...a("address"),disabled:!r,rows:3,className:`mt-1 border rounded-md p-2 focus:outline-none focus:ring-2 ${r?"border-gray-300 focus:ring-blue-400":"border-gray-200 bg-gray-100 cursor-not-allowed"}`})]})]}),e.jsx(i,{icon:e.jsx(v,{size:24}),label:"Role",disabled:!0,value:s.role}),e.jsx("div",{className:"pt-4 flex gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",disabled:m,onClick:d(c),className:"flex-1 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white transition",children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>{n({name:s.name,shopName:s.shopName,gstNumber:s.gstNumber,address:s.address,email:s.email,phone:s.phone}),l(!1)},className:"flex-1 py-2 rounded-lg bg-gray-300 hover:bg-gray-400 text-black transition",children:"Cancel"})]}):e.jsx("button",{type:"button",disabled:m,onClick:()=>l(!0),className:"flex-1 py-2 rounded-lg bg-orange-500 hover:bg-orange-600 text-white transition",children:"Edit Profile"})})]})]})},i=({icon:s,label:r,disabled:l,...a})=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-yellow-300 to-orange-500 text-white rounded-full mr-4 shadow-md",children:s}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-500",children:r}),e.jsx("input",{...a,disabled:l,className:`mt-1 border rounded-md p-2 focus:outline-none focus:ring-2 ${l?"border-gray-200 bg-gray-100 cursor-not-allowed":"border-gray-300 focus:ring-blue-400"}`})]})]});export{I as default};
