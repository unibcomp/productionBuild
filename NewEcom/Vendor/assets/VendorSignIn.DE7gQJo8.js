import{n as h,u as p,o as f,a as c,b,j as e,z as o,d as j,k as y}from"./index.1CbKXVec.js";import{c as N,A as w,U as v,a as F,b as S}from"./AuthBanner.C2oUO8Cp.js";import{F as k,a as E}from"./index.B20WMGzl.js";import"./iconBase.DrO_7amp.js";const z=()=>{const{register:i,handleSubmit:d,formState:{errors:a}}=h(),{mutate:m,isPending:l}=N(),r=p(),x=f(),[n,u]=c.useState(!1);c.useEffect(()=>{b()&&r("/dashboard")},[r]);const g=async t=>{try{await m(t,{onSuccess:async s=>{s?.data?.token&&(j.set("accessToken",s.data.token,{expires:1}),y.defaults.headers.common.Authorization=`Bearer ${s.data.token}`,await x.invalidateQueries({queryKey:["admin-details"]})),r("/dashboard"),o.success(s?.message||"Login Successful!")},onError:s=>{o.error(s?.response?.data?.message||s?.response?.data?.error||"Internal Server Error")}})}catch{o.error("Invalid email or password")}};return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-white",children:[e.jsx(w,{}),e.jsx("div",{className:"flex w-full md:w-1/2 justify-center items-center p-8 min-h-screen md:min-h-0",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:v,alt:"Unibcomp",className:"w-10 h-10",onError:t=>t.currentTarget.src="https://via.placeholder.com/40x40/FFA500/FFFFFF?text=U"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 ml-2",children:"Unibcomp"})]})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-2",children:"Welcome"}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"SignIn to access your vendor dashboard"}),e.jsxs("form",{onSubmit:d(g),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Email address",...i("email",{required:"Email is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400"}),a.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",placeholder:"Password",...i("password",{required:"Password is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 pr-10"}),e.jsx("span",{onClick:()=>u(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 cursor-pointer",children:n?e.jsx(F,{size:20}):e.jsx(S,{size:20})}),a.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.password.message})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",onClick:()=>r("/forget-password"),className:"text-sm text-orange-500 hover:underline",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-orange-500 text-white py-3 rounded-xl font-semibold hover:bg-orange-600 transition",children:l?"Signing In...":"Login"})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("hr",{className:"flex-grow border-gray-300"}),e.jsx("span",{className:"px-3 text-gray-500 text-sm",children:"Or Login with"}),e.jsx("hr",{className:"flex-grow border-gray-300"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center border border-gray-300 rounded-xl py-3 hover:bg-gray-50 transition",children:[e.jsx(k,{className:"text-xl mr-2"})," Google"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center border border-gray-300 rounded-xl py-3 hover:bg-gray-50 transition",children:[e.jsx(E,{className:"text-blue-600 text-xl mr-2"})," Facebook"]})]}),e.jsxs("p",{className:"text-center text-gray-600 mt-6",children:["Donâ€™t have an account?"," ",e.jsx("button",{onClick:()=>r("/signup"),className:"text-orange-500 font-medium hover:underline",children:"Signup"})]})]})})]})};export{z as default};
