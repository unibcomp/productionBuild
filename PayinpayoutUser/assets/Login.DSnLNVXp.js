import{n as k,o as L,C,A as F,r as y,a as S,p as I,D as _,j as e,m,i as P,b as $,g as A,V as p,F as M}from"./index.JvlsZt4o.js";import{L as z,g as E,a as T,b as W}from"./user.BXbmnPQV.js";const q=c=>L.post("/login",c).then(a=>a.data),B=()=>k({mutationFn:q,mutationKey:["login"]}),o=A(),R=P[o==null?void 0:o.reseller_name]||$,d=({delay:c=0,inside:a=!1,variant:x="small"})=>{let r=0,i=1;switch(x){case"small":r=Math.random()*6+4,i=1;break;case"medium":r=Math.random()*12+8,i=2;break;case"large":r=Math.random()*20+16,i=4;break}const w=Math.random()*100,u=Math.random()*100;return e.jsx(m.div,{initial:{opacity:0,x:"-10vw",y:0},animate:{opacity:[0,1,0],x:["-5vw","5vw","0vw"],y:["0vh","10vh","-5vh"]},transition:{duration:6,repeat:1/0,delay:c,ease:"easeInOut"},className:`absolute rounded-full shadow-lg ${a?"opacity-60":"opacity-40"}`,style:{width:r,height:r,top:`${u}%`,left:`${w}%`,background:"radial-gradient(circle, #FFD700, #FF8C00)",filter:`blur(${i}px)`}})},G=()=>{const c=C(),a=F(),[x,r]=y.useState(!1),[i,w]=y.useState(!1),{register:u,handleSubmit:b,formState:{errors:g}}=S(),{login:j}=I(),{mutateAsync:v,isPending:f}=B(),N=async l=>{var s;try{r(!0);const[h,n]=await Promise.all([E(),T()]);if(!h||!n)return r(!1),p.error("Failed to get location.");r(!1);const t=await v({...l,device_id:W(),latitude:h,longitude:n});return j(t),M(t.token),p.success(t.message),a("/")}catch(h){const n=h,t=(s=n.response)==null?void 0:s.data;p.error((t==null?void 0:t.message)||(n==null?void 0:n.message)||(t==null?void 0:t.error)||"Login failed.")}};return y.useEffect(()=>{const l=_();a(l?"/":"/login")},[c.pathname]),e.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-b from-[#123C82] to-[#0D2B2F] px-4 overflow-hidden",children:[Array.from({length:15}).map((l,s)=>e.jsx(d,{delay:s*.6,variant:"small"},`bg-${s}`)),Array.from({length:5}).map((l,s)=>e.jsx(d,{delay:s*1.2,variant:"medium"},`bg-mid-${s}`)),Array.from({length:3}).map((l,s)=>e.jsx(d,{delay:s*2,variant:"large"},`bg-big-${s}`)),e.jsxs(m.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative flex flex-col md:flex-row w-full max-w-6xl rounded-2xl shadow-2xl overflow-hidden border border-gray-200 bg-white",children:[e.jsxs("div",{className:"hidden md:flex md:w-1/2 flex-col justify-between p-10 relative bg-gradient-to-b from-blue-50 to-gray-100 rounded-l-2xl overflow-hidden",children:[Array.from({length:8}).map((l,s)=>e.jsx(d,{delay:s*.5,inside:!0},`left-${s}`)),e.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 z-20",children:[e.jsx("img",{src:R,alt:"Company Logo",className:"w-10 h-10 rounded-lg shadow-md"}),e.jsx("span",{className:"text-lg font-bold text-[#123C82] tracking-wide",children:(o==null?void 0:o.reseller_name)||""})]}),e.jsxs("div",{className:"flex flex-col items-center text-center gap-4 relative z-10 mt-10",children:[e.jsx("img",{src:z,alt:"Illustration",className:"w-full max-w-sm h-auto object-contain rounded-xl"}),e.jsx("h2",{className:"text-2xl font-bold text-[#123C82]",children:"Welcome to Your Secure Dashboard"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed max-w-md",children:"Manage all your transactions, deposits, and payouts from one simple dashboard. Built with security, speed, and reliability in mind. Whether youâ€™re running a small business or managing a large reseller network, weâ€™ve got you covered."}),e.jsx("div",{className:"mt-4 w-full flex justify-center",children:e.jsxs("div",{className:"text-sm text-gray-600 leading-relaxed text-left max-w-2xl",children:[e.jsx("span",{className:"font-semibold text-[#123C82] block mb-3 text-center",children:"Why choose us?"}),e.jsxs("ul",{className:"grid grid-cols-2 gap-x-8 gap-y-2 list-none",children:[e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Fast & reliable transactions"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Secure login with device protection"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… 24/7 customer support"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Easy UPI, Wallet & Card payments"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Real-time transaction tracking"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Low fees, transparent pricing"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Works on all devices"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Multi-language support"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Instant notifications & alerts"}),e.jsx("li",{className:"whitespace-nowrap",children:"âœ… Trusted by thousands of users"})]})]})})]})]}),e.jsxs("div",{className:"relative w-full md:w-1/2 bg-white p-10 rounded-r-2xl overflow-hidden",children:[Array.from({length:10}).map((l,s)=>e.jsx(d,{delay:s*.4,inside:!0},`form-${s}`)),e.jsx("h2",{className:"text-3xl font-bold text-center text-[#123C82]",children:"Login"}),e.jsx("p",{className:"text-center text-gray-500 mb-6 text-sm",children:"Securely access your merchant account and manage payments with ease."}),e.jsxs("form",{onSubmit:b(N),className:"space-y-5 relative z-10",children:[e.jsxs(m.div,{whileFocus:{scale:1.02},children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Email ID *"}),e.jsx("input",{type:"email",placeholder:"Enter your email address",...u("email",{required:"Email is required"}),className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#185e91] outline-none"}),g.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.email.message})]}),e.jsxs(m.div,{whileFocus:{scale:1.02},children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",placeholder:"Enter your password",...u("password",{required:"Password is required"}),className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-[#185e91] outline-none"}),e.jsx("span",{onClick:()=>w(!i),className:"material-symbols-outlined absolute right-3 top-2.5 text-gray-500 cursor-pointer",children:i?"visibility_off":"visibility"})]}),g.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.password.message})]}),e.jsxs("div",{className:"border rounded-md p-3 text-gray-500 text-sm flex items-center relative z-10",children:[e.jsx("input",{required:!0,type:"checkbox",className:"mr-2"})," Iâ€™m not a robot"]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",onClick:()=>a("/forgot-password"),className:"text-[#185e91] text-sm hover:underline",children:"Forgot Password?"})}),e.jsx(m.button,{type:"submit",whileTap:{scale:.97},disabled:x||f,className:"w-full py-3 bg-[#185e91] hover:bg-[#144e7a] text-white font-semibold rounded-md transition",children:x?"Fetching Your Location...":f?"Logging in...":"Login"}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-300"}),e.jsx("span",{className:"mx-2 text-gray-500 text-sm",children:"or"}),e.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),e.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-2 py-2 border rounded-md hover:bg-gray-50 transition",onClick:()=>p.loading("Stay tuned! This feature is on the way ðŸš€"),children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]})]}),e.jsxs("p",{className:"text-center text-sm mt-6 text-gray-600 relative z-10",children:["Donâ€™t have an account?"," ",e.jsx("button",{onClick:()=>a("/register"),className:"text-[#185e91] hover:underline font-medium",children:"Sign Up"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-4 text-center leading-relaxed relative z-10",children:["By logging in, you agree to our"," ",e.jsx("span",{className:"text-[#185e91] cursor-pointer hover:underline",children:"Terms & Conditions"})," ","and"," ",e.jsx("span",{className:"text-[#185e91] cursor-pointer hover:underline",children:"Privacy Policy"}),". We never share your data with third parties."]})]})]})]})};export{G as default};
