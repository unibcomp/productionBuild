"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[8847],{18847:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var n=t(65043),l=t(11238),r=t(61596),o=t(94496),s=t(53193),i=t(72221),d=t(32143),c=t(94516),u=t(11906),v=t(79650),x=t(71806),m=t(84882),h=t(28076),p=t(10039),j=t(73460),b=t(18356),g=t(59135),A=(t(91036),t(72777)),y=t(73575),f=t(22019),_=t(70579);const S={Pending:"Pending",Approved:"Approved",Rejected:"Rejected"},C={Pending:"btn btn-warning",Approved:"btn btn-success",Rejected:"btn btn-danger"},w=()=>{var e;const a=(new Date).toISOString().split("T")[0],[t,w]=(0,n.useState)(1),[D,N]=(0,n.useState)(10),[k,R]=(0,n.useState)(!1),[I,M]=(0,n.useState)(0),[O,P]=(0,n.useState)(!1),[W,z]=(0,n.useState)([]),[T,E]=(0,n.useState)({startDate:a,endDate:a,min_amt:"",max_amt:"",status:""}),q=(e,a)=>{["min_amt","max_amt"].includes(e)&&""!==a&&!/^[0-9\b]+$/.test(a)||E((t=>({...t,[e]:a})))};(0,n.useEffect)((()=>{(async()=>{let e={page:t,count:D,start_date:T.startDate,end_date:T.endDate,min_amt:T.min_amt,max_amt:null===T||void 0===T?void 0:T.max_amt,status:null===T||void 0===T?void 0:T.status};try{var a;let t=await(0,y._sG)(e);var n,l,r,o;200===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.statusCode)?(z(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.requestList),M(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.totalCount)):(z([]),M(0))}catch(s){}})()}),[k,t,D]);const L=Math.ceil(I/D);return(0,_.jsxs)(_.Fragment,{children:[O&&(0,_.jsx)(A.A,{}),(0,_.jsx)(r.A,{sx:{padding:3,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,_.jsx)(o.A,{variant:"h6",sx:{fontWeight:"600",fontSize:"24px",color:"var(--bs-nav)",textAlign:"center"},children:"Transfer PayIn Wallet to Main Wallet"})}),(0,_.jsxs)("div",{className:"card",children:[(0,_.jsx)("div",{className:"card-header",children:" "}),(0,_.jsx)("div",{className:"card-body",children:(0,_.jsx)("form",{children:(0,_.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,_.jsxs)("div",{className:"form-group col-md-4",children:[(0,_.jsx)("label",{children:"Start Date"}),(0,_.jsx)("input",{type:"date",name:"startDate",className:"form-control",value:T.startDate,onChange:e=>q("startDate",e.target.value),max:a})]}),(0,_.jsxs)("div",{className:"form-group col-md-4",children:[(0,_.jsx)("label",{children:"End Date"}),(0,_.jsx)("input",{type:"date",name:"endDate",className:"form-control",value:T.endDate,onChange:e=>q("endDate",e.target.value),max:a})]}),(0,_.jsxs)("div",{className:"form-group col-md-4",children:[(0,_.jsx)("label",{children:"Minimum Amount"}),(0,_.jsx)("input",{type:"text",name:"min_amt",className:"form-control",placeholder:"Minimum Amount",value:T.min_amt,onChange:e=>q("min_amt",e.target.value)})]}),(0,_.jsxs)("div",{className:"form-group col-md-4",children:[(0,_.jsx)("label",{children:"Maximum Amount"}),(0,_.jsx)("input",{type:"text",name:"max_amt",className:"form-control",placeholder:"Maximum Amount",value:T.max_amt,onChange:e=>q("max_amt",e.target.value)})]}),(0,_.jsxs)("div",{className:"form-group col-md-4",children:[(0,_.jsx)("label",{children:"Status"}),(0,_.jsx)(s.A,{fullWidth:!0,size:"small",children:(0,_.jsxs)(i.A,{value:(null===T||void 0===T?void 0:T.status)||"",name:"status",onChange:e=>q("status",e.target.value),displayEmpty:!0,sx:{color:"rgba(0, 0, 0, 0.6)",fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"grey.400"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[(0,_.jsx)(d.A,{value:"",disabled:!0,sx:{fontSize:"14px",color:"var(--bs-nav)",px:2},children:"Select Status"}),null===Object||void 0===Object||null===(e=Object.entries(S))||void 0===e?void 0:e.map((e=>{let[a,t]=e;return(0,_.jsx)(d.A,{value:a,sx:{fontSize:"14px",color:"var(--bs-nav)",px:2},children:t})}))]})})]}),(0,_.jsx)("div",{className:"form-group col-md-12 col-lg-12",children:(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{type:"button",className:"btn btn-primary mr-3",onClick:()=>{R((e=>!e))},children:"Search"}),(0,_.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{E({startDate:"",endDate:"",txn_id:"",order_id:"",min_amt:"",max_amt:"",status:""}),w(1),N(10),R((e=>!e))},children:"Reset"})]})})]})})})]}),(0,_.jsxs)(r.A,{sx:{padding:3,borderRadius:2,marginTop:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[(0,_.jsx)(c.A,{display:"flex",justifyContent:"flex-end",columnGap:3,children:(0,_.jsx)(u.A,{variant:"contained",color:"nav",sx:{borderColor:"var(--bs-nav)",backgroundColor:"var(--bs-nav)",color:"white"},onClick:async()=>{try{var e,a,t;P(!0);let s={start_date:T.startDate,end_date:T.endDate,min_amt:T.min_amt,max_amt:null===T||void 0===T?void 0:T.max_amt,status:null===T||void 0===T?void 0:T.status};const i=await(0,y.NBR)(s);if((null===i||void 0===i||null===(e=i.data)||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.requestList)||void 0===t?void 0:t.length)>0){var n,r,o;const e=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.requestList)||void 0===o?void 0:o.map(((e,a)=>({"Sr. No":a,"Date / Time":null===e||void 0===e?void 0:e.createdAt,"PayIn Wallet":null===e||void 0===e?void 0:e.payin_wallet,Amount:null===e||void 0===e?void 0:e.amount,Status:null===e||void 0===e?void 0:e.status,Remark:null===e||void 0===e?void 0:e.remark,"Authority Remark":null===e||void 0===e?void 0:e.authority_remark,"Updated At":null===e||void 0===e?void 0:e.updatedAt}))),a=l.Wp.json_to_sheet(e),t=l.Wp.book_new();l.Wp.book_append_sheet(t,a,"Transfer_Pay_In Report"),l._h(t,"Transfer_Pay_In Report_".concat((new Date).toLocaleDateString(),".xlsx"))}else f.Ay.error("No data available to export!")}catch(s){f.Ay.error("Failed to download Excel. Please try again.")}finally{P(!1)}},children:"Download Excel"})}),(0,_.jsxs)(c.A,{sx:{padding:1},children:[(0,_.jsx)(v.A,{component:c.A,elevation:3,children:(0,_.jsxs)(x.A,{children:[(0,_.jsx)(m.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,_.jsxs)(h.A,{children:[(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:"S.No."})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:"Request Date"})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:"PayIn Wallet"})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:" Amount"})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:" Remarks"})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:" Authority Remarks"})}),(0,_.jsx)(p.A,{children:(0,_.jsx)("strong",{children:" Status"})})]})}),(0,_.jsxs)(j.A,{children:[null===W||void 0===W?void 0:W.map(((e,a)=>(0,_.jsxs)(h.A,{hover:!0,children:[(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:a+1+(t-1)*D}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.paymentReqDate}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.payin_wallet}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.amount}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.remark}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.authority_remark}),(0,_.jsx)(p.A,{sx:{color:"var(--bs-nav)"},children:(0,_.jsx)("button",{className:"btn ".concat(C[e.status]),style:{width:"130px"},children:S[null===e||void 0===e?void 0:e.status]||"unknown"})})]},a))),0===(null===W||void 0===W?void 0:W.length)&&(0,_.jsx)(h.A,{children:(0,_.jsx)(p.A,{colSpan:5,align:"center",sx:{color:"gray"},children:"No Data Found"})})]})]})}),(0,_.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,_.jsxs)(c.A,{display:"flex",alignItems:"center",gap:2,children:[(0,_.jsxs)(s.A,{size:"small",sx:{width:"150px"},children:[(0,_.jsx)(b.A,{children:"Rows per page"}),(0,_.jsx)(i.A,{value:D,onChange:e=>{N(Number(e.target.value)),w(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((e=>(0,_.jsx)(d.A,{value:e,children:e},e)))})]}),(0,_.jsxs)(o.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",I]})]}),(0,_.jsx)(g.A,{count:L,page:t,onChange:(e,a)=>{w(a)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})]})]})}}}]);
//# sourceMappingURL=8847.b24f1033.chunk.js.map