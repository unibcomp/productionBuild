{"version":3,"file":"static/js/7818.cdfb660a.chunk.js","mappings":"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","sources":["pages/admin/userlist/CmdInvoice.js","../node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\nimport { FaDownload, FaCheckCircle, FaTimesCircle, FaExclamationCircle } from 'react-icons/fa';\r\nimport { cmdInvoice } from '../../../api/login/Login';\r\nimport { useParams } from 'react-router-dom';\r\nimport \"./CmdInvoice.css\"\r\nimport { imageLogo } from '../../../asesets';\r\nconst CmsInvoice = () => {\r\n    const { id } = useParams();\r\n    const [invoice, setInvoice] = useState(null);\r\n    const invoiceRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fetchInvoiceData = async () => {\r\n            try {\r\n                const response = await cmdInvoice(id);\r\n                setInvoice(response.data.data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching invoice data:\", error);\r\n            }\r\n        };\r\n\r\n        fetchInvoiceData();\r\n    }, [id]);\r\n\r\n    const downloadPDF = () => {\r\n        const input = invoiceRef.current;\r\n        html2canvas(input).then((canvas) => {\r\n          const imgData = canvas.toDataURL('image/png');\r\n          const pdf = new jsPDF('p', 'mm', 'a4');\r\n          const pdfWidth = pdf.internal.pageSize.getWidth();\r\n          const pdfHeight = pdf.internal.pageSize.getHeight();\r\n          const imgWidth = canvas.width;\r\n          const imgHeight = canvas.height;\r\n          const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\r\n          const imgX = (pdfWidth - imgWidth * ratio) / 2;\r\n          const imgY = 30;\r\n    \r\n          pdf.addImage(imgData, 'PNG', imgX, imgY, imgWidth * ratio, imgHeight * ratio);\r\n          pdf.save('cms_invoice.pdf');\r\n        });\r\n    };\r\n    \r\n    if (!invoice) {\r\n        return (\r\n            <div className=\"loading-spinner\">\r\n                <div className=\"spinner\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const getStatusIcon = (status) => {\r\n        switch(status.toLowerCase()) {\r\n            case 'success':\r\n                return <FaCheckCircle className=\"status-icon success\" />;\r\n            case 'failed':\r\n                return <FaTimesCircle className=\"status-icon failed\" />;\r\n            default:\r\n                return <FaExclamationCircle className=\"status-icon pending\" />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"cms-invoice-container\">\r\n            <div className=\"cms-invoice\" ref={invoiceRef}>\r\n                <div className=\"cms-invoice-header\">\r\n                    <img src={imageLogo} alt=\"Needu Logo\" className=\"cms-invoice-logo\"/>\r\n                    <h1>CMS Invoice</h1>\r\n                </div>\r\n                <div className=\"cms-invoice-details\">\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Shop Name:</span>\r\n                        <span>{invoice.shop_name}</span>\r\n                    </div>\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Mobile Number:</span>\r\n                        <span>{invoice.mobile_number}</span>\r\n                    </div>\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Transaction ID:</span>\r\n                        <span>{invoice.txn_id}</span>\r\n                    </div>\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Date & Time:</span>\r\n                        <span>{invoice.createdAt}</span>\r\n                    </div>\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Amount:</span>\r\n                        <span>â‚¹{invoice.amount}</span>\r\n                    </div>\r\n                    <div className=\"cms-invoice-row\">\r\n                        <span>Status:</span>\r\n                        <span className={`status ${invoice.status.toLowerCase()}`}>\r\n                            {getStatusIcon(invoice.status)}\r\n                            {invoice.status}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button className=\"cms-invoice-download\" onClick={downloadPDF}>\r\n                <FaDownload /> Download Invoice\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CmsInvoice;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };"],"names":["CmsInvoice","id","useParams","invoice","setInvoice","useState","invoiceRef","useRef","useEffect","async","response","cmdInvoice","data","error","console","fetchInvoiceData","_jsx","className","children","_jsxs","ref","src","imageLogo","alt","shop_name","mobile_number","txn_id","createdAt","amount","concat","status","toLowerCase","FaCheckCircle","FaTimesCircle","FaExclamationCircle","getStatusIcon","onClick","downloadPDF","input","current","html2canvas","then","canvas","imgData","toDataURL","pdf","jsPDF","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","width","imgHeight","height","ratio","Math","min","imgX","addImage","save","FaDownload","_typeof","o","Symbol","iterator","constructor","prototype"],"sourceRoot":""}