"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2791,6698],{46698:(e,i,n)=>{n.r(i),n.d(i,{default:()=>M,statusFilters:()=>T});var r=n(65043),l=n(73460),o=n(28076),d=n(10039),t=n(11906),a=n(61596),s=n(94496),c=n(94516),v=n(83625),u=n(24056),x=n(79650),h=n(71806),p=n(84882),j=n(32143),m=n(53193),A=n(18356),b=n(72221),g=n(59135),f=n(90035),y=n(26600),w=n(35316),C=n(29347),S=n(73575),_=n(17392),k=n(70378),D=n(98082),W=n(54358),N=(n(91036),n(73216)),I=n(35475),O=n(72777),R=n(22019),z=n(70579);const T={New:"New","Ready To Ship":"Ready To Ship",Manifested:"Manifested",Canceled:"Cancel Order"},M=()=>{const e=(new Date).toISOString().split("T")[0],[i,n]=(0,r.useState)(1),[M,P]=(0,r.useState)(10),[E,B]=(0,r.useState)(!1),[L,F]=(0,r.useState)(0),[V,K]=(0,r.useState)(!1),[Y,G]=(0,r.useState)(!1),U=(0,N.Zp)(),[q,H]=(0,r.useState)({startDate:e,endDate:e,orderId:"",status:"New"}),[Q,Z]=(0,r.useState)(null),[J,X]=(0,r.useState)(null),$=Boolean(Q),ee=(e,i)=>{Z(e.currentTarget),X(i)},ie=()=>{Z(null),X(null)},ne=()=>{G(!1)},[re,le]=(0,r.useState)([]),oe=e=>{const{name:i,value:n}=e.target;"endDate"===i&&q.startDate&&n<q.startDate?R.Ay.error("End date cannot be earlier than start date"):"startDate"===i&&q.endDate&&n>q.endDate?R.Ay.error("Start date cannot be later than end date"):H((e=>({...e,[i]:n})))},de=()=>{H({startDate:"",endDate:"",orderId:"",status:"New"}),ae("New"),n(1),P(10),B((e=>!e))};(0,r.useEffect)((()=>{(async()=>{const e={...q.startDate&&{start_date:q.startDate},...q.endDate&&{end_date:q.endDate},...q.orderId&&{order_id:q.orderId},page:i-1,count:M,status:q.status};K(!0);try{var n,r;let i=await(0,S.yfm)(e);var l,o;!1===(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.error)&&200===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.statusCode)?(le(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.data),F(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.totalCount[0].count)):(le([]),F(0))}catch(d){}finally{K(!1)}})()}),[i,M,E]),(0,r.useEffect)((()=>{de()}),[]);const[te,ae]=(0,r.useState)("New"),se=Math.ceil(L/M),ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(0,z.jsx)(l.A,{children:(0,z.jsx)(o.A,{children:(0,z.jsx)(d.A,{colSpan:e,align:"center",sx:{color:"gray"},children:"No data found"})})})};return(0,z.jsxs)(z.Fragment,{children:[V&&(0,z.jsx)(O.A,{}),(0,z.jsx)(a.A,{sx:{padding:3,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,z.jsx)(s.A,{variant:"h6",sx:{fontWeight:"600",fontSize:"24px"},children:"Order Details"})}),(0,z.jsxs)("div",{className:"card",children:[(0,z.jsx)("div",{className:"card-header",children:" "}),(0,z.jsx)("div",{className:"card-body",children:(0,z.jsx)("form",{children:(0,z.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,z.jsxs)("div",{className:"form-group col-md-4",children:[(0,z.jsx)("label",{children:"Start Date"}),(0,z.jsx)("input",{type:"date",name:"startDate",className:"form-control",value:q.startDate,onChange:oe,max:e})]}),(0,z.jsxs)("div",{className:"form-group col-md-4",children:[(0,z.jsx)("label",{children:"End Date"}),(0,z.jsx)("input",{type:"date",name:"endDate",className:"form-control",value:q.endDate,onChange:oe,max:e})]}),(0,z.jsxs)("div",{className:"form-group col-md-4",children:[(0,z.jsx)("label",{children:"Order ID"}),(0,z.jsx)("input",{type:"text",name:"orderId",placeholder:"Order ID",className:"form-control",value:q.orderId,onChange:oe})]}),(0,z.jsxs)("div",{className:"form-group col-md-6 col-lg-4",children:[(0,z.jsx)("label",{children:"\xa0"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>{console.log("Selected Filters:",q),B((e=>!e))},children:"Search"}),(0,z.jsx)("button",{type:"button",className:"btn btn-light",onClick:de,children:"Reset"})]})]})]})})})]}),(0,z.jsx)(c.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",mt:2},children:(0,z.jsx)(v.A,{value:te,onChange:(e,i)=>{H((e=>({...e,status:i}))),ae(i),B((e=>!e))},variant:"scrollable",scrollButtons:"auto","aria-label":"Order Status Tabs",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,minWidth:120,color:"#555","&.Mui-selected":{color:"#000000",fontWeight:"bold"}},"& .MuiTabs-indicator":{backgroundColor:"#000000"}},children:Object.entries(T).map((e=>{let[i,n]=e;return(0,z.jsx)(u.A,{label:n,value:i},i)}))})}),(0,z.jsx)(a.A,{sx:{padding:3,borderRadius:2,marginTop:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,z.jsxs)(c.A,{sx:{padding:1},children:[(0,z.jsxs)(x.A,{component:c.A,elevation:3,children:[(0,z.jsxs)(h.A,{children:[(0,z.jsx)(p.A,{sx:{backgroundColor:"#f5f5f5"},children:(()=>{switch(te){case"New":return(0,z.jsxs)(o.A,{children:[(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"S.No."})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Date"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Product Value"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"E-Way Bill Mandatory"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order ID"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Status"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Action"})})]});case"Ready To Ship":case"Manifested":return(0,z.jsxs)(o.A,{children:[(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"S.No."})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Date"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Product Value"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order ID"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Courier Name"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Tracking Id"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Total Charges"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Status"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Action"})})]});case"Canceled":return(0,z.jsxs)(o.A,{children:[(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"S.No."})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Date"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Product Value"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order ID"})}),(0,z.jsx)(d.A,{children:(0,z.jsx)("strong",{children:"Order Status"})})]});default:return null}})()}),(()=>{switch(te){case"New":return null!==re&&void 0!==re&&re.length?(0,z.jsx)(l.A,{children:null===re||void 0===re?void 0:re.map(((e,n)=>(0,z.jsxs)(o.A,{hover:!0,children:[(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:n+1+(i-1)*M}),(0,z.jsxs)(d.A,{sx:{color:"var(--bs-nav)"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.n_value}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:(null===e||void 0===e?void 0:e.n_value)>=5e4?"YES":"No"}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,z.jsxs)(d.A,{align:"center",children:[(0,z.jsx)(t.A,{variant:"contained",color:"success",onClick:()=>(e=>{var i;U("/order-ship/?delivery_postcode=".concat(null===e||void 0===e||null===(i=e.shipping_address)||void 0===i?void 0:i.shipping_pincode,"&order_id=").concat(null===e||void 0===e?void 0:e.shipRocket_order_id))})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Ship"}),(0,z.jsx)(_.A,{onClick:i=>ee(i,e),children:(0,z.jsx)(D.A,{})})]})]},n)))}):ce(7);case"Manifested":return null!==re&&void 0!==re&&re.length?(0,z.jsx)(l.A,{children:null===re||void 0===re?void 0:re.map(((e,n)=>(0,z.jsxs)(o.A,{hover:!0,children:[(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:n+1+(i-1)*M}),(0,z.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,z.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,z.jsxs)(d.A,{sx:{minWidth:"300px",textAlign:"center"},children:[(0,z.jsx)(t.A,{variant:"contained",color:"success",onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e.manifest_url){const i=document.createElement("a");return i.href=null===e||void 0===e?void 0:e.manifest_url,i.download=null===e||void 0===e?void 0:e.manifest_url,document.body.appendChild(i),i.click(),void document.body.removeChild(i)}let i={shipment_id:null===e||void 0===e?void 0:e.shipment_id};try{var n,r,l;let e=await(0,S.nJg)(i);if(!1===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)){var o,d;const i=document.createElement("a");i.href=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.manifest_url,i.download=null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data.manifest_url,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(0,W.A)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error,null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message),ie(),B((e=>!e))}catch(t){}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Generate Manifeast"}),(0,z.jsx)(_.A,{onClick:i=>ee(i,e),children:(0,z.jsx)(D.A,{})})]})]},n)))}):ce(11);case"Ready To Ship":return null!==re&&void 0!==re&&re.length?(0,z.jsx)(l.A,{children:null===re||void 0===re?void 0:re.map(((e,n)=>(0,z.jsxs)(o.A,{hover:!0,children:[(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:n+1+(i-1)*M}),(0,z.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,z.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,z.jsxs)(d.A,{sx:{minWidth:"250px",textAlign:"center"},children:[(0,z.jsx)(t.A,{variant:"contained",color:"success",onClick:()=>(async e=>{let i={shipment_id:null===e||void 0===e?void 0:e.shipment_id};K(!0);try{var n,r,l;let e=await(0,S.mLl)(i);!1===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.error)&&B((e=>!e)),(0,W.A)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error,null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)}catch(o){}finally{K(!1)}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Schedule Pickup"}),(0,z.jsx)(_.A,{onClick:i=>ee(i,e),children:(0,z.jsx)(D.A,{})})]})]},n)))}):ce(11);case"delivered":return null!==re&&void 0!==re&&re.length?(0,z.jsx)(l.A,{children:null===re||void 0===re?void 0:re.map(((e,n)=>(0,z.jsxs)(o.A,{hover:!0,children:[(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:n+1+(i-1)*M}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveredDate}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveryPerson})]},n)))}):ce();case"Canceled":return null!==re&&void 0!==re&&re.length?(0,z.jsx)(l.A,{children:null===re||void 0===re?void 0:re.map(((e,n)=>(0,z.jsxs)(o.A,{hover:!0,children:[(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:n+1+(i-1)*M}),(0,z.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,z.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus})]},n)))}):ce(5);default:return null}})()]}),(0,z.jsxs)(k.A,{anchorEl:Q,open:$,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{borderRadius:2,minWidth:200,bgcolor:"#fff",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",p:1}},MenuListProps:{sx:{py:0}},children:["New"===te&&(0,z.jsx)(j.A,{onClick:()=>{G(!0)},sx:{fontSize:"14px",color:"red",px:2,py:1},children:"Cancel Order"}),(0,z.jsx)(j.A,{onClick:()=>{(async()=>{let e={shipRocket_order_id:null===J||void 0===J?void 0:J.shipRocket_order_id};try{var i,n,r;let d=await(0,S.tKj)(e);if(!1===(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.error)){var l,o;const e=document.createElement("a");e.href=null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.data.invoice_url,e.download=null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.data.invoice_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,W.A)(null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.error,null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message),ie()}catch(d){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Download Invoice"}),(0,z.jsx)(j.A,{onClick:()=>{(async()=>{console.log("click");let e={shipment_id:null===J||void 0===J?void 0:J.shipment_id};try{var i,n,r;let d=await(0,S.MVw)(e);if(console.log(d,"res"),!1===(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.error)){var l,o;const e=document.createElement("a");e.href=null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.data.label_url,e.download=null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.data.label_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,W.A)(null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.error,null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message),ie()}catch(d){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Generate Label"}),(0,z.jsx)(j.A,{onClick:()=>{(()=>{const e="/order-details/".concat(null===J||void 0===J?void 0:J.shipRocket_order_id),i=null!==J&&void 0!==J&&J.waybill?"".concat(e,"/").concat(null===J||void 0===J?void 0:J.waybill):e;U(i)})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"View Order"})]})]}),(0,z.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,z.jsxs)(c.A,{display:"flex",alignItems:"center",gap:2,children:[(0,z.jsxs)(m.A,{size:"small",sx:{width:"150px"},children:[(0,z.jsx)(A.A,{children:"Rows per page"}),(0,z.jsx)(b.A,{value:M,onChange:e=>{P(Number(e.target.value)),n(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((e=>(0,z.jsx)(j.A,{value:e,children:e},e)))})]}),(0,z.jsxs)(s.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",L]})]}),(0,z.jsx)(g.A,{count:se,page:i,onChange:(e,i)=>{n(i)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})}),(0,z.jsxs)(f.A,{open:Y,onClose:ne,children:[(0,z.jsx)(y.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,z.jsx)(w.A,{children:(0,z.jsx)(s.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this order? This action cannot be undone."})}),(0,z.jsxs)(C.A,{sx:{px:3,pb:2},children:[(0,z.jsx)(t.A,{onClick:ne,color:"inherit",children:"No, Keep Order"}),(0,z.jsx)(t.A,{onClick:async()=>{let e={shipRocket_order_id:null===J||void 0===J?void 0:J.shipRocket_order_id};try{var i,n,r;let l=await(0,S.gUq)(e);!1===(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error)&&(ne(),ie(),B((e=>!e))),(0,W.A)(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.error,null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)}catch(l){}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})}},2791:(e,i,n)=>{n.r(i),n.d(i,{default:()=>_});var r=n(65043),l=n(26240),o=n(73036),d=n(94516),t=n(17392),a=n(68903),s=n(12110),c=n(67807),v=n(94496),u=n(11906),x=n(39336),h=n(90035),p=n(26600),j=n(35316),m=n(29347),A=n(68641),b=n(85502),g=n(19778),f=n(73216),y=n(73575),w=n(72777),C=n(54358),S=(n(91036),n(46698),n(70579));const _=()=>{var e,i,n,_,W,N,I,O,R;const{orderId:z,trackingId:T}=(0,f.g)(),M=(0,l.A)(),P=(0,o.A)(M.breakpoints.down("sm")),[E,B]=(0,r.useState)(),[L,F]=(0,r.useState)(!0),V=(0,f.Zp)(),[K,Y]=(0,r.useState)(!1),[G,U]=(0,r.useState)(null),q=["Ready To Ship","Manifested"];(0,r.useEffect)((()=>{(async()=>{if(z){F(!0);try{var e;const l=await(0,y.IAQ)({order_id:z});var i,n,r;!1===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.error)?(B(null===l||void 0===l||null===(i=l.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.orderData),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)):console.warn("Error fetching order data:",null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message)}catch(l){console.error("Failed to fetch order:",l)}finally{F(!1)}}else V("/order-details")})(),T&&(async()=>{try{var e,i;let n=await(0,y.qSY)(T);U((null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.tracking_data)||null)}catch(n){}})()}),[K]);const[H,Q]=(0,r.useState)(!1),Z=()=>{Q(!1)};return(0,S.jsxs)(S.Fragment,{children:[L&&(0,S.jsx)(w.A,{}),(0,S.jsxs)(d.A,{p:{xs:2,sm:3,md:4},bgcolor:"#f9f9f9",children:[(0,S.jsx)(t.A,{onClick:()=>{V("/order-details")},sx:{mb:2},children:(0,S.jsx)(A.A,{})}),(0,S.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,S.jsxs)(a.Ay,{item:!0,xs:12,md:7,children:[T&&(0,S.jsx)(s.A,{sx:{p:3,mb:4,borderRadius:3},children:(0,S.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,S.jsx)(a.Ay,{item:!0,xs:12,md:9,children:(0,S.jsxs)(c.A,{spacing:1,children:[(0,S.jsxs)(v.A,{variant:"h6",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:["Tracking No: ",T]}),(0,S.jsx)(d.A,{sx:{overflowX:"auto",pb:1}})]})}),(0,S.jsx)(a.Ay,{item:!0,xs:12,md:3,textAlign:P?"left":"right"})]})}),(0,S.jsx)(a.Ay,{container:!0,item:!0,xs:12,sm:12,md:12,mb:2,justifyContent:"flex-end",children:(0,S.jsx)(c.A,{spacing:2,children:q.includes(null===E||void 0===E?void 0:E.orderStatus)&&(0,S.jsx)(u.A,{variant:"outlined",fullWidth:!0,color:"error",startIcon:(0,S.jsx)(b.A,{}),disabled:!q.includes(null===E||void 0===E?void 0:E.orderStatus),onClick:()=>{Q(!0)},children:"Cancel Shipment"})})}),(0,S.jsxs)(s.A,{sx:{p:3,mb:4,borderRadius:3,boxShadow:1},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Order Details"}),(0,S.jsx)(x.A,{}),[["Order ID",null===E||void 0===E?void 0:E.order_id],["Order Status",null===E||void 0===E?void 0:E.orderStatus],["LR Number",null===E||void 0===E?void 0:E.lrnum],["Payment",null===E||void 0===E?void 0:E.mode],["Amount",null!==E&&void 0!==E&&E.amount?"\u20b9".concat(null===E||void 0===E?void 0:E.amount):null],["Plateform Charge",null!==E&&void 0!==E&&E.plateformCharge?"\u20b9".concat(null===E||void 0===E?void 0:E.plateformCharge):null],["Final Amount",null!==E&&void 0!==E&&E.finalAmount?"\u20b9".concat(null===E||void 0===E?void 0:E.finalAmount):null]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,r]=e;return(0,S.jsx)(D,{label:n,value:r},i)}))]}),(0,S.jsxs)(s.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Customer Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),[["Name",null===E||void 0===E||null===(e=E.shipping_address)||void 0===e?void 0:e.shipping_customer_name],["Phone",null===E||void 0===E||null===(i=E.shipping_address)||void 0===i?void 0:i.shipping_phone],["Address",null===E||void 0===E||null===(n=E.shipping_address)||void 0===n?void 0:n.shipping_address],["Pincode",null===E||void 0===E||null===(_=E.shipping_address)||void 0===_?void 0:_.shipping_state],["City",null===E||void 0===E||null===(W=E.shipping_address)||void 0===W?void 0:W.shipping_city],["State",null===E||void 0===E||null===(N=E.shipping_address)||void 0===N?void 0:N.shipping_customer_name]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,r]=e;return(0,S.jsx)(D,{label:n,value:r},i)}))]}),(e=>{const i=null===G||void 0===G||null===(e=G.shipment_track)||void 0===e?void 0:e[0];return i?(0,S.jsxs)(s.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Shipment Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),[["Courier",i.courier_name],["AWB Number",i.awb_code],["Pickup Date",i.pickup_date],["Estimated Delivery",i.edd]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,r]=e;return(0,S.jsx)(D,{label:n,value:r},i)}))]}):null})(),(0,S.jsxs)(s.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Package Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(()=>{const e=(null===E||void 0===E?void 0:E.weight)||0,i=(null===E||void 0===E?void 0:E.length)||0,n=(null===E||void 0===E?void 0:E.width)||0,r=(null===E||void 0===E?void 0:E.height)||0,l=+(i*n*r/5e3).toFixed(2),o=Math.max(e,l);return[["Dead Weight in (kg)",e],["Dimensions in (cm)","".concat(i," * ").concat(n," * ").concat(r)],["Volumetric Weight in (kg)",l],["Applied Weight in (kg)",o]].filter((e=>{let[i,n]=e;return null!==n&&void 0!==n})).map(((e,i)=>{let[n,r]=e;return(0,S.jsx)(D,{label:n,value:r},i)}))})()]}),(0,S.jsxs)(s.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Product Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(0,S.jsxs)(d.A,{display:"flex",justifyContent:"space-between",fontWeight:600,px:2,py:1,children:[(0,S.jsx)(d.A,{sx:k,width:"40%",children:"Name"}),(0,S.jsx)(d.A,{sx:k,width:"15%",children:"SKU"}),(0,S.jsx)(d.A,{sx:k,width:"18%",children:"Qty"}),(0,S.jsx)(d.A,{sx:k,width:"17%",children:"Unit Price"})]}),(0,S.jsx)(x.A,{}),null===E||void 0===E||null===(I=E.order_items)||void 0===I?void 0:I.map((e=>(0,S.jsxs)(d.A,{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,py:1,children:[(0,S.jsxs)(d.A,{width:"40%",sx:k,children:[e.name," "]}),(0,S.jsx)(d.A,{width:"15%",sx:k,children:e.sku}),(0,S.jsx)(d.A,{width:"18%",sx:k,children:e.units}),(0,S.jsxs)(d.A,{width:"17%",sx:k,children:["\u20b9",e.selling_price]})]},e._id))),(0,S.jsx)(x.A,{sx:{mt:2}})]})]}),(null===G||void 0===G||null===(O=G.shipment_track_activities)||void 0===O?void 0:O.length)>0&&(0,S.jsx)(a.Ay,{item:!0,xs:12,md:5,children:(0,S.jsxs)(s.A,{sx:{p:3,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Tracking History"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(0,S.jsx)(c.A,{spacing:3,pl:1,maxHeight:"500px",overflow:"auto",children:null===G||void 0===G||null===(R=G.shipment_track_activities)||void 0===R?void 0:R.map(((e,i)=>(0,S.jsxs)(c.A,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,S.jsx)(g.A,{color:"success"}),(0,S.jsxs)(d.A,{children:[(0,S.jsx)(v.A,{sx:{fontSize:"15px",color:"var(--bs-nav)",fontWeight:600},children:null===e||void 0===e?void 0:e.activity}),(0,S.jsx)(v.A,{variant:"body2",sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.location}),(0,S.jsx)(v.A,{variant:"caption",color:"text.secondary",children:null===e||void 0===e?void 0:e.date})]})]},i)))})]})})]})]}),(0,S.jsxs)(h.A,{open:H,onClose:Z,children:[(0,S.jsx)(p.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,S.jsx)(j.A,{children:(0,S.jsx)(v.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this shipment? This action cannot be undone."})}),(0,S.jsxs)(m.A,{sx:{px:3,pb:2},children:[(0,S.jsx)(u.A,{onClick:Z,color:"inherit",children:"No, Keep Order"}),(0,S.jsx)(u.A,{onClick:async()=>{F(!0);try{var e,i,n;let r=await(0,y.acT)({waybill:T});!1===(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.error)&&(Q(!1),Y((e=>!e))),(0,C.A)(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error,null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)}catch(r){}finally{F(!1)}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})},k={fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word",mt:.5},D=e=>{let{label:i,value:n}=e;return(0,S.jsxs)(d.A,{display:"flex",mb:1,columnGap:10,children:[(0,S.jsxs)(v.A,{flex:3,sx:{fontSize:"14px",color:"var(--bs-nav)",minWidth:"130px",fontWeight:600},children:[i,":"]}),(0,S.jsx)(v.A,{flex:5,sx:{fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word"},children:n})]})}},54358:(e,i,n)=>{n.d(i,{A:()=>l});var r=n(91036);function l(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?r.oR.success(i):r.oR.error(i)}}}]);
//# sourceMappingURL=2791.cf3f32f1.chunk.js.map