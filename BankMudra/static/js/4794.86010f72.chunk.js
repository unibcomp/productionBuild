"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[4794],{31763:(e,r,o)=>{o.r(r),o.d(r,{default:()=>s});var n=o(65043),t=o(73575),a=o(91036),l=o(95870),i=o(70579);const s=function(){const[e,r]=(0,n.useState)(!1),[o,s]=(0,n.useState)(null),[c,d]=(0,n.useState)({payment_from:"",username:"",mobile:"",email:"",address:"",area_pincode:"",account_no:"",method:"",amount:"",lat:"",long:""}),[u,m]=(0,n.useState)({username:!1,mobile:!1,email:!1,address:!1,area_pincode:!1,account_no:!1});(0,n.useEffect)((()=>{(async()=>{try{var e;const r=await(0,t.mQ9)(),o=(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data)||null;s(o)}catch(r){console.error("Getprofile error:",r),a.oR.error("Failed to load profile")}})(),navigator.geolocation.getCurrentPosition((e=>d((r=>({...r,lat:e.coords.latitude,long:e.coords.longitude})))),(()=>a.oR.warning("Location disabled, default applied")))}),[]),(0,n.useEffect)((()=>{c.payment_from&&o&&("own"===c.payment_from&&(d((e=>{var r;return{...e,username:(null===o||void 0===o?void 0:o.name)||"",mobile:(null===o||void 0===o?void 0:o.mobile)||"",email:(null===o||void 0===o?void 0:o.email)||"",address:(null===o||void 0===o?void 0:o.presentAddr)||"",area_pincode:(null===o||void 0===o?void 0:o.pinCode)||"",account_no:(null===o||void 0===o||null===(r=o.bankDetails)||void 0===r?void 0:r.bank_account_number)||""}})),m({username:!0,mobile:!0,email:!0,address:!0,area_pincode:!0,account_no:!0})),"OtherBank"===c.payment_from&&(d((e=>({...e,username:(null===o||void 0===o?void 0:o.name)||"",mobile:(null===o||void 0===o?void 0:o.mobile)||"",email:(null===o||void 0===o?void 0:o.email)||"",address:(null===o||void 0===o?void 0:o.presentAddr)||"",area_pincode:(null===o||void 0===o?void 0:o.pinCode)||"",account_no:""}))),m({username:!0,mobile:!0,email:!0,address:!0,area_pincode:!0,account_no:!1})))}),[c.payment_from,o]);const p=e=>{const{name:r,value:o}=e.target;d((e=>({...e,[r]:o})))},f=(e,r)=>{d((o=>({...o,[e]:(null===r||void 0===r?void 0:r.value)||""})))},b={height:"45px",borderRadius:"12px",backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",paddingLeft:"10px",fontSize:"14px",width:"100%"},y={control:e=>({...e,backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",borderRadius:"12px",height:"45px",minHeight:"45px",cursor:"pointer",boxShadow:"none","&:hover":{border:"1px solid var(--bs-primary2)"}}),menu:e=>({...e,backgroundColor:"var(--bs-primary3)",border:"1px solid var(--bs-primary2)"}),option:(e,r)=>({...e,backgroundColor:r.isFocused?"#99999950":"var(--bs-primary3)",color:"var(--bs-primary2)",borderBottom:"1px solid var(--bs-primary2)",cursor:"pointer"}),singleValue:e=>({...e,color:"var(--bs-primary2)"}),placeholder:e=>({...e,color:"var(--bs-primary2)",opacity:.6})};return(0,i.jsxs)("div",{className:"PageHeading",children:[(0,i.jsx)("h1",{children:"Online Payment Request"}),(0,i.jsx)("div",{className:"ContentArea",children:(0,i.jsx)("div",{className:"card",style:{background:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1.5px solid var(--bs-primary2)",borderRadius:"16px",padding:"20px"},children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsx)("form",{children:(0,i.jsxs)("div",{className:"form-row",style:{border:"1px solid var(--bs-primary2)",padding:"15px",borderRadius:"16px"},children:[(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Add Amount From *"}),(0,i.jsx)(l.Ay,{value:c.payment_from?{value:c.payment_from,label:"own"===c.payment_from?"Own Account":"Other Bank Account"}:null,onChange:e=>f("payment_from",e),options:[{value:"own",label:"Own Account"},{value:"OtherBank",label:"Other Bank Account"}],styles:y,placeholder:"Select Source",isSearchable:!1,isDisabled:!1})]}),""!==c.payment_from&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Full Name *"}),(0,i.jsx)("input",{className:"form-control",name:"username",value:c.username,onChange:p,style:b,placeholder:"Enter Full Name",disabled:u.username})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Mobile *"}),(0,i.jsx)("input",{className:"form-control",name:"mobile",maxLength:10,value:c.mobile,onChange:p,style:b,placeholder:"Enter Mobile",disabled:u.mobile})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Email *"}),(0,i.jsx)("input",{className:"form-control",name:"email",type:"email",value:c.email,onChange:p,style:b,placeholder:"Enter Email",disabled:u.email})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Address *"}),(0,i.jsx)("input",{className:"form-control",name:"address",value:c.address,onChange:p,style:b,placeholder:"Enter Address",disabled:u.address})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Pincode *"}),(0,i.jsx)("input",{className:"form-control",name:"area_pincode",maxLength:6,value:c.area_pincode,onChange:p,style:b,placeholder:"Enter Pincode",disabled:u.area_pincode})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Account Number *"}),(0,i.jsx)("input",{className:"form-control",name:"account_no",maxLength:18,value:c.account_no,onChange:p,style:b,placeholder:"Enter Account Number",disabled:u.account_no})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Payment Method *"}),(0,i.jsx)(l.Ay,{value:c.method?{value:c.method,label:c.method.toUpperCase()}:null,onChange:e=>f("method",e),options:[{value:"upi",label:"UPI"},{value:"card",label:"Card"},{value:"netbanking",label:"Net Banking"},{value:"wallet",label:"Wallet"}],placeholder:"Select Method",styles:y,isSearchable:!1})]}),(0,i.jsxs)("div",{className:"form-group col-md-3",children:[(0,i.jsx)("label",{style:{fontWeight:700},children:"Amount *"}),(0,i.jsx)("input",{className:"form-control",name:"amount",type:"number",value:c.amount,onChange:p,style:b,placeholder:"Enter Amount"})]}),(0,i.jsx)("div",{className:"form-group col-md-12 mt-2",children:(0,i.jsx)("p",{style:{fontSize:"13px",color:"red",fontWeight:"600",marginTop:"5px",textAlign:"center"},children:"Note: Enter the exact bank account number used for the payment. The retailer\u2019s details and the bank account information must match \u2014 incorrect or mismatched details will result in the payment not being processed."})}),(0,i.jsx)("div",{className:"form-group col-md-12 text-center mt-3",children:(0,i.jsx)("button",{type:"button",onClick:async()=>{if(!c.payment_from)return a.oR.error("Select payment source");if(!c.username)return a.oR.error("Full Name required");if(!c.mobile)return a.oR.error("Mobile required");if(!c.email)return a.oR.error("Email required");if(e=c.email,!/^(?!.*\.\.)(?!.*\.$)[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+(?:\.[A-Za-z]{2,})+$/.test(String(e||"").trim()))return a.oR.error("Invalid email format");var e;if(!c.address)return a.oR.error("Address required");if(!c.area_pincode)return a.oR.error("Pincode required");if(!c.account_no)return a.oR.error("Account Number required");if(!c.method)return a.oR.error("Payment method required");if(!c.amount)return a.oR.error("Amount required");r(!0);try{var o;const e=await(0,t.qmd)(c),r=null===e||void 0===e?void 0:e.data;null!==r&&void 0!==r&&r.success&&null!==r&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.url?(a.oR.success("Redirecting to payment..."),setTimeout((()=>window.open(r.data.url,"_blank")),500)):a.oR.error((null===r||void 0===r?void 0:r.message)||"Payment Failed")}catch(n){console.error("createOnlinePayment error:",n),a.oR.error("Network Error")}finally{r(!1)}},disabled:e||!c.username||!c.mobile||!c.email||!c.address||!c.area_pincode||!c.account_no||!c.method||!c.amount,style:{borderRadius:"50px",padding:"12px 45px",backgroundColor:!e&&c.username&&c.mobile&&c.email&&c.address&&c.area_pincode&&c.account_no&&c.method&&c.amount?"var(--bs-primary3)":"#777",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",fontWeight:"bold",fontSize:"16px"},children:e?"Processing...":"Submit Request"})})]})]})})})})})]})}},43145:(e,r,o)=>{function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,n=Array(r);o<r;o++)n[o]=e[o];return n}o.d(r,{A:()=>n})},96369:(e,r,o)=>{function n(e){if(Array.isArray(e))return e}o.d(r,{A:()=>n})},9417:(e,r,o)=>{function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}o.d(r,{A:()=>n})},23029:(e,r,o)=>{function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}o.d(r,{A:()=>n})},92901:(e,r,o)=>{o.d(r,{A:()=>a});var n=o(20816);function t(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,(0,n.A)(t.key),t)}}function a(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}},29426:(e,r,o)=>{o.d(r,{A:()=>l});var n=o(53954),t=o(52176),a=o(56822);function l(e){var r=(0,t.A)();return function(){var o,t=(0,n.A)(e);if(r){var l=(0,n.A)(this).constructor;o=Reflect.construct(t,arguments,l)}else o=t.apply(this,arguments);return(0,a.A)(this,o)}}},58168:(e,r,o)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(null,arguments)}o.d(r,{A:()=>n})},53954:(e,r,o)=>{function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}o.d(r,{A:()=>n})},85501:(e,r,o)=>{o.d(r,{A:()=>t});var n=o(63662);function t(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&(0,n.A)(e,r)}},52176:(e,r,o)=>{function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n=function(){return!!e})()}o.d(r,{A:()=>n})},73893:(e,r,o)=>{function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}o.d(r,{A:()=>n})},76562:(e,r,o)=>{function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}o.d(r,{A:()=>n})},89379:(e,r,o)=>{o.d(r,{A:()=>a});var n=o(64467);function t(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(r){(0,n.A)(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}},80045:(e,r,o)=>{o.d(r,{A:()=>t});var n=o(98587);function t(e,r){if(null==e)return{};var o,t,a=(0,n.A)(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)o=l[t],r.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}},98587:(e,r,o)=>{function n(e,r){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;o[n]=e[n]}return o}o.d(r,{A:()=>n})},56822:(e,r,o)=>{o.d(r,{A:()=>a});var n=o(82284),t=o(9417);function a(e,r){if(r&&("object"==(0,n.A)(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return(0,t.A)(e)}},63662:(e,r,o)=>{function n(e,r){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},n(e,r)}o.d(r,{A:()=>n})},5544:(e,r,o)=>{o.d(r,{A:()=>l});var n=o(96369);var t=o(27800),a=o(76562);function l(e,r){return(0,n.A)(e)||function(e,r){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,t,a,l,i=[],s=!0,c=!1;try{if(a=(o=o.call(e)).next,0===r){if(Object(o)!==o)return;s=!1}else for(;!(s=(n=a.call(o)).done)&&(i.push(n.value),i.length!==r);s=!0);}catch(e){c=!0,t=e}finally{try{if(!s&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(c)throw t}}return i}}(e,r)||(0,t.A)(e,r)||(0,a.A)()}},57528:(e,r,o)=>{function n(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}o.d(r,{A:()=>n})},60436:(e,r,o)=>{o.d(r,{A:()=>l});var n=o(43145);var t=o(73893),a=o(27800);function l(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,t.A)(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},27800:(e,r,o)=>{o.d(r,{A:()=>t});var n=o(43145);function t(e,r){if(e){if("string"==typeof e)return(0,n.A)(e,r);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?(0,n.A)(e,r):void 0}}}}]);
//# sourceMappingURL=4794.86010f72.chunk.js.map