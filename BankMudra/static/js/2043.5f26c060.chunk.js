"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2043],{12043:(n,e,a)=>{a.r(e),a.d(e,{default:()=>w});var o=a(65043),l=a(11238),i=a(61596),r=a(94496),d=a(94516),t=a(11906),s=a(79650),c=a(71806),u=a(84882),v=a(28076),x=a(10039),h=a(73460),m=a(53193),j=a(18356),b=a(72221),g=a(32143),p=a(59135),A=(a(91036),a(72777)),y=a(73575),_=a(73216),f=a(22019),C=a(70579);const k={1:"Pending",2:"Success",3:"Failed",4:"Refund"},N={1:"btn btn-warning",2:"btn btn-success",3:"btn btn-danger",4:"btn btn-light"},w=()=>{const{id:n}=(0,_.g)(),e=(new Date).toISOString().split("T")[0],[a,w]=(0,o.useState)(1),[S,D]=(0,o.useState)(10),[I,O]=(0,o.useState)(!1),[M,B]=(0,o.useState)(0),[R,T]=(0,o.useState)(!1),[W,P]=(0,o.useState)([]),[E,F]=(0,o.useState)({startDate:e,endDate:e,txn_id:"",order_id:""}),L=(n,e)=>{["user_mobile"].includes(n)&&""!==e&&!/^[0-9\b]+$/.test(e)||F((a=>({...a,[n]:e})))};(0,o.useEffect)((()=>{(async()=>{let n={page:a-1,count:S,start_date:E.startDate,end_date:E.endDate,txn_id:null===E||void 0===E?void 0:E.txn_id,order_id:null===E||void 0===E?void 0:E.order_id};try{var e;let a=await(0,y.Kmz)(n);var o,l;200===(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.statusCode)?(P(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.data),B(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.totalCount)):(P([]),B(0))}catch(i){}})()}),[I,a,S]);const z=Math.ceil(M/S);return(0,C.jsxs)(C.Fragment,{children:[R&&(0,C.jsx)(A.A,{}),(0,C.jsx)(i.A,{sx:{padding:3,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,C.jsx)(r.A,{variant:"h6",sx:{fontWeight:"600",fontSize:"24px",color:"var(--bs-nav)",textAlign:"center"},children:"Payout Report"})}),(0,C.jsxs)("div",{className:"card",children:[(0,C.jsx)("div",{className:"card-header",children:" "}),(0,C.jsx)("div",{className:"card-body",children:(0,C.jsx)("form",{children:(0,C.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,C.jsxs)("div",{className:"form-group col-md-4",children:[(0,C.jsx)("label",{children:"Start Date"}),(0,C.jsx)("input",{type:"date",name:"startDate",className:"form-control",value:E.startDate,onChange:n=>L("startDate",n.target.value),max:e})]}),(0,C.jsxs)("div",{className:"form-group col-md-4",children:[(0,C.jsx)("label",{children:"End Date"}),(0,C.jsx)("input",{type:"date",name:"endDate",className:"form-control",value:E.endDate,onChange:n=>L("endDate",n.target.value),max:e})]}),(0,C.jsxs)("div",{className:"form-group col-md-4",children:[(0,C.jsx)("label",{children:"Txn Id"}),(0,C.jsx)("input",{type:"text",name:"txn_id",className:"form-control",value:E.txn_id,onChange:n=>L("txn_id",n.target.value)})]}),(0,C.jsx)("div",{className:"form-group col-md-12 col-lg-12",children:(0,C.jsxs)("div",{children:[(0,C.jsx)("button",{type:"button",className:"btn btn-primary mr-3",onClick:()=>{O((n=>!n))},children:"Search"}),(0,C.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{F({startDate:"",endDate:"",txn_id:"",order_id:""}),w(1),D(10),O((n=>!n))},children:"Reset"})]})})]})})})]}),(0,C.jsxs)(i.A,{sx:{padding:3,borderRadius:2,marginTop:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[(0,C.jsx)(d.A,{display:"flex",justifyContent:"flex-end",columnGap:3,children:(0,C.jsx)(t.A,{variant:"contained",color:"nav",sx:{borderColor:"var(--bs-nav)",backgroundColor:"var(--bs-nav)",color:"white"},onClick:async()=>{try{var n;T(!0);const e={...E},a=await(0,y.aep)(e),o=(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data)||[];if(o.length>0){const n=o.map(((n,e)=>({"Sr. No":e+1,"Date / Time":null===n||void 0===n?void 0:n.createdAt,"Transaction ID":null===n||void 0===n?void 0:n.txn_id,"Bank Account Number":null===n||void 0===n?void 0:n.bank_account_number,"Bank IFSC":null===n||void 0===n?void 0:n.bank_ifsc,"Bank Name":null===n||void 0===n?void 0:n.bank_name,"Account Holder Name":null===n||void 0===n?void 0:n.account_name,"Opening Balance":null===n||void 0===n?void 0:n.opening_balance,Amount:null===n||void 0===n?void 0:n.amount,"Charge Amount":null===n||void 0===n?void 0:n.charge_amount,"Tax On Charge":null===n||void 0===n?void 0:n.taxOnCharge,"Closing Balance":null===n||void 0===n?void 0:n.closing_balance,"Payment Mode":null===n||void 0===n?void 0:n.paymentMode,Status:k[null===n||void 0===n?void 0:n.status]||"Unknown","Batch ID":(null===n||void 0===n?void 0:n.batchId)||"",UTR:(null===n||void 0===n?void 0:n.utr)||"",Message:null===n||void 0===n?void 0:n.message,"Enquiry Number Log":null===n||void 0===n?void 0:n.enqNumLog,"Num Log":null===n||void 0===n?void 0:n.numLog}))),e=l.Wp.json_to_sheet(n),a=l.Wp.book_new();l.Wp.book_append_sheet(a,e,"Pay_Out Report");const i="Pay_Out_Report_".concat((new Date).toLocaleDateString(),".xlsx");l._h(a,i)}else f.Ay.error("No data available to export!")}catch(e){f.Ay.error("Failed to download Excel. Please try again.")}finally{T(!1)}},children:"Download Excel"})}),(0,C.jsxs)(d.A,{sx:{padding:1},children:[(0,C.jsx)(s.A,{component:d.A,elevation:3,children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(u.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsxs)(v.A,{children:[(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"S.No."})}),(0,C.jsx)(x.A,{sx:{minWidth:"180px"},children:(0,C.jsx)("strong",{children:"Created Date"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Txn Id"})}),(0,C.jsx)(x.A,{sx:{minWidth:"180px"},children:(0,C.jsx)("strong",{children:"Bank Account"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"IFSC"})}),(0,C.jsx)(x.A,{sx:{minWidth:"180px"},children:(0,C.jsx)("strong",{children:"Bank Name"})}),(0,C.jsx)(x.A,{sx:{minWidth:"180px"},children:(0,C.jsx)("strong",{children:"Account Name"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Opening Balance"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Amount"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Charge Amount"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Tax On Charge"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Closing Balance"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Payment Mode"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Status"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"UTR"})}),(0,C.jsx)(x.A,{children:(0,C.jsx)("strong",{children:"Enquiry"})})]})}),(0,C.jsx)(h.A,{children:null===W||void 0===W?void 0:W.map(((n,e)=>{var o;return(0,C.jsxs)(v.A,{hover:!0,children:[(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:e+1+(a-1)*S}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.createdAt)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.txn_id)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.bank_account_number)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.bank_ifsc)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.bank_name)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.account_name)||"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:null!=(null===n||void 0===n?void 0:n.opening_balance)?n.opening_balance:"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:null!=(null===n||void 0===n?void 0:n.amount)?n.amount:"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:null!=(null===n||void 0===n?void 0:n.charge_amount)?n.charge_amount:"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:null!==(o=null===n||void 0===n?void 0:n.taxOnCharge)&&void 0!==o?o:"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:null!=(null===n||void 0===n?void 0:n.closing_balance)?n.closing_balance:"-"}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.paymentMode)||"-"}),(0,C.jsx)(x.A,{children:(0,C.jsx)("button",{className:"btn ".concat(N[null===n||void 0===n?void 0:n.status]),style:{width:"130px"},children:k[null===n||void 0===n?void 0:n.status]||"Unknown"})}),(0,C.jsx)(x.A,{sx:{color:"var(--bs-nav)"},children:(null===n||void 0===n?void 0:n.utr)||"-"}),(0,C.jsx)(x.A,{children:(0,C.jsx)("button",{className:"btn btn-primary",onClick:()=>(async n=>{T(!0);try{var e;let l=await(0,y.m37)(n);var a,o;!1===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.error)?f.Ay.success(null===(a=l.data)||void 0===a?void 0:a.message):f.Ay.error(null===(o=l.data)||void 0===o?void 0:o.message)}catch(l){}finally{T(!1),O((n=>!n))}})(null===n||void 0===n?void 0:n._id),disabled:1!==(null===n||void 0===n?void 0:n.status),children:"Enquiry"})})]},e)}))})]})}),(0,C.jsxs)(d.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,C.jsxs)(d.A,{display:"flex",alignItems:"center",gap:2,children:[(0,C.jsxs)(m.A,{size:"small",sx:{width:"150px"},children:[(0,C.jsx)(j.A,{children:"Rows per page"}),(0,C.jsx)(b.A,{value:S,onChange:n=>{D(Number(n.target.value)),w(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((n=>(0,C.jsx)(g.A,{value:n,children:n},n)))})]}),(0,C.jsxs)(r.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",M]})]}),(0,C.jsx)(p.A,{count:z,page:a,onChange:(n,e)=>{w(e)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})]})]})}}}]);
//# sourceMappingURL=2043.5f26c060.chunk.js.map