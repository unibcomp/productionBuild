"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2791],{2791:(e,i,n)=>{n.r(i),n.d(i,{default:()=>_});var t=n(65043),o=n(26240),l=n(73036),r=n(94516),s=n(17392),a=n(68903),d=n(12110),c=n(67807),u=n(94496),v=n(11906),h=n(39336),x=n(90035),p=n(26600),m=n(35316),A=n(29347),f=n(68641),j=n(85502),b=n(19778),g=n(73216),y=n(73575),k=n(72777),w=n(54358),S=(n(91036),n(46698),n(70579));const _=()=>{var e,i,n,_,z,R,D,I,N;const{orderId:T,trackingId:M}=(0,g.g)(),P=(0,o.A)(),F=(0,l.A)(P.breakpoints.down("sm")),[L,B]=(0,t.useState)(),[O,E]=(0,t.useState)(!0),G=(0,g.Zp)(),[H,K]=(0,t.useState)(!1),[Q,U]=(0,t.useState)(null),X=["Ready To Ship","Manifested"];(0,t.useEffect)((()=>{(async()=>{if(T){E(!0);try{var e;const o=await(0,y.IAQ)({order_id:T});var i,n,t;!1===(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.error)?(B(null===o||void 0===o||null===(i=o.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.orderData),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)):console.warn("Error fetching order data:",null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.message)}catch(o){console.error("Failed to fetch order:",o)}finally{E(!1)}}else G("/order-details")})(),M&&(async()=>{try{var e,i;let n=await(0,y.qSY)(M);U((null===n||void 0===n||null===(e=n.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.tracking_data)||null)}catch(n){}})()}),[H]);const[Y,Z]=(0,t.useState)(!1),q=()=>{Z(!1)};return(0,S.jsxs)(S.Fragment,{children:[O&&(0,S.jsx)(k.A,{}),(0,S.jsxs)(r.A,{p:{xs:2,sm:3,md:4},bgcolor:"#f9f9f9",children:[(0,S.jsx)(s.A,{onClick:()=>{G("/order-details")},sx:{mb:2},children:(0,S.jsx)(f.A,{})}),(0,S.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,S.jsxs)(a.Ay,{item:!0,xs:12,md:7,children:[M&&(0,S.jsx)(d.A,{sx:{p:3,mb:4,borderRadius:3},children:(0,S.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,S.jsx)(a.Ay,{item:!0,xs:12,md:9,children:(0,S.jsxs)(c.A,{spacing:1,children:[(0,S.jsxs)(u.A,{variant:"h6",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:["Tracking No: ",M]}),(0,S.jsx)(r.A,{sx:{overflowX:"auto",pb:1}})]})}),(0,S.jsx)(a.Ay,{item:!0,xs:12,md:3,textAlign:F?"left":"right"})]})}),(0,S.jsx)(a.Ay,{container:!0,item:!0,xs:12,sm:12,md:12,mb:2,justifyContent:"flex-end",children:(0,S.jsx)(c.A,{spacing:2,children:X.includes(null===L||void 0===L?void 0:L.orderStatus)&&(0,S.jsx)(v.A,{variant:"outlined",fullWidth:!0,color:"error",startIcon:(0,S.jsx)(j.A,{}),disabled:!X.includes(null===L||void 0===L?void 0:L.orderStatus),onClick:()=>{Z(!0)},children:"Cancel Shipment"})})}),(0,S.jsxs)(d.A,{sx:{p:3,mb:4,borderRadius:3,boxShadow:1},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Order Details"}),(0,S.jsx)(h.A,{}),[["Order ID",null===L||void 0===L?void 0:L.order_id],["Order Status",null===L||void 0===L?void 0:L.orderStatus],["LR Number",null===L||void 0===L?void 0:L.lrnum],["Payment",null===L||void 0===L?void 0:L.mode],["Amount",null!==L&&void 0!==L&&L.amount?"\u20b9".concat(null===L||void 0===L?void 0:L.amount):null],["Plateform Charge",null!==L&&void 0!==L&&L.plateformCharge?"\u20b9".concat(null===L||void 0===L?void 0:L.plateformCharge):null],["Final Amount",null!==L&&void 0!==L&&L.finalAmount?"\u20b9".concat(null===L||void 0===L?void 0:L.finalAmount):null]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,t]=e;return(0,S.jsx)(W,{label:n,value:t},i)}))]}),(0,S.jsxs)(d.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Customer Details"}),(0,S.jsx)(h.A,{sx:{mb:2}}),[["Name",null===L||void 0===L||null===(e=L.shipping_address)||void 0===e?void 0:e.shipping_customer_name],["Phone",null===L||void 0===L||null===(i=L.shipping_address)||void 0===i?void 0:i.shipping_phone],["Address",null===L||void 0===L||null===(n=L.shipping_address)||void 0===n?void 0:n.shipping_address],["Pincode",null===L||void 0===L||null===(_=L.shipping_address)||void 0===_?void 0:_.shipping_state],["City",null===L||void 0===L||null===(z=L.shipping_address)||void 0===z?void 0:z.shipping_city],["State",null===L||void 0===L||null===(R=L.shipping_address)||void 0===R?void 0:R.shipping_customer_name]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,t]=e;return(0,S.jsx)(W,{label:n,value:t},i)}))]}),(e=>{const i=null===Q||void 0===Q||null===(e=Q.shipment_track)||void 0===e?void 0:e[0];return i?(0,S.jsxs)(d.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Shipment Details"}),(0,S.jsx)(h.A,{sx:{mb:2}}),[["Courier",i.courier_name],["AWB Number",i.awb_code],["Pickup Date",i.pickup_date],["Estimated Delivery",i.edd]].filter((e=>{let[i,n]=e;return n})).map(((e,i)=>{let[n,t]=e;return(0,S.jsx)(W,{label:n,value:t},i)}))]}):null})(),(0,S.jsxs)(d.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Package Details"}),(0,S.jsx)(h.A,{sx:{mb:2}}),(()=>{const e=(null===L||void 0===L?void 0:L.weight)||0,i=(null===L||void 0===L?void 0:L.length)||0,n=(null===L||void 0===L?void 0:L.width)||0,t=(null===L||void 0===L?void 0:L.height)||0,o=+(i*n*t/5e3).toFixed(2),l=Math.max(e,o);return[["Dead Weight in (kg)",e],["Dimensions in (cm)","".concat(i," * ").concat(n," * ").concat(t)],["Volumetric Weight in (kg)",o],["Applied Weight in (kg)",l]].filter((e=>{let[i,n]=e;return null!==n&&void 0!==n})).map(((e,i)=>{let[n,t]=e;return(0,S.jsx)(W,{label:n,value:t},i)}))})()]}),(0,S.jsxs)(d.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Product Details"}),(0,S.jsx)(h.A,{sx:{mb:2}}),(0,S.jsxs)(r.A,{display:"flex",justifyContent:"space-between",fontWeight:600,px:2,py:1,children:[(0,S.jsx)(r.A,{sx:C,width:"40%",children:"Name"}),(0,S.jsx)(r.A,{sx:C,width:"15%",children:"SKU"}),(0,S.jsx)(r.A,{sx:C,width:"18%",children:"Qty"}),(0,S.jsx)(r.A,{sx:C,width:"17%",children:"Unit Price"})]}),(0,S.jsx)(h.A,{}),null===L||void 0===L||null===(D=L.order_items)||void 0===D?void 0:D.map((e=>(0,S.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,py:1,children:[(0,S.jsxs)(r.A,{width:"40%",sx:C,children:[e.name," "]}),(0,S.jsx)(r.A,{width:"15%",sx:C,children:e.sku}),(0,S.jsx)(r.A,{width:"18%",sx:C,children:e.units}),(0,S.jsxs)(r.A,{width:"17%",sx:C,children:["\u20b9",e.selling_price]})]},e._id))),(0,S.jsx)(h.A,{sx:{mt:2}})]})]}),(null===Q||void 0===Q||null===(I=Q.shipment_track_activities)||void 0===I?void 0:I.length)>0&&(0,S.jsx)(a.Ay,{item:!0,xs:12,md:5,children:(0,S.jsxs)(d.A,{sx:{p:3,borderRadius:3},children:[(0,S.jsx)(u.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Tracking History"}),(0,S.jsx)(h.A,{sx:{mb:2}}),(0,S.jsx)(c.A,{spacing:3,pl:1,maxHeight:"500px",overflow:"auto",children:null===Q||void 0===Q||null===(N=Q.shipment_track_activities)||void 0===N?void 0:N.map(((e,i)=>(0,S.jsxs)(c.A,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,S.jsx)(b.A,{color:"success"}),(0,S.jsxs)(r.A,{children:[(0,S.jsx)(u.A,{sx:{fontSize:"15px",color:"var(--bs-nav)",fontWeight:600},children:null===e||void 0===e?void 0:e.activity}),(0,S.jsx)(u.A,{variant:"body2",sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.location}),(0,S.jsx)(u.A,{variant:"caption",color:"text.secondary",children:null===e||void 0===e?void 0:e.date})]})]},i)))})]})})]})]}),(0,S.jsxs)(x.A,{open:Y,onClose:q,children:[(0,S.jsx)(p.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,S.jsx)(m.A,{children:(0,S.jsx)(u.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this shipment? This action cannot be undone."})}),(0,S.jsxs)(A.A,{sx:{px:3,pb:2},children:[(0,S.jsx)(v.A,{onClick:q,color:"inherit",children:"No, Keep Order"}),(0,S.jsx)(v.A,{onClick:async()=>{E(!0);try{var e,i,n;let t=await(0,y.acT)({waybill:M});!1===(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.error)&&(Z(!1),K((e=>!e))),(0,w.A)(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.error,null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}catch(t){}finally{E(!1)}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})},C={fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word",mt:.5},W=e=>{let{label:i,value:n}=e;return(0,S.jsxs)(r.A,{display:"flex",mb:1,columnGap:10,children:[(0,S.jsxs)(u.A,{flex:3,sx:{fontSize:"14px",color:"var(--bs-nav)",minWidth:"130px",fontWeight:600},children:[i,":"]}),(0,S.jsx)(u.A,{flex:5,sx:{fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word"},children:n})]})}},68641:(e,i,n)=>{var t=n(24994);i.A=void 0;var o=t(n(40039)),l=n(70579);i.A=(0,o.default)((0,l.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew")},85502:(e,i,n)=>{var t=n(24994);i.A=void 0;var o=t(n(40039)),l=n(70579);i.A=(0,o.default)((0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},19778:(e,i,n)=>{var t=n(24994);i.A=void 0;var o=t(n(40039)),l=n(70579);i.A=(0,o.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},67807:(e,i,n)=>{n.d(i,{A:()=>k});var t=n(65043),o=n(58387),l=n(19172),r=n(72372),s=n(98610),a=n(66620),d=n(91720),c=n(38222),u=n(52390),v=n(81136),h=n(80883),x=n(70579);const p=(0,u.A)(),m=(0,a.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,i)=>i.root});function A(e){return(0,d.A)({props:e,name:"MuiStack",defaultTheme:p})}function f(e,i){const n=t.Children.toArray(e).filter(Boolean);return n.reduce(((e,o,l)=>(e.push(o),l<n.length-1&&e.push(t.cloneElement(i,{key:"separator-".concat(l)})),e)),[])}const j=e=>{let{ownerState:i,theme:n}=e,t={display:"flex",flexDirection:"column",...(0,v.NI)({theme:n},(0,v.kW)({values:i.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e})))};if(i.spacing){const e=(0,h.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof i.spacing&&null!=i.spacing[n]||"object"===typeof i.direction&&null!=i.direction[n])&&(e[n]=!0),e)),{}),r=(0,v.kW)({values:i.direction,base:o}),s=(0,v.kW)({values:i.spacing,base:o});"object"===typeof r&&Object.keys(r).forEach(((e,i,n)=>{if(!r[e]){const t=i>0?r[n[i-1]]:"column";r[e]=t}}));const a=(n,t)=>{return i.useFlexGap?{gap:(0,h._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=t?r[t]:i.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:(0,h._W)(e,n)}};var o};t=(0,l.A)(t,(0,v.NI)({theme:n},s,a))}return t=(0,v.iZ)(n.breakpoints,t),t};var b=n(34535),g=n(72876);const y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:i=m,useThemeProps:n=A,componentName:l="MuiStack"}=e,a=i(j),d=t.forwardRef((function(e,i){const t=n(e),d=(0,c.A)(t),{component:u="div",direction:v="column",spacing:h=0,divider:p,children:m,className:A,useFlexGap:j=!1,...b}=d,g={direction:v,spacing:h,useFlexGap:j},y=(0,s.A)({root:["root"]},(e=>(0,r.Ay)(l,e)),{});return(0,x.jsx)(a,{as:u,ownerState:g,ref:i,className:(0,o.A)(y.root,A),...b,children:p?f(m,p):m})}));return d}({createStyledComponent:(0,b.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,i)=>i.root}),useThemeProps:e=>(0,g.A)({props:e,name:"MuiStack"})}),k=y}}]);
//# sourceMappingURL=2791.5b13b1f0.chunk.js.map