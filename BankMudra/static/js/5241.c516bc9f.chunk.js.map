{"version":3,"file":"static/js/5241.c516bc9f.chunk.js","mappings":"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","sources":["components/admin/disput/listTickets/listTicketUser/Replay.js","components/admin/disput/listTickets/listTicketUser/ListTicketUser.js"],"sourcesContent":["\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport { MdEdit } from \"react-icons/md\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport JoditEditor from 'jodit-react';\r\nimport { cloudImage, repayTicket, userValidate } from '../../../../../api/login/Login';\r\nimport {  toast } from 'react-toastify';\r\nimport { RxCrossCircled } from \"react-icons/rx\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport { baseUrlImage } from '../../../../../baseUrl';\r\nfunction Replay({ id, ticketUser }) {\r\n    const editor = useRef(null);\r\n    const [content, setContent] = useState('');\r\n    const [attachDisable, setAttachDisable] = useState(true)\r\n    const [selectedFiles, setSelectedFiles] = useState([]);\r\n    const [listImage, setListImage] = useState([])\r\n    const [accordionOpen, setAccordionOpen] = useState(\"0\");\r\n\r\n    // console.log(listImage);\r\n    // console.log(selectedFiles);\r\n\r\n    const [autoFillInitial, setAutoFillInitial] = useState({\r\n        name: '',\r\n        email: \"\",\r\n        phone: ''\r\n    })\r\n\r\n    const [initialdata, setInitialData] = useState({\r\n        chat: '',\r\n        dispute_id: '',\r\n        attachments: []\r\n    })\r\n\r\n\r\n    const dataDefault = async () => {\r\n        try {\r\n            const res = await userValidate()\r\n            setAutoFillInitial({\r\n                email: res?.data?.email,\r\n                name: res?.data?.name,\r\n                phone: res?.data?.mobile\r\n            })\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n\r\n    const imgs = new FormData();\r\n    const colodinaryImage = async (e) => {\r\n        // setProfileImage(e.target.files[0])\r\n        imgs.append(\"image\", e.target.files[0]);\r\n        // const file = profileImage\r\n\r\n        const allowedTypes = [\r\n            'video/mp4',\r\n            'application/msword',\r\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n            'application/vnd.ms-excel',\r\n            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n            'application/x-rar-compressed',\r\n            'application/x-zip-compressed',\r\n            'application/zip'\r\n        ];\r\n        if (e.target.files[0] && allowedTypes.includes(e.target.files[0].type)) {\r\n            alert('Warning: Only image files are allowed.');\r\n        } else {\r\n            const array = []\r\n            const array2 = [...listImage]\r\n\r\n            for (let ind = 0; ind < e.target.files?.length; ind++) {\r\n                try {\r\n                    const element0 = e.target.files[ind];\r\n                    imgs.set(\"image\", element0);\r\n\r\n                    const res = await cloudImage(imgs)\r\n                    console.log(res?.data?.error == false);\r\n\r\n                    const obj2 = { id: Math.random(), url: res?.data?.data?.url };\r\n                    array2.push(obj2)\r\n\r\n                    if (res?.data?.error == false) {\r\n                        setAttachDisable(false)\r\n                    }\r\n                    // setshoingLoader(false);\r\n                } catch (error) {\r\n                    console.log(\" Image not uploaded\");\r\n\r\n                }\r\n            }\r\n            setTimeout(() => {\r\n                setListImage(array2)\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    const toastSuccessMessage = (str) => {\r\n        toast.success(`${str}`, {\r\n            position: \"top-center\",\r\n            autoClose: 2000,\r\n        })\r\n    };\r\n\r\n    const toastSuccessMessage1 = (str) => {\r\n        toast.error(`${str}`, {\r\n            position: \"top-center\",\r\n            autoClose: 2000,\r\n        })\r\n    };\r\n\r\n\r\n    const submitData = async () => {\r\n        const maped = listImage.map((ite) => {\r\n            return ite.url\r\n        })\r\n        const clone = { ...initialdata, chat: editor.current.value, attachments: maped, dispute_id: id, user_id: window.localStorage.getItem('userIdToken') }\r\n        try {\r\n            const res = await repayTicket(clone)\r\n            console.log(res);\r\n            // toastSuccessMessage\r\n            if (res?.data?.error == false) {\r\n                toastSuccessMessage(res?.data?.message)\r\n                ticketUser(0)\r\n                resetForm()\r\n            }\r\n            if (res?.data?.error == true) {\r\n                toastSuccessMessage1(res?.data?.message)\r\n            }\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setContent('');\r\n        setListImage([]);\r\n        setAccordionOpen(\"1\"); // close the accordion\r\n        setTimeout(() => {\r\n            setAccordionOpen(\"\"); // reset accordion key to default\r\n        }, 0);\r\n    };\r\n\r\n\r\n    const Remove = (id) => {\r\n        const clone = [...listImage]\r\n        const filters = clone.filter((item) => {\r\n            return item.id !== id\r\n        })\r\n        setListImage(filters)\r\n        // setFileArray(clone.filter(item => item.id !== id));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dataDefault()\r\n    }, [])\r\n\r\n\r\n    // const [fileArray, setFileArray] = useState([{ id: Math.random(), url: \"\" }])\r\n    // const AddMore = (item) => {\r\n    //     const clone = [...fileArray]\r\n    //     clone.push({ id: Math.random(), url: \"\" })\r\n    //     setFileArray(clone);\r\n    // }\r\n\r\n    // const Remove = (id) => {\r\n    //     const clone = [...fileArray]\r\n    //     const filters = clone.filter((item) => {\r\n    //         return item.id !== id\r\n    //     })\r\n\r\n    //     setFileArray(filters)\r\n\r\n    //     // setFileArray(clone.filter(item => item.id !== id));\r\n    // }\r\n    return (\r\n        <>\r\n            <div className='col-lg-12'>\r\n                <Accordion >\r\n                    <Accordion.Item eventKey=\"0\">\r\n                        <Accordion.Header style={{ fontWeight: '700' }}><MdEdit className='mr-2' style={{ fontWeight: '700' }} /> Reply</Accordion.Header>\r\n                        <Accordion.Body>\r\n                            <form action=\"\" method=\"post\" name=\"frmReport\" id=\"frmReport\">\r\n                                <input type=\"hidden\" id=\"hidID\" name=\"hidID\" />\r\n                                <div className=\"form-row\" style={{ alignItems: 'end' }}>\r\n\r\n                                    <div className=\"form-group col-md-4\">\r\n                                        <label htmlFor=\"txtUserId\">Name <span style={{ color: 'red' }}>*</span></label>\r\n                                        <input type=\"text\" disabled name=\"name\" id=\"account_no\" placeholder=\"Enter Name\" className=\"form-control\" value={autoFillInitial.name} />\r\n                                    </div>\r\n                                    <div className=\"form-group col-md-4\">\r\n                                        <label htmlFor=\"txtUserId\">Email <span style={{ color: 'red' }}>*</span></label>\r\n                                        <input type=\"email\" disabled name=\"email\" id=\"account_no\" placeholder=\"Enter email\" className=\"form-control\" value={autoFillInitial.email} />\r\n                                    </div>\r\n                                    <div className=\"form-group col-md-4\">\r\n                                        <label htmlFor=\"txtUserId\">Phone <span style={{ color: 'red' }}>*</span></label>\r\n                                        <input type=\"text\" disabled name=\"email\" id=\"account_no\" placeholder=\"Enter Phoen\" className=\"form-control\" value={autoFillInitial.phone} />\r\n                                    </div>\r\n                                    <div className=\"form-group col-md-12\">\r\n                                        <label htmlFor=\"txtUserId\">Message <span style={{ color: 'red' }}>*</span></label>\r\n                                        <JoditEditor\r\n                                            ref={editor}\r\n                                            value={content}\r\n                                            // config={config}\r\n                                            // tabIndex={1} // tabIndex of textarea\r\n                                            // onBlur={newContent => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n                                            onChange={newContent => setContent(newContent)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group form-group-img col-md-8\">\r\n                                        {/* <label htmlFor=\"txtUserId\">Attach </label>\r\n                                        <div className=\"d-flex\">\r\n                                            <input type=\"file\" placeholder=\"Enter Subject\" name=\"search\" id=\"account_no\" multiple className=\"form-control mr-4\" style={{ width: '900px' }} onChange={colodinaryImage} />\r\n                                        </div> */}\r\n                                        <input type=\"file\" class=\"input-file\" id=\"file\" name=\"search\" multiple onChange={colodinaryImage} />\r\n                                        <label for=\"file\" class=\"btn btn-upload\" style={{ marginBottom: '0px' }}>\r\n                                        Upload Images\r\n                                            <FaCloudUploadAlt size={18} fill=\"#fff\" />\r\n                                        </label>\r\n                                    </div>\r\n                                    <div className=\"form-group col-md-2\"></div>\r\n                                    <div className=\"form-group col-md-2\">\r\n                                        <label>&nbsp;</label>\r\n                                        <button type=\"button\" className=\"btn btn-primary mr-3\" style={{ width: '100%' }} onClick={submitData}>Submit</button>\r\n                                    </div>\r\n\r\n                                    {listImage && listImage?.map((item) => {\r\n                                        return <div className=\"col-lg-2 img-shoe-set\" key={item?.id} >\r\n                                            <img src={`${baseUrlImage}${item?.url}`} alt=\"\" style={{ height: '100%', width: \"100%\" }} />\r\n                                            <div className=\"crose-icon\">\r\n                                                <RxCrossCircled onClick={() => { Remove(item.id) }} style={{ color: 'red', fontSize: '1.0rem' }} />\r\n                                            </div>\r\n                                        </div>\r\n                                    })}\r\n\r\n                                    {/* {fileArray && fileArray?.map((item, i) => {\r\n                                        return <div className=\"form-group col-md-12\">\r\n                                            <label htmlFor=\"txtUserId\">Attach <span style={{ color: 'red' }}>*</span></label>\r\n                                            <div className=\"d-flex\">\r\n                                                <input type=\"file\" placeholder=\"Enter Subject\" name=\"search\" id=\"account_no\" className=\"form-control mr-4\" style={{ width: '900px' }} />\r\n                                                {i == 0 ? <button type=\"button\" className=\"btn btn-warning\" style={{ width: '24%' }} onClick={AddMore}>Add More</button> : <button type=\"button\" className=\"btn btn-danger\" style={{ width: '24%' }} onClick={() => Remove(item?.id)}>Remove</button>}\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    })} */}\r\n\r\n                                </div>\r\n                            </form>\r\n                        </Accordion.Body>\r\n                    </Accordion.Item>\r\n                </Accordion>\r\n            </div>\r\n          \r\n        </>\r\n    )\r\n}\r\nexport default Replay","// import { useParams } from \"react-router-dom\";\r\n\r\n// import '../listTicketUser/listTicketUser.css'\r\n// import { FaUser } from \"react-icons/fa\";\r\n// import Replay from \"./Replay\";\r\n\r\n// import ReactFancyBox from 'react-fancybox'\r\n// import { dmtdisputechat } from \"../../../../../api/login/Login\";\r\n// import { useCallback, useEffect, useState } from \"react\";\r\n// import { Pagination } from \"antd\";\r\n// import { baseUrlImage } from \"../../../../../baseUrl\";\r\n// function ListTicketUser() {\r\n//     const param = useParams()\r\n//     // console.log(param);\r\n//     const [loading, setLoading] = useState(false);\r\n//     const [count, setCount] = useState(10)\r\n//     const [page, setPage] = useState(0)\r\n//     // console.log(page);\r\n//     const [totalCount, setTotalCount] = useState(null)\r\n//     const [data, setData] = useState(null)\r\n//     // console.log(data);\r\n\r\n//     const [filterInitial, setFilterInitial] = useState({\r\n//         count: '',\r\n//         page: '',\r\n\r\n//     })\r\n\r\n//     function createMarkup(data) {\r\n//         return { __html: data };\r\n//     }\r\n\r\n//     const ticketUser = useCallback(async (input) => {\r\n//         setLoading(true);\r\n//         const clone = { ...filterInitial, count: count, page: input, id: param?.id };\r\n//         try {\r\n//             const res = await dmtdisputechat(clone);\r\n//             setTotalCount(res?.data?.totalCount);\r\n//             setData(res?.data?.data);\r\n//         } catch (error) {\r\n//             console.error(error);\r\n//         }\r\n//         setLoading(false);\r\n//     }, [filterInitial, count, param?.id]);\r\n\r\n//     const onChangeVal = (e) => {\r\n//         // console.log(e - 1);\r\n//         setPage(e - 1)\r\n//         ticketUser(e - 1)\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         ticketUser(0)\r\n//     }, [ticketUser])\r\n\r\n//     return (\r\n//         <>\r\n//             <div className=\"ContentArea\">\r\n//                 <div className=\"card\">\r\n//                     <div className=\"card-header\"><span>Ticket List User</span></div>\r\n//                     <div className=\"card-body\">\r\n//                         <div className=\"form-row\" style={{ alignItems: 'end' }}>\r\n//                             <Replay id={param?.id} ticketUser={ticketUser} />\r\n\r\n//                             {data && data?.map((item) => {\r\n//                                 // console.log(item);\r\n//                                 return <div className=\"col-lg-12 mt-3 p-0\">\r\n//                                     <div className=\"chat-first p-0 m-0\">\r\n//                                         <div className={`  card-header card-header-card ${item?.operator == 'Retailer' && 'card-header-card-2'}`}>\r\n//                                             <div className=\"nameAndDetails\">\r\n//                                                 {/* <div className=\"avtar-set\">\r\n//                                                     <FaUser />\r\n//                                                 </div> */}\r\n//                                                 <div className=\"parent-set\">\r\n//                                                 <div className=\"parent-set\">\r\n//                                                     <p className=\"operator operator-2\">{item?.operator}</p>\r\n//                                                 </div>\r\n\r\n//                                                      {/* <h5>{item?.by.email}</h5> */}\r\n//                                                 </div>\r\n//                                                 <div className=\"parent-set\">\r\n//                                                 <h5>{item?.by.name}</h5>\r\n//                                                 </div>\r\n\r\n//                                             </div>\r\n//                                             <div className=\"dateandtime dateandtime-2\">\r\n//                                                 <p>{new Date(item?.createdAt).getDate() + \"-\" + Number(new Date(item?.createdAt).getMonth() + 1) + \"-\" + new Date(item?.createdAt).getFullYear() + \" / \" + new Date(item?.createdAt).getHours() + \":\" + new Date(item?.createdAt).getMinutes()}</p>\r\n//                                             </div>\r\n//                                         </div>\r\n//                                         <div className=\"msg-sec\">\r\n//                                             {/* {item?.chat} */}\r\n\r\n//                                             <div className=\"tabs_item\">\r\n//                                                 <div\r\n//                                                     className=\"products-details-tab-content\"\r\n//                                                     style={{color:'var(--bs-primary2)', fontWeight: '500'}}\r\n//                                                     dangerouslySetInnerHTML={createMarkup(\r\n//                                                         item?.chat\r\n//                                                     )}\r\n//                                                 />\r\n//                                             </div>\r\n//                                             {/* <p>In publishing and graph`ic design, Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document.</p> */}\r\n//                                             <div className=\"form-row mt-3\">\r\n//                                                 {item?.attachments.map((item) => {\r\n//                                                     return <div className=\"col-lg-2 image-set\" style={{ height: '155px' }}>\r\n//                                                         <ReactFancyBox\r\n//                                                             thumbnail={`${baseUrlImage}${item}`}\r\n//                                                             image={`${baseUrlImage}${item}`}\r\n//                                                             className=\"ljhdfjdh\"\r\n//                                                         />\r\n//                                                         {/* <img src={`https://api.paypandabnk.com/api/cloudinary/${item}`} style={{ height: '100%', width: \"100%\" }} alt=\"\" /> */}\r\n//                                                     </div>\r\n//                                                 })}\r\n//                                             </div>\r\n\r\n//                                             {/* {attachments.map((attach) => return <img [src]=\"https://api.paypandabnk.com/api/cloudinary/:\" + attach >) */}\r\n//                                         </div>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             })}\r\n\r\n//                             {/* <div className=\"col-lg-12 mt-3\">\r\n//                                 <div className=\"chat-first\">\r\n//                                     <div className=\"card-header card-header-card\">\r\n//                                         <div className=\"nameAndDetails\">\r\n//                                             <div className=\"avtar-set\">\r\n//                                                 <FaUser />\r\n//                                             </div>\r\n//                                             <div className=\"parent-set\">\r\n//                                                 <h5>Mustafa Ashraf</h5>\r\n//                                                 <h5>Staff</h5>\r\n//                                             </div>\r\n//                                             <div className=\"parent-set\">\r\n//                                                 <p className=\"operator\">operator</p>\r\n//                                             </div>\r\n//                                         </div>\r\n//                                         <div className=\"dateandtime\">\r\n//                                             <p>Monday , March 24/04/2024 (03:30)</p>\r\n//                                         </div>\r\n//                                     </div>\r\n//                                     <div className=\"msg-sec\">\r\n//                                         <p>Hello sir , </p>\r\n//                                         <p>In publishing and graphic design, Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content. Lorem ipsum may be used as a placeholder before the final copy is available.</p>\r\n//                                         <p>In publishing and graphic design, Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content. Lorem ipsum may be used as a placeholder before the final copy is available.</p>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div> */}\r\n\r\n//                         </div>\r\n\r\n//                         {/* <div className=\"dataTables_info_page\">\r\n//                             <div className=\"dataTables_info\" id=\"empoloyees-tblwrapper_info\" role=\"status\" aria-live=\"polite\">\r\n//                                 Total {totalCount}  entries\r\n//                             </div>\r\n//                             <div className=\"dataTables_paginate paging_simple_numbers\" id=\"empoloyees-tblwrapper_paginate\">\r\n//                                 <Pagination\r\n//                                     // showSizeChanger\r\n//                                     // onShowSizeChange={''}\r\n\r\n//                                     defaultCurrent={1}\r\n//                                     onChange={onChangeVal}\r\n//                                     total={totalCount}\r\n//                                 />\r\n//                             </div>\r\n//                         </div> */}\r\n//                     </div>\r\n//                 </div >\r\n//             </div >\r\n//         </>\r\n//     )\r\n// }\r\n// export default ListTicketUser\r\n\r\n// import { useParams } from \"react-router-dom\";\r\n// import \"../listTicketUser/listTicketUser.css\";\r\n// import { useCallback, useEffect, useState } from \"react\";\r\n// import Replay from \"./Replay\";\r\n// import ReactFancyBox from \"react-fancybox\";\r\n// import \"react-fancybox/lib/fancybox.css\";\r\n// import { dmtdisputechat } from \"../../../../../api/login/Login\";\r\n// import { Pagination } from \"antd\";\r\n// import { baseUrlImage } from \"../../../../../baseUrl\";\r\n\r\n// import {\r\n//   Box,\r\n//   Card,\r\n//   CardContent,\r\n//   Stack,\r\n//   Typography,\r\n//   Paper,\r\n//   CircularProgress\r\n// } from \"@mui/material\";\r\n\r\n// function ListTicketUser() {\r\n//   const param = useParams();\r\n\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [count, setCount] = useState(10);\r\n//   const [page, setPage] = useState(0);\r\n//   const [totalCount, setTotalCount] = useState(null);\r\n//   const [data, setData] = useState(null);\r\n\r\n//   const [filterInitial, setFilterInitial] = useState({\r\n//     count: \"\",\r\n//     page: \"\",\r\n//   });\r\n\r\n//   function createMarkup(data) {\r\n//     return { __html: data };\r\n//   }\r\n\r\n//   const ticketUser = useCallback(\r\n//     async (input) => {\r\n//       setLoading(true);\r\n//       const clone = {\r\n//         ...filterInitial,\r\n//         count: count,\r\n//         page: input,\r\n//         id: param?.id,\r\n//       };\r\n//       try {\r\n//         const res = await dmtdisputechat(clone);\r\n//         setTotalCount(res?.data?.totalCount);\r\n//         setData(res?.data?.data);\r\n//       } catch (error) {\r\n//         console.error(error);\r\n//       }\r\n//       setLoading(false);\r\n//     },\r\n//     [filterInitial, count, param?.id]\r\n//   );\r\n\r\n//   const onChangeVal = (e) => {\r\n//     setPage(e - 1);\r\n//     ticketUser(e - 1);\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     ticketUser(0);\r\n//   }, [ticketUser]);\r\n\r\n//   return (\r\n//     <Box className=\"ContentArea\" p={2}>\r\n//       <Card>\r\n//         {/* HEADER */}\r\n//         <Box\r\n//           p={2}\r\n//           sx={{\r\n//             fontSize: \"18px\",\r\n//             fontWeight: \"600\",\r\n//             borderBottom: \"1px solid #eee\",\r\n//           }}\r\n//         >\r\n//           Ticket Chat\r\n//         </Box>\r\n\r\n//         <CardContent\r\n//           sx={{\r\n//             background: \"#f5f5f5\",\r\n//             minHeight: \"60vh\",\r\n//             borderRadius: \"12px\",\r\n//             padding: \"20px\",\r\n//           }}\r\n//         >\r\n//           {/* LOADING */}\r\n//           {loading && (\r\n//             <Box textAlign=\"center\" p={3}>\r\n//               <CircularProgress />\r\n//             </Box>\r\n//           )}\r\n\r\n//           {/* CHAT AREA */}\r\n//           <Stack spacing={3}>\r\n//             {data &&\r\n//               data\r\n//                 ?.sort(\r\n//                   (a, b) =>\r\n//                     new Date(a.createdAt) - new Date(b.createdAt)\r\n//                 )\r\n//                 ?.map((item, idx) => {\r\n//                   const isUser = item?.operator === \"Retailer\";\r\n\r\n//                   return (\r\n//                     <Stack\r\n//                       key={idx}\r\n//                       direction=\"column\"\r\n//                       alignItems={isUser ? \"flex-end\" : \"flex-start\"}\r\n//                     >\r\n//                       <Paper\r\n//                         elevation={2}\r\n//                         sx={{\r\n//                           maxWidth: \"70%\",\r\n//                           p: 2,\r\n//                           borderRadius: \"16px\",\r\n//                           background: isUser ? \"#ffffff\" : \"#000000\",\r\n//                           color: isUser ? \"#000\" : \"#ffffff\",\r\n//                           boxShadow:\r\n//                             \"rgba(0, 0, 0, 0.08) 0px 4px 12px\",\r\n//                         }}\r\n//                       >\r\n//                         {/* NAME */}\r\n//                         <Typography\r\n//                           variant=\"subtitle2\"\r\n//                           sx={{ fontWeight: 700, mb: 0.5 }}\r\n//                         >\r\n//                           {item?.by?.name} ({item?.operator})\r\n//                         </Typography>\r\n\r\n//                         {/* MESSAGE */}\r\n//                         <Box\r\n//                           dangerouslySetInnerHTML={createMarkup(\r\n//                             item?.chat\r\n//                           )}\r\n//                           sx={{\r\n//                             fontSize: \"15px\",\r\n//                             lineHeight: 1.5,\r\n//                             wordBreak: \"break-word\",\r\n//                           }}\r\n//                         />\r\n\r\n//                         {/* ATTACHMENTS */}\r\n//                         {item?.attachments?.length > 0 && (\r\n//                           <Stack\r\n//                             direction=\"row\"\r\n//                             spacing={1}\r\n//                             mt={1.5}\r\n//                             flexWrap=\"wrap\"\r\n//                           >\r\n//                             {item?.attachments?.map((img, index) => (\r\n//                               <Box\r\n//                                 key={index}\r\n//                                 width=\"130px\"\r\n//                                 height=\"130px\"\r\n//                                 borderRadius=\"10px\"\r\n//                                 overflow=\"hidden\"\r\n//                                 sx={{ cursor: \"pointer\" }}\r\n//                               >\r\n//                                 <ReactFancyBox\r\n//                                   thumbnail={`${baseUrlImage}${img}`}\r\n//                                   image={`${baseUrlImage}${img}`}\r\n//                                 />\r\n//                               </Box>\r\n//                             ))}\r\n//                           </Stack>\r\n//                         )}\r\n\r\n//                         {/* TIME */}\r\n//                         <Typography\r\n//                           sx={{\r\n//                             mt: 1,\r\n//                             fontSize: \"12px\",\r\n//                             opacity: 0.7,\r\n//                             textAlign: \"right\",\r\n//                           }}\r\n//                         >\r\n//                           {`${new Date(item?.createdAt).getDate()}-${\r\n//                             new Date(item?.createdAt).getMonth() + 1\r\n//                           }-${new Date(item?.createdAt).getFullYear()} / ${\r\n//                             new Date(item?.createdAt).getHours()\r\n//                           }:${new Date(\r\n//                             item?.createdAt\r\n//                           ).getMinutes()}`}\r\n//                         </Typography>\r\n//                       </Paper>\r\n//                     </Stack>\r\n//                   );\r\n//                 })}\r\n//           </Stack>\r\n\r\n//           {/* REPLY BOX AT BOTTOM */}\r\n//           <Box mt={4}>\r\n//             <Replay id={param?.id} ticketUser={ticketUser} />\r\n//           </Box>\r\n//         </CardContent>\r\n\r\n//         {/* PAGINATION */}\r\n//         <Box p={2} borderTop=\"1px solid #eee\">\r\n//           <Pagination\r\n//             defaultCurrent={1}\r\n//             onChange={onChangeVal}\r\n//             total={totalCount}\r\n//           />\r\n//         </Box>\r\n//       </Card>\r\n//     </Box>\r\n//   );\r\n// }\r\n\r\n// export default ListTicketUser;\r\n\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport \"../listTicketUser/listTicketUser.css\";\r\n\r\nimport Replay from \"./Replay\";\r\nimport ReactFancyBox from \"react-fancybox\";\r\nimport \"react-fancybox/lib/fancybox.css\";\r\n\r\nimport { dmtdisputechat } from \"../../../../../api/login/Login\";\r\nimport { Pagination } from \"antd\";\r\nimport { baseUrlImage } from \"../../../../../baseUrl\";\r\n\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Stack,\r\n  Typography,\r\n  Paper,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\n\r\nfunction ListTicketUser() {\r\n  const param = useParams();\r\n  const [loading, setLoading] = useState(false);\r\n  const [count, setCount] = useState(10);\r\n  const [page, setPage] = useState(0);\r\n  const [totalCount, setTotalCount] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  const [filterInitial] = useState({\r\n    count: \"\",\r\n    page: \"\",\r\n  });\r\n\r\n  function createMarkup(data) {\r\n    return { __html: data };\r\n  }\r\n\r\n  const ticketUser = useCallback(\r\n    async (input) => {\r\n      setLoading(true);\r\n      const clone = {\r\n        ...filterInitial,\r\n        count: count,\r\n        page: input,\r\n        id: param?.id,\r\n      };\r\n\r\n      try {\r\n        const res = await dmtdisputechat(clone);\r\n        setTotalCount(res?.data?.totalCount);\r\n        setData(res?.data?.data);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n      setLoading(false);\r\n    },\r\n    [filterInitial, count, param?.id]\r\n  );\r\n\r\n  const onChangeVal = (e) => {\r\n    setPage(e - 1);\r\n    ticketUser(e - 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    ticketUser(0);\r\n  }, [ticketUser]);\r\n\r\n  return (\r\n    <Box\r\n      className=\"ContentArea\"\r\n      sx={{\r\n        p: 3,\r\n        minHeight: \"100vh\",\r\n        background: \"var(--bs-primary3)\"\r\n        // background: \"linear-gradient(135deg, #193968 0%, #5a7191 100%)\",\r\n      }}\r\n    >\r\n      <Card\r\n        sx={{\r\n          maxWidth: 950,\r\n          mx: \"auto\",\r\n          borderRadius: \"16px\",\r\n          overflow: \"hidden\",\r\n          boxShadow: \"0 8px 32px rgba(25, 57, 104, 0.3)\",\r\n        }}\r\n      >\r\n        {/* HEADER */}\r\n        <Box\r\n          sx={{\r\n            background: \"#193968\",\r\n            color: \"#fff\",\r\n            p: 2.5,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: 2,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              width: 42,\r\n              height: 42,\r\n              borderRadius: \"50%\",\r\n              background: \"#cc9840\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              fontWeight: 700,\r\n              fontSize: 20,\r\n            }}\r\n          >\r\n            TC\r\n          </Box>\r\n\r\n          <Box>\r\n            <Typography variant=\"h6\" sx={{ fontWeight: 600, lineHeight: 1.2 }}>\r\n              Ticket Chat\r\n            </Typography>\r\n            <Typography variant=\"caption\" sx={{ opacity: 0.85 }}>\r\n              Dispute Resolution Center\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* CHAT BODY */}\r\n        <CardContent\r\n          sx={{\r\n            background: \"#f8f9fa\",\r\n            maxHeight: \"60vh\",\r\n            minHeight: \"50vh\",\r\n            overflowY: \"auto\",\r\n            p: 3,\r\n          }}\r\n        >\r\n          {/* LOADING */}\r\n          {loading && (\r\n            <Box textAlign=\"center\" py={4}>\r\n              <CircularProgress />\r\n            </Box>\r\n          )}\r\n\r\n          <Stack spacing={3}>\r\n            {data &&\r\n              data\r\n                ?.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))\r\n                ?.map((item, idx) => {\r\n                  const isUser = item?.operator === \"Retailer\";\r\n\r\n                  return (\r\n                    <Stack\r\n                      key={idx}\r\n                      direction=\"column\"\r\n                      alignItems={isUser ? \"flex-end\" : \"flex-start\"}\r\n                    >\r\n                      <Paper\r\n                        elevation={0}\r\n                        sx={{\r\n                          maxWidth: \"75%\",\r\n                          p: 2,\r\n                          borderRadius: isUser\r\n                            ? \"16px 16px 4px 16px\"\r\n                            : \"16px 16px 16px 4px\",\r\n                          background: isUser ? \"#193968\" : \"#ffffff\",\r\n                          color: isUser ? \"#fff\" : \"#193968\",\r\n                          boxShadow: isUser\r\n                            ? \"0 4px 12px rgba(25,57,104,0.25)\"\r\n                            : \"0 2px 8px rgba(0,0,0,0.08)\",\r\n                          border: isUser ? \"none\" : \"1px solid #aeb9c7\",\r\n                        }}\r\n                      >\r\n                        {/* NAME */}\r\n                        <Typography\r\n                          variant=\"subtitle2\"\r\n                          sx={{\r\n                            fontWeight: 700,\r\n                            mb: 0.5,\r\n                            fontSize: \"12px\",\r\n                            color: isUser ? \"#cc9840\" : \"#5a7191\",\r\n                          }}\r\n                        >\r\n                          {item?.by?.name} â€¢ {item?.operator}\r\n                        </Typography>\r\n\r\n                        {/* MESSAGE HTML */}\r\n                        <Box\r\n                          dangerouslySetInnerHTML={createMarkup(item?.chat)}\r\n                          sx={{ fontSize: \"14px\", lineHeight: 1.65 }}\r\n                        />\r\n\r\n                        {/* IMAGES */}\r\n                        {item?.attachments?.length > 0 && (\r\n                          <Stack\r\n                            direction=\"row\"\r\n                            spacing={1}\r\n                            mt={1.5}\r\n                            flexWrap=\"wrap\"\r\n                          >\r\n                            {item?.attachments?.map((img, index) => (\r\n                              <Box\r\n                                key={index}\r\n                                sx={{\r\n                                  width: 110,\r\n                                  height: 110,\r\n                                  borderRadius: \"10px\",\r\n                                  overflow: \"hidden\",\r\n                                  cursor: \"pointer\",\r\n                                  border: \"2px solid #aeb9c7\",\r\n                                }}\r\n                              >\r\n                                <ReactFancyBox\r\n                                  thumbnail={`${baseUrlImage}${img}`}\r\n                                  image={`${baseUrlImage}${img}`}\r\n                                />\r\n                              </Box>\r\n                            ))}\r\n                          </Stack>\r\n                        )}\r\n\r\n                        {/* TIMESTAMP */}\r\n                        <Typography\r\n                          sx={{\r\n                            mt: 1,\r\n                            fontSize: \"9px\",\r\n                            opacity: 0.55,\r\n                            textAlign: \"right\",\r\n                            letterSpacing: \"0.3px\",\r\n                          }}\r\n                        >\r\n                          {new Date(item?.createdAt).getDate()}-\r\n                          {new Date(item?.createdAt).getMonth() + 1}-\r\n                          {new Date(item?.createdAt).getFullYear()} /\r\n                          {new Date(item?.createdAt).getHours()}:\r\n                          {new Date(item?.createdAt).getMinutes()}\r\n                        </Typography>\r\n                      </Paper>\r\n                    </Stack>\r\n                  );\r\n                })}\r\n          </Stack>\r\n        </CardContent>\r\n\r\n        {/* REPLAY INPUT */}\r\n        <Box sx={{ p: 2, background: \"#fff\", borderTop: \"1px solid #aeb9c7\" }}>\r\n          <Replay id={param?.id} ticketUser={ticketUser} />\r\n        </Box>\r\n\r\n        {/* PAGINATION */}\r\n        <Box\r\n          sx={{\r\n            p: 2,\r\n            background: \"#f8f9fa\",\r\n            borderTop: \"1px solid #aeb9c7\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <Pagination\r\n            defaultCurrent={1}\r\n            onChange={onChangeVal}\r\n            total={totalCount}\r\n          />\r\n        </Box>\r\n      </Card>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ListTicketUser;\r\n"],"names":["_ref","id","ticketUser","editor","useRef","content","setContent","useState","attachDisable","setAttachDisable","selectedFiles","setSelectedFiles","listImage","setListImage","accordionOpen","setAccordionOpen","autoFillInitial","setAutoFillInitial","name","email","phone","initialdata","setInitialData","chat","dispute_id","attachments","imgs","FormData","resetForm","setTimeout","useEffect","async","_res$data","_res$data2","_res$data3","res","userValidate","data","mobile","error","dataDefault","_jsx","_Fragment","children","className","Accordion","_jsxs","Item","eventKey","Header","style","fontWeight","MdEdit","Body","action","method","type","alignItems","htmlFor","color","disabled","placeholder","value","JoditEditor","ref","onChange","newContent","class","multiple","append","e","target","files","includes","alert","array2","ind","_e$target$files","length","_res$data4","_res$data5","_res$data5$data","_res$data6","element0","set","cloudImage","console","log","obj2","Math","random","url","push","for","marginBottom","FaCloudUploadAlt","size","fill","width","onClick","maped","map","ite","clone","current","user_id","window","localStorage","getItem","_res$data7","_res$data9","repayTicket","_res$data8","_res$data10","str","message","toast","success","concat","position","autoClose","toastSuccessMessage1","item","src","baseUrlImage","alt","height","RxCrossCircled","filters","filter","Remove","fontSize","_data$sort","param","useParams","loading","setLoading","count","setCount","page","setPage","totalCount","setTotalCount","setData","filterInitial","createMarkup","__html","useCallback","input","dmtdisputechat","Box","sx","p","minHeight","background","Card","maxWidth","mx","borderRadius","overflow","boxShadow","display","gap","justifyContent","Typography","variant","lineHeight","opacity","CardContent","maxHeight","overflowY","textAlign","py","CircularProgress","Stack","spacing","sort","a","b","Date","createdAt","idx","_item$by","_item$attachments","_item$attachments2","isUser","operator","direction","Paper","elevation","border","mb","by","dangerouslySetInnerHTML","mt","flexWrap","img","index","cursor","ReactFancyBox","thumbnail","image","letterSpacing","getDate","getMonth","getFullYear","getHours","getMinutes","borderTop","Replay","Pagination","defaultCurrent","total"],"sourceRoot":""}