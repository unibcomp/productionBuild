"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2649],{47763:(e,r,a)=>{a.d(r,{A:()=>i});var t=a(65043),s=a(22019),o=a(73575);const n=()=>(new Date).toISOString().substr(0,10),i=()=>{const e=localStorage.getItem("userType"),[r,a]=(0,t.useState)(n()),[i,l]=(0,t.useState)([]),[d,c]=(0,t.useState)(!1),[u,x]=(0,t.useState)(10),[p,m]=(0,t.useState)(0),[v,b]=(0,t.useState)(null),[h,y]=(0,t.useState)(),[g,f]=(0,t.useState)([]),[j,A]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[k,C]=(0,t.useState)(),[_,N]=(0,t.useState)(1),I=(0,t.useRef)(10),[T,F]=(0,t.useState)({user_id:"",count:"",page:"",min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:""}),M=(0,t.useCallback)((async(e,r)=>{c(!0);const a=void 0!==r?r:I.current,t={...T,count:a,page:e||0,min_amt:+T.min_amt,max_amt:+T.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var s,n,i,l;const e=await(0,o.cnE)(t);b(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.total),f((null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.wallet)||[])}catch(d){console.error("Error fetching data:",d)}c(!1)}),[T]),R=(0,t.useCallback)((e=>{I.current=e,x(e),m(0),F((r=>({...r,count:e,page:0}))),M(0,e)}),[M]);return(0,t.useEffect)((()=>{n(),(async()=>{try{var e;let r=await(0,o.bvp)();l(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data)}catch(r){console.error("Failed to fetch filter values:",r)}})()}),[]),(0,t.useEffect)((()=>{M(0)}),[]),{currentDate:r,storedUserType:e,allFilter:i,loading:d,count:u,page:p,totalCount:v,transType:h,data:g,allData:j,excelData:w,filterInitial:T,currentCount:I,setCurrentDate:a,setAllFilter:l,setLoading:c,setCount:x,setPage:m,setTotalCount:b,setTransType:y,setData:f,setAllData:A,setExcelData:S,setFilterInitial:F,setSortDirection:C,setDecending:N,handleChange:e=>{const r={...T},a=e.target.value;r[e.target.name]=a,F(r)},getTransitionReport:M,onChangeVal:e=>{m(e-1),M(e-1)},handleSearch:()=>{m(0),M(0)},ResetData:async()=>{c(!0);const e={count:u||10,page:0,min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:"",user_id:window.localStorage.getItem("userIdToken")};y(null);try{var r,a,t,s;const n=await(0,o.cnE)(e);b(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.total),f((null===n||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.wallet)||[]),F({user_id:"",count:"",page:"",min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:""}),m(0)}catch(n){console.error("Reset error:",n)}c(!1)},sortByColumn:async e=>{N("asc"==k?1:-1),C("asc"===k?"desc":"asc"),c(!0);const r={...T,count:u,page:p,min_amt:+T.min_amt,max_amt:+T.max_amt,sortType:+_,sortKey:e,user_id:window.localStorage.getItem("userIdToken")};try{var a,t,s,n;const e=await(0,o.cnE)(r);b(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.total),f((null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.wallet)||[])}catch(i){console.error("Sorting failed:",i)}c(!1)},allDataWalletReport:async()=>{const e={...T,count:u,page:p,min_amt:+T.min_amt,max_amt:+T.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var r,a;const t=await(0,o.ORA)(e);A(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.wallet)}catch(t){console.error("All data fetch error:",t)}},handlePageSizeChange:R,prepareExcelDownload:async()=>{c(!0);const e={...T,count:u,page:p,min_amt:+T.min_amt,max_amt:+T.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var r,a;const t=await(0,o.ORA)(e),n=null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.wallet;if(!n||0===n.length)return s.Ay.error("No data available to export."),void c(!1);S(n),setTimeout((()=>{var e;null===(e=document.getElementById("test-table-xls-button"))||void 0===e||e.click(),c(!1),s.Ay.success("Excel file download initiated.")}),100)}catch(t){console.error("Excel export error:",t),s.Ay.error("Failed to prepare data for export."),c(!1)}},currentDate:r,storedUserType:e,transType:h,setFilterInitial:F,setTransType:y,allFilter:i,excelData:w}}},52100:(e,r,a)=>{a.r(r),a.d(r,{default:()=>Ce});var t=a(68903),s=a(94516),o=a(67807),n=a(81045),i=a(94496),l=a(11906),d=a(95263);a.p;a(49867),a(92382);var c=a(70579);var u=a(65043),x=a(73575),p=a(94163),m=(a(38421),a(48885),a(45925)),v=a(91036),b=(a(92342),a(83687));const h=e=>{let{retailerName:r}=e;return(0,c.jsx)("div",{className:"custom-marquee-container",children:(0,c.jsxs)("div",{className:"marquee-content",children:[(0,c.jsx)("span",{className:"congratulations",children:"Congratulations!"}),(0,c.jsxs)("span",{className:"message1111",children:["Dear ",(0,c.jsx)("strong",{children:r}),", now you have become our partner with BankMudraa. So let's grow together. Thank you!"]})]})})};a(55953),a(53816);var y=a(83625),g=a(24056),f=a(73036),j=a(12816),A=a(66620),w=a(77111),S=a(90837),k=a(73216),C=a(35475),_=a(61596),N=a(67254),I=a(67784),T=a(12110),F=a(36591),M=a(26494),R=a(34535),P=a(26240),D=a(51787),W=a(66360),z=a(17200),B=a(94414),E=a(82114);const O=["Search by name","Search by name , Bank Transfer","Search by name , Bank Transfer , Aadhaar withdraw..."],U="#ffffff",L="var(--bs-primary1)",q=((0,R.Ay)(_.A)((e=>{let{theme:r}=e;return{padding:r.spacing(2),textAlign:"center",backgroundColor:U,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"8px",border:"1px solid #e0e0e0",height:"120px",position:"relative",zIndex:0,"&:hover":{transform:"translateY(-5px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 2px 8px",backgroundClip:"border-box"}}})),(0,R.Ay)(s.A)((e=>{let{theme:r}=e;return{backgroundColor:L,borderRadius:"50%",padding:r.spacing(1.5),marginBottom:r.spacing(1.5),display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"-30px",zIndex:10,width:"48px",height:"48px",[r.breakpoints.up("sm")]:{width:"56px",height:"56px"}}})),(0,R.Ay)(N.A)((e=>{let{theme:r}=e;return{margin:r.spacing(2),width:"100%"}})));const V=function(e){let{services:r=[],isInstantpaypresnt:a}=e;(0,k.Zp)();const o=localStorage.getItem("regisNumber"),[n,l]=(0,u.useState)(""),[d,x]=(0,u.useState)(!1),[p,m]=(0,u.useState)(null),[v,b]=(0,u.useState)([]),h=(0,P.A)();(0,f.A)(h.breakpoints.only("xs")),(0,u.useEffect)((()=>{try{if(!Array.isArray(r))throw new Error("Invalid services data received");m(null)}catch(e){m(e),console.error("ServiceGrid initialization error:",e)}}),[r]);const[y,g]=(0,u.useState)(0);(0,u.useEffect)((()=>{const e=setInterval((()=>{g((e=>(e+1)%O.length))}),1e3);return()=>clearInterval(e)}),[]),(0,u.useEffect)((()=>{try{if(!Array.isArray(r))return void b([]);const e=r.filter((e=>{try{if(!e||"undefined"===typeof e.service_name)return!1;const r=String(e.service_name||""),a=String(n||"");return 0===r.localeCompare(a,void 0,{sensitivity:"base"})||r.includes(a)}catch(r){return console.error("Service filtering error:",r),!1}}));b(e)}catch(e){console.error("Filtering error:",e),b([])}}),[r,n]);const j=localStorage.getItem("userType");return p?(0,c.jsxs)(q,{severity:"error",children:[(0,c.jsx)(i.A,{variant:"h6",children:"Error Loading Services"}),(0,c.jsx)(i.A,{variant:"body2",children:p.message})]}):Array.isArray(r)?(0,c.jsxs)(s.A,{sx:{paddingY:{xs:2,sm:3,md:4},backgroundColor:"",paddingX:0,borderRadius:"12px"},children:[(0,c.jsx)(E.A,{currentUser:j,excludeUserList:["Reseller","reseller partner api user"],children:!0!==(null===B.wV||void 0===B.wV?void 0:B.wV.includes(o))&&(0,c.jsxs)(s.A,{sx:{display:"flex",flexDirection:{xs:"column-reverse",sm:"column-reverse",md:"column-reverse",lg:"row"},alignItems:"center",gap:2,width:"100%",bgcolor:"var(--bs-primary1)",color:"var(--bs-primary2)",p:2,mb:2,borderRadius:2,border:"2px solid var(--bs-primary3)"},children:[(0,c.jsx)(z.P.div,{style:{width:"100%",flex:{md:"0 0 50%",lg:"0 0 50%"}},children:(0,c.jsx)(I.A,{variant:"outlined",placeholder:O[y],value:n,onChange:e=>l(e.target.value),fullWidth:!0,size:"small",sx:{width:{xs:"100%",sm:"100%",md:"100%",lg:"100%"},bgcolor:"var(--bs-primary1)",color:"var(--bs-primary2)",borderRadius:1,"& .MuiOutlinedInput-root":{color:"var(--bs-primary2)","& fieldset":{borderWidth:"2px"},"&:hover fieldset":{borderColor:"#c4c4c4",borderWidth:"2px"},"&.Mui-focused fieldset":{borderColor:"#c4c4c4",borderWidth:"2px"}},input:{color:"var(--bs-primary2)"}},InputProps:{startAdornment:(0,c.jsx)(D.A,{position:"start",children:(0,c.jsx)(W.A,{sx:{cursor:"pointer",color:"var(--bs-primary2)"}})})}})}),(0,c.jsxs)(i.A,{sx:{flex:{md:"0 0 50%",lg:"0 0 50%"},width:"100%",overflow:"hidden",whiteSpace:"nowrap",position:"relative",fontWeight:600,color:"var(--bs-primary2)",textAlign:"center",fontSize:{xs:"14px",sm:"15px",md:"18px",lg:"18px"},"& .desktopMarquee":{display:{xs:"none",md:"inline-block"},animation:"marquee 15s linear infinite"},"& .mobileText":{display:{xs:"inline-block",md:"none"}},"@keyframes marquee":{"0%":{transform:"translateX(100%)"},"100%":{transform:"translateX(-100%)"}}},children:[(0,c.jsxs)("span",{className:"desktopMarquee",children:[G,", Welcome to Bank Mudraa"]}),(0,c.jsxs)("span",{className:"mobileText",children:[G,", Welcome to Bank Mudraa"]})]})]})}),0===v.length&&n&&(0,c.jsx)(N.A,{severity:"error",sx:{mb:2},children:"No services found matching your search."}),(0,c.jsx)(t.Ay,{container:!0,spacing:2,children:v.map((e=>{try{const r=(null===e||void 0===e?void 0:e._id)||"",a=(null===e||void 0===e?void 0:e.service_name)||"Unnamed Service",s=(null===e||void 0===e?void 0:e.icon)||"",o=(null===e||void 0===e?void 0:e.route)||"#";return(0,c.jsx)(t.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,c.jsx)(C.N_,{to:o,children:(0,c.jsxs)(T.A,{className:"boxModel",sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:2,boxShadow:3,borderRadius:2,outline:"2px solid var(--bs-border-primary1) !important",transition:"transform 0.2s ease-in-out","&:hover":{transform:"scale(1.03)"}},children:[(0,c.jsx)(F.A,{component:"img",src:s,alt:a,loading:"eager",onError:e=>{e.target.onerror=null,e.target.src="/servicesicon.png"},sx:{width:64,height:64,objectFit:"contain",marginBottom:1}}),(0,c.jsx)(M.A,{sx:{padding:0},children:(0,c.jsx)(i.A,{variant:"body2",fontWeight:500,children:a})})]})})},r)}catch(p){return console.error("Service rendering error:",p),null}}))})]}):(0,c.jsx)(q,{severity:"warning",children:"No services available at the moment. Please try again later."})},G=(()=>{const e=(new Date).getHours();return e>=5&&e<12?"Good Morning":e>=12&&e<17?"Good Afternoon":e>=17&&e<22?"Good Evening":"Welcome to Bank Mudraa"})();var X=a(27108),H=a(74709),Y=a(88645),K=a(59540),Z=a(34642);const $=e=>{if(!e&&0!==e)return"\u20b9 0";const r=Number(e);return r<1e5?"\u20b9 ".concat(r.toLocaleString("en-IN")):r>=1e5&&r<1e7?"\u20b9 ".concat((r/1e5).toFixed(2)," L"):r>=1e7?"\u20b9 ".concat((r/1e7).toFixed(2)," Cr"):void 0},J=e=>{let{icon:r,label:a,value:t,gradient:o}=e;return(0,c.jsx)(T.A,{sx:{height:"100%",borderRadius:3,position:"relative",overflow:"hidden",backdropFilter:"blur(10px)",background:"linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0))",border:"1px solid rgba(255,255,255,0.12)",transition:"0.35s ease","&:hover":{transform:"translateY(-6px)",boxShadow:"0 12px 32px rgba(0,0,0,0.18)"},"&::before":{content:'""',position:"absolute",top:0,left:0,height:"4px",width:"100%",background:o}},children:(0,c.jsx)(M.A,{sx:{p:3},children:(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,c.jsx)(s.A,{sx:{width:52,height:52,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",background:o,color:"#fff",boxShadow:"0 6px 18px rgba(0,0,0,0.25)",flexShrink:0},children:r}),(0,c.jsxs)(s.A,{sx:{minWidth:0},children:[(0,c.jsx)(i.A,{sx:{fontWeight:700,fontSize:{xs:"17px",sm:"19px",md:"21px"},color:"var(--bs-primary2)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:t,children:t}),(0,c.jsx)(i.A,{variant:"caption",sx:{color:"var(--bs-primary2)",opacity:.75,letterSpacing:"0.5px",textTransform:"uppercase",fontWeight:600},children:a})]})]})})})},Q=e=>{var r;let{data:a}=e;return(0,c.jsx)(s.A,{sx:{p:2,background:"var(--bs-primary3)"},children:(0,c.jsxs)(t.Ay,{container:!0,spacing:3,children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,c.jsx)(J,{icon:(0,c.jsx)(Y.A,{}),label:"Credit",value:$(null===a||void 0===a?void 0:a.totalCredit),gradient:"linear-gradient(135deg, #4CAF50, #81C784)"})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,c.jsx)(J,{icon:(0,c.jsx)(K.A,{}),label:"Debit",value:$(null===a||void 0===a?void 0:a.totalDebit),gradient:"linear-gradient(135deg, #F44336, #E57373)"})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,c.jsx)(J,{icon:(0,c.jsx)(Z.A,{}),label:"Dispute Requests",value:null!==(r=null===a||void 0===a?void 0:a.totalDisputeCount)&&void 0!==r?r:0,gradient:"linear-gradient(135deg, #FF9800, #FFB74D)"})})]})})},ee={success:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Success",key:"success"},failed:{iconBg:"#F44336",border:"#D32F2F",text:"#C62828",label:"Failed",key:"failed"},pending:{iconBg:"#FF9800",border:"#F57C00",text:"#EF6C00",label:"Pending",key:"pending"},refund:{iconBg:"#F44336",border:"#D32F2F",text:"#C62828",label:"Refund",key:"refund"},totalAmount:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Total Amount",key:"totalAmount"},balance_reverse:{iconBg:"#FF9800",border:"#F57C00",text:"#EF6C00",label:"Balance Reverse",key:"balance_reverse"},balance_transfer:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Balance Transfer",key:"balance_transfer"},cardGradient:"linear-gradient(135deg, #FFFFFF, #F7F9FC)",titleColor:"#1E88E5"},re={success:{count:0,totalAmount:0},pending:{count:0,totalAmount:0},failed:{count:0,totalAmount:0},refund:{count:0,totalAmount:0}},ae={totalAmount:0,balance_reverse:0,balance_transfer:0,totalCount:0},te=e=>{var r;let{title:a,data:t,url:o}=e;const n=(0,P.A)();(0,f.A)(n.breakpoints.down("sm"));return(0,c.jsx)(T.A,{elevation:4,sx:{height:"100%",background:"var(--bs-primary1)",color:"var(--bs-primary2)",borderRadius:3,"&:hover":{boxShadow:"0 8px 20px rgba(0,0,0,0.15)",transform:"scale(1.02)",transition:"all 0.3s ease-in-out"}},children:(0,c.jsx)(C.N_,{to:o,style:{textDecoration:"none"},children:(0,c.jsx)(T.A,{sx:{height:"100%",borderRadius:3,background:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary3)",transition:"all 0.25s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 28px rgba(0,0,0,0.12)"}},children:(0,c.jsxs)(M.A,{children:[(0,c.jsx)(i.A,{fontSize:"16px",fontWeight:700,mb:2,textAlign:"center",color:"var(--bs-primary2)",children:a}),(0,c.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:null===(r=Object.keys(t))||void 0===r?void 0:r.filter((e=>!["totalCount"].includes(e))).map((e=>{var r,a,o;const n=ee[e]||ee.success;return(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1.2,borderRadius:2,border:"1px solid ".concat(n.border),background:"".concat(n.iconBg,"12"),flexWrap:{xs:"wrap",sm:"nowrap"}},children:[(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1.2},children:[(0,c.jsx)(s.A,{sx:{width:28,height:28,borderRadius:"50%",bgcolor:n.iconBg,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"14px"},children:"success"===e?(0,c.jsx)(d.a5Y,{}):"failed"===e?(0,c.jsx)(d.XIJ,{}):(0,c.jsx)(H.A,{fontSize:"small"})}),(0,c.jsx)(i.A,{fontSize:"14px",fontWeight:600,children:n.label})]}),(0,c.jsxs)(i.A,{fontSize:"14px",fontWeight:700,children:["\u20b9"," ",null!==(r=null!==(a=null===t||void 0===t||null===(o=t[e])||void 0===o?void 0:o.totalAmount)&&void 0!==a?a:null===t||void 0===t?void 0:t[n.key])&&void 0!==r?r:"0.00"]})]},e)}))})]})})})})},se=e=>{var r,a,o,n;let{data:l}=e;const d=(new Date).toISOString().split("T")[0],[p,m]=(0,u.useState)(1),v=localStorage.getItem("userType"),[b,h]=(0,u.useState)(""),[y,g]=(0,u.useState)([]),[j,A]=(0,u.useState)(null),[w,S]=(0,u.useState)(),k=(0,P.A)(),[C,_]=(0,u.useState)(d),[N,F]=(0,u.useState)(d),[M,R]=(0,u.useState)(!1),D=((0,f.A)(k.breakpoints.down("sm")),[{title:"Bank Transfer Summary",data:null!==(r=null===w||void 0===w?void 0:w.dmtTxns)&&void 0!==r?r:re,url:"/super/bank-transfer-report?start-date=".concat(C,"&end-date=").concat(N)},{title:"AEPS Summary",data:null!==(a=null===w||void 0===w?void 0:w.aepsTxns)&&void 0!==a?a:re,url:"/super/aeps-transfer-report?start-date=".concat(C,"&end-date=").concat(N)},{title:"BBPS Summary",data:null!==(o=null===w||void 0===w?void 0:w.bbpsTxns)&&void 0!==o?o:re,url:"/super/bbps-report?start-date=".concat(C,"&end-date=").concat(N)},{title:"Fund Transfer Summary",data:null!==(n=null===w||void 0===w?void 0:w.fundTransfer)&&void 0!==n?n:ae,url:"/super/fund-transfer-report?start-date=".concat(C,"&end-date=").concat(N)}].filter((e=>e.title.toLowerCase().includes(b.toLowerCase())))),W=(Math.ceil(D.length/10),D.slice(10*(p-1),10*p));return(0,u.useEffect)((()=>{(async()=>{var e,r;let a=await(0,x.EpH)();!1===(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.error)?g((null===(r=a.data)||void 0===r?void 0:r.data)||[]):g([])})()}),[]),(0,u.useEffect)((()=>{(async()=>{var e;let r={start_date:C,end_date:N};j&&(r.retailer_id=null===j||void 0===j?void 0:j._id);let a=await(0,x.rgU)(r);S((null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||null)})()}),[M]),(0,c.jsxs)(s.A,{sx:{flexGrow:1},children:[(0,c.jsx)(T.A,{elevation:0,sx:{p:4,pb:2,mb:3,borderRadius:3,background:"var(--bs-primary3)",color:"var(--bs-primary2)",boxShadow:0},children:(0,c.jsxs)(t.Ay,{container:!0,spacing:2,children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(s.A,{sx:{p:2,paddingX:0,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:2,rowGap:2,width:"100%",flexWrap:"wrap"},children:[(0,c.jsx)(I.A,{label:"From",type:"date",size:"small",value:C,onChange:e=>_(e.target.value),InputLabelProps:{shrink:!0},inputProps:{max:d},sx:{flex:1,minWidth:160,background:"var(--bs-primary3)",color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary1)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary3)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}}),(0,c.jsx)(I.A,{label:"To",type:"date",size:"small",value:N,onChange:e=>F(e.target.value),InputLabelProps:{shrink:!0},inputProps:{max:d},sx:{flex:1,minWidth:160,background:"var(--bs-primary1)",color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary1)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary3)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}}),(0,c.jsx)(E.A,{currentUser:v,excludeUserList:["Reseller"],children:(0,c.jsx)(X.A,{options:y,getOptionLabel:e=>e.name,value:null!==j&&void 0!==j?j:null,size:"small",onChange:(e,r)=>A(r),sx:{flex:1,minWidth:220,flexShrink:0},renderOption:(e,r)=>(0,u.createElement)("li",{...e,key:r.retailer_id},(0,c.jsx)(s.A,{sx:{fontSize:"13px",color:"var(--bs-primary2)"},display:"flex",columnGap:1.5,alignItems:"center",children:r.name})),renderInput:e=>(0,c.jsx)(I.A,{...e,label:"Select Retailer",sx:{background:"var(--bs-primary1)",color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary1)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary3)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}},InputLabelProps:{sx:{"&.MuiInputLabel-root:not(.MuiInputLabel-shrink)":{top:"-3px"},color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary1)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary3)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}}})})})]})}),(0,c.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,c.jsx)("button",{style:{background:"var(--bs-primary1)",color:"var(--bs-primary2)",padding:"6px 24px",borderRadius:"8px",marginRight:12},type:"button",className:"btn",onClick:()=>R((e=>!e)),children:"Search"}),(0,c.jsx)("button",{style:{background:"var(--bs-primary1)",color:"var(--bs-primary2)",padding:"6px 24px",borderRadius:"8px"},type:"button",className:"btn",onClick:()=>{F(""),_(""),A(null),R((e=>!e))},children:"Reset"})]})]})}),(0,c.jsx)(Q,{data:w}),(0,c.jsx)(E.A,{currentUser:v,excludeUserList:["Reseller"],children:(0,c.jsxs)(T.A,{sx:{p:1,pb:2,mt:3,borderRadius:3,boxShadow:0,background:"var(--bs-primary3)",color:"var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"h4",fontSize:"20px",mb:2,gutterBottom:!0,fontWeight:"bold",color:"var(--bs-primary2)",align:"center",children:"Business Summary"}),(0,c.jsx)(t.Ay,{container:!0,spacing:3,sx:{mb:4,color:"var(--bs-primary2)",backgroundColor:"var(--bs-primary3)"},children:W.length>0?W.map(((e,r)=>(0,c.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,c.jsx)(te,{title:e.title,data:e.data,url:e.url})},r))):(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"h6",color:"var(--bs-primary2)",align:"center",children:['No data found for "',b,'"']})})})]})})]})},oe=e=>"Api User"===localStorage.getItem("userType")?null:e,ne={background:"var(--bs-primary3)"},ie={regular:400,medium:500,bold:700},le={small:"14px",medium:"16px",large:"20px"},de=e=>"".concat(8*e,"px"),ce={sm:"600px"},ue=(0,A.A)(y.A)({display:"none","& .MuiTabs-indicator":{backgroundColor:ne.background,height:3,display:"none"}}),xe=(0,A.A)(g.A)({textTransform:"none",fontWeight:ie.medium,fontSize:le.medium,marginRight:de(4),["@media (max-width: ".concat(ce.sm,")")]:{fontSize:le.small,marginRight:de(2)}}),pe=(0,A.A)(s.A)({padding:de(3),["@media (max-width: ".concat(ce.sm,")")]:{padding:de(2)}}),me=e=>{let{storedUserType:r,services:a,data:t,isInstantpaypresnt:o}=e;const[n,i]=(0,u.useState)(null),l=(0,f.A)("(max-width: ".concat(ce.sm,")"));(0,u.useEffect)((()=>{i("zsm"===r||"asm"===r||"Super Distributor"===r||"Distributor"===r?1:0)}),[r]);return"Retailer"!=r&&1===n?(0,c.jsx)(s.A,{sx:{p:de(3)},children:(0,c.jsx)(se,{data:t})}):(0,c.jsxs)(j.A,{sx:{p:0,backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsxs)(ue,{value:n,onChange:(e,r)=>{i(r)},"aria-label":"dashboard tabs",variant:l?"fullWidth":"standard",centered:!l,children:[(0,c.jsx)(xe,{icon:(0,c.jsx)(w.A,{}),label:"Services"}),oe((0,c.jsx)(xe,{icon:(0,c.jsx)(S.A,{}),label:"Transactions"}))]}),(0,c.jsxs)(pe,{sx:{p:0},children:[0===n&&(0,c.jsx)(V,{services:a,isInstantpaypresnt:o}),1===n&&(0,c.jsx)(s.A,{children:(0,c.jsx)(se,{data:t})})]})]})},ve=e=>{let{modalVisibility:r,handleCloseModal3:a,handleSubmitmodal3:t,storedUserid:s,setModalVisibility:o,getUserTpinStatus:n}=e;const[i,l]=(0,u.useState)(new Array(6).fill("")),[d,p]=(0,u.useState)(120),[m,b]=(0,u.useState)(!1),[h,y]=(0,u.useState)(!1),[g,f]=(0,u.useState)(!1),[j,A]=(0,u.useState)(""),[w,S]=(0,u.useState)(""),k=(0,u.useRef)([]),C=(0,u.useRef)(null),_=(0,u.useCallback)((e=>{const r=Math.floor(e/60),a=e%60;return"".concat(String(r).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))}),[]),N=(0,u.useCallback)((()=>{C.current&&clearInterval(C.current),p(120),b(!1),C.current=setInterval((()=>{p((e=>e<=1?(clearInterval(C.current),b(!0),0):e-1))}),1e3)}),[]);(0,u.useEffect)((()=>(r.showModal3&&N(),()=>{C.current&&clearInterval(C.current)})),[r.showModal3,N]);const I=(0,u.useCallback)(((e,r)=>{const a=[...i];a[e]=r.slice(0,1),l(a),r&&e<5&&k.current[e+1]&&k.current[e+1].focus()}),[i]),T=(0,u.useCallback)(((e,r)=>{"Backspace"===r.key&&!i[e]&&e>0&&k.current[e-1]&&k.current[e-1].focus()}),[i]),F=(0,u.useCallback)((async()=>{y(!0),S(""),A("");try{200===(await(0,x.Ei8)({user_id:s})).status?(A("OTP has been resent successfully."),N(),l(new Array(6).fill(""))):S("Failed to resend OTP.")}catch(w){S("Failed to resend OTP.")}finally{y(!1)}}),[s,N]),M=(0,u.useCallback)((async()=>{f(!0),A(""),S("");try{var e;const o=await(0,x.B1X)({user_id:s,otp:i.join("")});var r,a;if("200"==(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.statusCode))A("OTP verified successfully."),v.oR.success("OTP verified successfully."),n("OV"),t();else S((null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)||"Failed to verify OTP."),v.oR.error((null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Failed to verify OTP.")}catch(w){S("Failed to verify OTP."),v.oR.error("Failed to verify OTP.")}finally{f(!1)}}),[s,i,t,n]);return r.showModal3?(0,c.jsx)("div",{className:"modal fade modal-cssclasss mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog",children:(0,c.jsx)("div",{className:"modal-dialog",role:"document",children:(0,c.jsxs)("div",{className:"modal-content modal-content-otp",children:[(0,c.jsx)("div",{className:"modal-header text-center",children:(0,c.jsx)("h5",{className:"modal-title modaltitle-otp",children:"OTP Verification"})}),(0,c.jsx)("div",{className:"modal-body",children:m?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"We've sent a 6-digit verification code to your mobile number, please enter it here!"}),(0,c.jsx)("button",{type:"button",className:"btn btn-resend-otp",onClick:F,children:h?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Resend OTP"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"We've sent a 6-digit verification code to your mobile number, please enter it here!!"}),(0,c.jsxs)("div",{className:"verification-timer",children:["OTP expires in ",_(d)," ",(0,c.jsx)("span",{className:"resend-otp",style:{cursor:m?"pointer":"default",color:m?"blue":"gray",pointerEvents:m?"auto":"none"},onClick:F,children:"Resend OTP"})]}),(0,c.jsx)("div",{className:"otp-inputs",children:i.map(((e,r)=>(0,c.jsx)("input",{type:"number",maxLength:"1",value:e,onChange:e=>I(r,e.target.value),onKeyDown:e=>T(r,e),ref:e=>k.current[r]=e,className:"otp-input"},r)))}),(0,c.jsx)("button",{type:"button",className:"btn btn-submit-otp",onClick:M,disabled:i.some((e=>""===e))||g,children:g?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Submit OTP"}),j&&(0,c.jsx)("div",{className:"alert alert-success mt-3",children:j}),w&&(0,c.jsx)("div",{className:"alert alert-danger mt-3",children:w})]})})]})})}):null},be=u.memo(ve);const he=function(e){let{walletData:r,services:a,isInstantpaypresnt:t={isInstantpaypresnt:t}}=e;const[s,o]=(0,u.useState)({}),[n,i]=(0,u.useState)(""),[l,y]=(0,u.useState)(!1),[g,f]=(0,u.useState)(!1),[j,A]=(0,u.useState)(""),[w,S]=(0,u.useState)(""),[k,C]=(0,u.useState)(!1),[_,N]=(0,u.useState)(!1),[I,T]=(0,u.useState)(null),[F,M]=(0,u.useState)(null),[R,P]=(0,u.useState)(""),[D,W]=(0,u.useState)(""),[z,B]=(0,u.useState)(!1),[E,O]=(0,u.useState)(""),[U,L]=(0,u.useState)(""),[q,V]=(0,u.useState)(""),[G,X]=(0,u.useState)(""),H=localStorage.getItem("userIdToken"),[Y,K]=(0,u.useState)(!1),[Z,$]=(0,u.useState)(!1),[J,Q]=(0,u.useState)(180),[ee,re]=(0,u.useState)(!1),[ae,te]=(0,u.useState)(!1),[se,oe]=(0,u.useState)(!0),[ne,ie]=(0,u.useState)({showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1}),le=()=>{ie((e=>({...e,showModal:!1,showOverlay:!1}))),P(""),W("")},de=e=>{ie((e=>({...e,showModal3:!1,showModal2:!0})))};(0,u.useEffect)((()=>{(async()=>{const e=new Date;let r=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),s="".concat(t,"-").concat(a,"-").concat(r);try{var n;const e=await(0,x.pth)(s);o(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}catch(i){console.error(i)}})();const e=localStorage.getItem("userTpinstatus");T(e)}),[]),(0,u.useEffect)((()=>{null!==I&&ie("CV"===I?{showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1}:"NP"===I||null===I||void 0===I||""===I||"undefined"==I?{showModal:!0,showModal2:!1,showModal3:!1,showOverlay:!0}:"OV"===I?{showModal:!1,showModal2:!0,showModal3:!1,showOverlay:!0}:{showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1})}),[I]);const[ce,ue]=(0,u.useState)(new Array(6).fill(""));(0,u.useRef)([]),ce.includes(""),new Array(6).fill(null),function(){var e=window.localStorage.getItem("regisNumber"),r="";e&&(r="+"==e.charAt(0)||"0"==e.charAt(0)?e.replace(/[^a-zA-Z0-9+]/g,"").substr(3):e.replace(/[^a-zA-Z0-9]/g,""))}(),(0,u.useEffect)((()=>{let e;return J>0&&!ee?e=setTimeout((()=>{Q((e=>e-1))}),1e3):0!==J||ee||re(!0),()=>clearTimeout(e)}),[]);const xe=localStorage.getItem("userType"),pe=r?null===r||void 0===r?void 0:r.name:"";return(0,u.useEffect)((()=>{(async()=>{try{await(0,x.SpX)()}catch(e){}})()}),[]),(0,c.jsxs)(c.Fragment,{children:[ne.showOverlay&&(0,c.jsx)("div",{className:"overlay modalpinoverlayclass"}),(0,c.jsx)("div",{className:"ContentArea",children:(0,c.jsxs)("div",{className:"card",style:{backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsx)(h,{retailerName:pe}),(0,c.jsx)(me,{storedUserType:xe,services:a,data:s,isInstantpaypresnt:t})]})}),ne.showModal&&(0,c.jsx)("div",{className:"modal fade mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",onHide:le,children:(0,c.jsx)("div",{className:"lock-screen",children:(0,c.jsxs)("div",{className:"lock-screen__content",children:[(0,c.jsx)("div",{className:"image-bg",children:(0,c.jsx)("img",{className:"lock-screen__imgae",src:m,alt:"bankmudraa"})}),(0,c.jsx)("h2",{className:"lock-screen__message mt-3",style:{color:"var(--bs-primary2)"},children:"Generate Tpin for secure payments."}),(0,c.jsx)("p",{className:"lock-screen__instruction",style:{color:"var(--bs-primary2)"},children:"Click on button to generate Tpin"}),(0,c.jsx)("button",{className:"unlock-button",onClick:async()=>{y(!0);try{const e=await(0,x.Bwk)({});y(!1),e&&e.data&&!1===e.data.error?(v.oR.success("verified successfully"),console.log("tpin generated"),P(e.data.message),le(),ie((e=>({...e,showModal3:!0,showOverlay:!0})))):(W("Failed to generate TPIN"),v.oR.error("Failed to generate TPIN"))}catch(e){y(!1),W("Failed to generate OTP for Tpin"),v.oR.error("Failed to generate TPIN")}},style:{color:"var(--bs-primary2)",border:"1px solid var(--bs-primary3)"},children:l?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Generate Tpin"}),R&&(0,c.jsx)("div",{className:"alert alert-success mt-1",role:"alert",style:{color:"var(--bs-primary2)"},children:R}),D&&(0,c.jsx)("div",{className:"alert alert-danger mt-1",role:"alert",children:D})]})})}),ne.showModal3&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(be,{modalVisibility:ne,handleCloseModal3:()=>{ie((e=>({...e,showModal3:!1,showOverlay:!1})))},handleSubmitmodal3:de,storedUserid:H,setModalVisibility:ie,getUserTpinStatus:b.rp})}),ne.showModal2&&(0,c.jsx)("div",{className:"modal fade modal-cssclasss mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog",children:(0,c.jsx)("div",{className:"modal-dialog getpinmodal",role:"document",children:(0,c.jsxs)("div",{className:"modal-content text-center",children:[(0,c.jsx)("div",{className:"modal-header text-center",children:(0,c.jsx)("h5",{className:"modal-title modaltitle-otp",children:"Create your Tpin"})}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)("div",{className:"col-lg-12",children:(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),4===j.length&&4===w.length&&j===w){f(!0),V(""),X("");try{var r;const{latitude:e,longitude:a}=await new Promise(((e,r)=>{if(!navigator.geolocation)return r("Geolocation is not supported by this browser");navigator.geolocation.getCurrentPosition((r=>{let{coords:a}=r;e({latitude:a.latitude,longitude:a.longitude})}),(e=>r(e)))})),t=await(0,x.Dm7)({user_id:H,genTpin:j,confirmTpin:w,latitude:e,longitude:a});"200"==(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.statusCode)?((0,b.rp)("CV"),V("New TPIN generated successfully."),v.oR.success("New TPIN generated successfully!"),ie((e=>({...e,showModal2:!1,showOverlay:!1})))):(X("Failed to generate TPIN."),v.oR.error("Failed to generate TPIN."))}catch(a){X("Failed to generate TPIN."),v.oR.error("Failed to generate TPIN.")}finally{f(!1)}}else N(!0)},children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("input",{type:Y?"text":"password",className:"form-control ".concat(4!==j.length||k?"":"is-valid"),id:"newPin",value:j,onChange:e=>{const r=e.target.value;/^\d{0,6}$/.test(r)?(A(r),C(4!==r.length)):C(!0)},placeholder:"Enter new PIN","aria-label":"New PIN","aria-describedby":"basic-addon1",required:!0}),4===j.length&&!k&&(0,c.jsx)("span",{className:"position-absolute top-50 end-0 translate-middle-y pe-2",children:(0,c.jsx)(p.RXm,{})}),(0,c.jsx)("button",{className:"btn ",style:{borderColor:"#aaaaaa57"},type:"button",onClick:()=>K(!Y),children:Y?(0,c.jsx)(d.mx3,{}):(0,c.jsx)(d.Ny1,{})})]}),k&&(0,c.jsx)("div",{className:"text-danger",children:"Please enter exactly 4 numeric digits."})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("input",{type:Z?"text":"password",className:"form-control ".concat(4!==w.length||_?"":"is-valid"),id:"confirmPin",value:w,onChange:e=>{const r=e.target.value;/^\d{0,6}$/.test(r)?(S(r),N(4!==r.length||r!==j)):N(!0)},placeholder:"Confirm new PIN","aria-label":"Confirm PIN","aria-describedby":"basic-addon2",required:!0}),(0,c.jsx)("button",{className:"btn ",style:{borderColor:"#aaaaaa57"},type:"button",onClick:()=>$(!Z),children:Z?(0,c.jsx)(d.mx3,{}):(0,c.jsx)(d.Ny1,{})})]}),_&&(0,c.jsx)("div",{className:"text-danger",children:"PINs do not match or are not 4 digits."})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-submit-otp",disabled:k||_||4!==j.length||4!==w.length,children:g?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Submit"}),q&&(0,c.jsx)("div",{className:"alert alert-success mt-3",children:q}),G&&(0,c.jsx)("div",{className:"alert alert-danger mt-3",children:G})]})})})]})})})]})};var ye=a(35717),ge=a(25284),fe=a(14282),je=a(39336);const Ae=e=>{var r;let{show:a,handleClose:s,profiledata:l}=e;if(!l)return null;const d=(null===l||void 0===l?void 0:l.businessInfo)||{},u=(null===l||void 0===l?void 0:l.bankDetails)||{},x=(null===l||void 0===l||null===(r=l.user_type_id)||void 0===r?void 0:r.user_type)||"-";return(0,c.jsxs)(ge.A,{show:a,onHide:s,centered:!0,size:"md",className:"custom-modal",backdrop:"static",children:[(0,c.jsx)(ge.A.Header,{closeButton:!0,style:{backgroundColor:"var(--bs-primary1)"},children:(0,c.jsx)(ge.A.Title,{style:{color:"var(--bs-primary2)"},children:"Profile Details"})}),(0,c.jsxs)(ge.A.Body,{style:{backgroundColor:"var(--bs-primary1)",maxHeight:"70vh",overflowY:"auto"},children:[(0,c.jsxs)(o.A,{alignItems:"center",spacing:1.5,mb:2,children:[(0,c.jsx)(n.A,{src:(0,ye.q)(null===l||void 0===l?void 0:l.profile),sx:{width:90,height:90,border:"2px solid var(--bs-primary2)",boxShadow:"0 0 10px rgba(0,0,0,0.2)"}}),(0,c.jsx)(i.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",color:"var(--bs-primary2)"},children:(null===l||void 0===l?void 0:l.name)||"\u2014"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",textAlign:"center"},children:["Code: ",(null===l||void 0===l?void 0:l.refer_id)||"N/A"]})]}),(0,c.jsx)(o.A,{direction:"row",spacing:1.5,rowGap:2,justifyContent:"center",mb:2,flexWrap:"wrap",children:[{label:"Main",value:null===l||void 0===l?void 0:l.main_wallet},{label:"AEPS",value:null===l||void 0===l?void 0:l.aeps_wallet},{label:"Cashback",value:null===l||void 0===l?void 0:l.cashback_wallet},{label:"Locking",value:null===l||void 0===l?void 0:l.locking_amt}].map((e=>(0,c.jsxs)(_.A,{sx:{p:1.5,minWidth:80,textAlign:"center",backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)",mb:1},children:[(0,c.jsx)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",fontWeight:600},children:e.label}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:["\u20b9",e.value||0]})]},e.label)))}),(0,c.jsx)(je.A,{sx:{mb:2,borderColor:"var(--bs-primary2)"}}),(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Personal Information"}),(0,c.jsxs)(t.Ay,{container:!0,spacing:1,children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Email:"})," ",(null===l||void 0===l?void 0:l.email)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Mobile:"})," ",(null===l||void 0===l?void 0:l.mobile)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"State:"})," ",(null===l||void 0===l?void 0:l.state)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"PIN:"})," ",(null===l||void 0===l?void 0:l.pinCode)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Address:"})," ",(null===l||void 0===l?void 0:l.presentAddr)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"User Type:"})," ",x]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Education:"})," ",(null===l||void 0===l?void 0:l.educationQualification)||"\u2014"]})})]})]}),(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Business Information"}),null!==l&&void 0!==l&&l.isGstAvailable?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"GST Number:"})," ",(null===d||void 0===d?void 0:d.gst_NUmber)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Legal Name:"})," ",(null===d||void 0===d?void 0:d.legal_name_of_business)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Business Type:"})," ",(null===d||void 0===d?void 0:d.constitution_of_business)||"\u2014"]})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Shop Name:"})," ",(null===l||void 0===l?void 0:l.shop_name)||"\u2014"]})}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Address:"})," ",(null===d||void 0===d?void 0:d.business_Address)||(null===l||void 0===l?void 0:l.business_Address)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Area:"})," ",(null===d||void 0===d?void 0:d.business_Area)||(null===l||void 0===l?void 0:l.business_Area)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"City:"})," ",(null===d||void 0===d?void 0:d.business_city)||(null===l||void 0===l?void 0:l.business_city)||"\u2014"]})]}),u&&(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Bank Details"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Bank Name:"})," ",(null===u||void 0===u?void 0:u.bank_name)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Account Number:"})," ",(null===u||void 0===u?void 0:u.bank_account_number)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"IFSC:"})," ",(null===u||void 0===u?void 0:u.bank_ifsc)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Account Holder:"})," ",(null===u||void 0===u?void 0:u.bank_account_name)||"\u2014"]})]})]}),(0,c.jsx)(ge.A.Footer,{style:{backgroundColor:"var(--bs-primary1)"},children:(0,c.jsx)(fe.A,{variant:"secondary",onClick:s,children:"Close"})})]})};var we=a(47763),Se=a(90035);function ke(e){let{data:r}=e;const[a,t]=(0,u.useState)(null);return(0,c.jsxs)(s.A,{sx:{width:"100%",bgcolor:"var(--bs-primary1)",p:1,borderRadius:2,color:"var(--bs-primary2)"},children:[r.slice(0,5).map(((e,r)=>(0,c.jsxs)(s.A,{children:[(0,c.jsxs)(s.A,{onClick:()=>t(e),sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,py:1.4,gap:1,flexWrap:"nowrap",cursor:"pointer",bgcolor:"var(--bs-primary1)",borderRadius:1},children:[(0,c.jsxs)(s.A,{sx:{flex:1,minWidth:0,overflow:"hidden"},children:[(0,c.jsx)(i.A,{sx:{fontSize:"14px",fontWeight:600,color:"var(--bs-primary2)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.message}),(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7,whiteSpace:"nowrap"},children:e.createdAt})]}),(0,c.jsx)(i.A,{sx:{fontWeight:700,fontSize:"15px",whiteSpace:"nowrap",color:"credit"===e.type?e.approve?"green":"#ff9800":"red"},children:"credit"===e.type?"+ \u20b9".concat(e.amount):"- \u20b9".concat(e.amount)})]}),r<4&&(0,c.jsx)(je.A,{sx:{opacity:.2,my:.5}})]},e._id))),(0,c.jsx)(Se.A,{open:Boolean(a),onClose:()=>t(null),sx:{"& .MuiPaper-root":{width:"380px",borderRadius:4,p:3,bgcolor:"var(--bs-primary1)",color:"var(--bs-primary2)"}},children:a&&(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"18px",fontWeight:700,textAlign:"center",mb:1,color:"var(--bs-primary2)"},children:"Transaction Details"}),(0,c.jsx)(je.A,{sx:{my:2,opacity:.3}}),(0,c.jsx)(i.A,{sx:{fontSize:"16px",fontWeight:600,mb:2},children:a.message}),(0,c.jsx)(s.A,{sx:{bgcolor:"credit"===a.type?a.approve?"rgba(0,255,0,0.1)":"rgba(255,165,0,0.15)":"rgba(255,0,0,0.1)",p:2,borderRadius:3,textAlign:"center",mb:2},children:(0,c.jsx)(i.A,{sx:{fontSize:"22px",fontWeight:700,color:"credit"===a.type?a.approve?"green":"#ff9800":"red"},children:"credit"===a.type?"+ \u20b9".concat(a.amount):"- \u20b9".concat(a.amount)})}),(0,c.jsxs)(s.A,{sx:{display:"grid",gap:1.5},children:[(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"Transaction Type"}),(0,c.jsx)(i.A,{sx:{fontWeight:600},children:a.trans_type})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"Date"}),(0,c.jsx)(i.A,{sx:{fontWeight:600},children:a.createdAt})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"Old Balance"}),(0,c.jsxs)(i.A,{sx:{fontWeight:600},children:["\u20b9",a.o_bal]})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"New Balance"}),(0,c.jsxs)(i.A,{sx:{fontWeight:600},children:["\u20b9",a.c_bal]})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"Txn ID"}),(0,c.jsx)(i.A,{sx:{fontWeight:600,wordBreak:"break-all"},children:a.txn_id})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"var(--bs-primary2)",opacity:.7},children:"Order ID"}),(0,c.jsx)(i.A,{sx:{fontWeight:600,wordBreak:"break-all"},children:a.order_id})]})]}),(0,c.jsx)(je.A,{sx:{my:3,opacity:.3}})]})})]})}const Ce=function(e){let{profiledata:r,walletData:a,services:d,position:x,isInstantpaypresnt:p}=e;const m=(0,k.Zp)(),[v,b]=(0,u.useState)(!1),[h,y]=(0,u.useState)(!1),{data:g}=(0,we.A)();return(0,c.jsxs)(t.Ay,{container:!0,sx:{height:"100%",overflow:"auto",backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,md:10.2,sx:{height:"100%",overflowY:"auto",pr:2,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:(0,c.jsx)(he,{walletData:a,services:d,position:x,isInstantpaypresnt:p})}),(0,c.jsxs)(t.Ay,{item:!0,xs:12,md:1.8,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[(0,c.jsx)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,textAlign:"center",backgroundColor:"var(--bs-primary1)"},children:(0,c.jsxs)(o.A,{alignItems:"center",spacing:1,children:[(0,c.jsx)(n.A,{src:(0,ye.q)(null===r||void 0===r?void 0:r.profile),sx:{width:70,height:70,border:"2px solid var(--bs-primary3)",boxShadow:"0 0 10px rgba(0,0,0,0.1)"}}),(0,c.jsx)(i.A,{variant:"subtitle1",sx:{color:"var(--bs-primary2)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:600,width:"100%"},children:(null===r||void 0===r?void 0:r.name)||"\u2014"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",fontSize:"14px"},children:["Balance: \u20b9",h?(null===r||void 0===r?void 0:r.main_wallet)||0:"XXXX"]}),(0,c.jsxs)(s.A,{onClick:()=>y(!h),sx:{mt:1,width:"130px",height:"38px",borderRadius:"50px",backgroundColor:h?"#28a745":"#dc3545",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.35s ease",position:"relative",overflow:"hidden",userSelect:"none",color:"white",fontSize:"14px",fontWeight:700},children:[(0,c.jsx)(s.A,{sx:{position:"absolute",left:h?"calc(100% - 34px)":"6px",width:"26px",height:"26px",borderRadius:"50%",backgroundColor:"white",transition:"all 0.35s ease",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"}}),(0,c.jsx)("span",{style:{position:"relative",zIndex:2},children:h?"Hide":"Show"})]}),(0,c.jsx)(l.A,{variant:"outlined",size:"small",sx:{textTransform:"none",fontSize:"13px",mt:1,width:"100%",color:"var(--bs-primary2)",borderColor:"var(--bs-primary3)"},onClick:()=>b(!0),children:"View Profile"})]})}),(0,c.jsxs)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,backgroundColor:"var(--bs-primary1)"},children:[(0,c.jsx)(i.A,{variant:"h6",sx:{fontSize:"16px",fontWeight:600,color:"var(--bs-primary2)",mb:1,textAlign:"center"},children:"Help Center"}),(0,c.jsx)(i.A,{variant:"body2",sx:{fontSize:"13px",textAlign:"center",color:"var(--bs-primary2)"},children:"\ud83d\udcde +91 1242262222"}),(0,c.jsx)(i.A,{variant:"body2",sx:{fontSize:"13px",textAlign:"center",color:"var(--bs-primary2)"},children:"\u2709\ufe0f support@bankmudraa.com"}),(0,c.jsx)(l.A,{variant:"outlined",size:"small",sx:{textTransform:"none",fontSize:"13px",mt:1.5,borderColor:"var(--bs-primary3)",color:"var(--bs-primary2)",width:"100%"},onClick:()=>window.location.href="mailto:support@bankmudraa.com?subject=Support Request&body=Hello BankMudraa Support,",children:"Contact Us"})]}),(0,c.jsxs)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,backgroundColor:"var(--bs-primary1)"},children:[(0,c.jsx)(i.A,{variant:"h6",sx:{fontSize:"16px",fontWeight:600,color:"var(--bs-primary2)",mb:1,textAlign:"center"},children:"Recent Transactions"}),(0,c.jsx)(ke,{data:g}),(0,c.jsx)(l.A,{variant:"text",size:"small",onClick:()=>m("/wallet-report"),sx:{textTransform:"none",fontSize:"13px",mt:1,color:"var(--bs-primary2)",width:"100%"},children:"View More \u2192"})]})]}),(0,c.jsx)(Ae,{show:v,handleClose:()=>b(!1),profiledata:r})]})}},82114:(e,r,a)=>{a.d(r,{A:()=>s});var t=a(70579);const s=e=>{let{currentUser:r,allowUserList:a=[],excludeUserList:s=[],children:o}=e;return s.includes(r)||a.length>0&&!a.includes(r)?null:(0,t.jsx)(t.Fragment,{children:o})}},35717:(e,r,a)=>{a.d(r,{q:()=>s});var t=a(94414);const s=e=>t.cu+(e||"")},45925:(e,r,a)=>{e.exports=a.p+"static/media/transparentLogo.b9ade7f4ea3f01c7af05.png"}}]);
//# sourceMappingURL=2649.385bf168.chunk.js.map