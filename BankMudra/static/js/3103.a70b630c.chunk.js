(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[3103],{54478:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(65043),s=t(73216),o=t(53519),n=t(38628),l=t(73722),c=t(61072),i=t(78602),d=t(64196),u=t(85369),m=(t(95702),t(76245)),p=(t(76323),t(73575)),x=t(72777),h=t(70579);const b=function(){const{userId:e}=(0,s.g)(),[r,t]=((0,s.zy)(),(0,a.useState)([])),[b,f]=(0,a.useState)([]),[y,v]=(0,a.useState)(0),[j,g]=(0,a.useState)(0),[N,k]=(0,a.useState)(!0),[C,w]=(0,a.useState)(null),[A,_]=(0,a.useState)({key:null,direction:"ascending"}),[W,T]=(0,a.useState)(1),[O,R]=(0,a.useState)(10),E=()=>(new Date).toISOString().substr(0,10),S={user_id:window.localStorage.getItem("userIdToken"),id:e,count:O,page:1,start_date:E(),end_date:E(),type:"",trans_type:"",order_id:"",txn_id:""},[P,I]=(0,a.useState)(S),[B,U]=(0,a.useState)(S);(0,a.useEffect)((()=>{(async()=>{try{var e;k(!0),w(null);const r={...B,page:W,count:O},a=await(0,p._RX)(r);null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.data?(t(Array.isArray(a.data.data.wallet)?a.data.data.wallet:[]),v(a.data.data.total||0),g(a.data.totalAmount||0)):(t([]),v(0),g(0),w("No data available"))}catch(C){console.error("Error fetching user report:",C),w((null===C||void 0===C?void 0:C.message)||"Failed to fetch report data"),t([]),v(0),g(0)}finally{k(!1)}})()}),[e,W,O,B]);const D=e=>{const{name:r,value:t}=e.target;I((e=>({...e,[r]:"string"===typeof t?t.trim():t})))},M=e=>{let r="ascending";A.key===e&&"ascending"===A.direction&&(r="descending"),_({key:e,direction:r})},L=(0,a.useMemo)((()=>{const e=Array.isArray(r)?[...r]:[];return A.key&&e.length>0?e.sort(((e,r)=>{var t,a;const s=null!==(t=e[A.key])&&void 0!==t?t:"",o=null!==(a=r[A.key])&&void 0!==a?a:"";return s<o?"ascending"===A.direction?-1:1:s>o?"ascending"===A.direction?1:-1:0})):e}),[r,A]);return N?(0,h.jsx)(o.A,{fluid:!0,className:"px-4",children:(0,h.jsx)(x.A,{})}):(0,h.jsxs)(o.A,{fluid:!0,className:"px-4 PageHeading",style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:[(0,h.jsx)("h1",{className:"mt-4 mb-4",style:{fontWeight:700},children:"Transaction Report"}),(0,h.jsxs)(n.A,{className:"mb-4 ur-card",style:{backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,h.jsx)(n.A.Header,{className:"ur-card-header",style:{backgroundColor:"var(--bs-primary3)",borderBottom:"1px solid var(--bs-primary2)"}}),(0,h.jsx)(n.A.Body,{className:"ur-card-body",children:(0,h.jsxs)(l.A,{children:[(0,h.jsxs)(c.A,{className:"mb-3",children:[(0,h.jsx)(i.A,{md:4,children:(0,h.jsxs)(l.A.Group,{controlId:"startDate",children:[(0,h.jsx)(l.A.Label,{style:{color:"var(--bs-primary2)"},children:"Start Date"}),(0,h.jsx)(l.A.Control,{type:"date",name:"start_date",value:P.start_date,onChange:D,max:E(),style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)"}})]})}),(0,h.jsx)(i.A,{md:4,children:(0,h.jsxs)(l.A.Group,{controlId:"endDate",children:[(0,h.jsx)(l.A.Label,{style:{color:"var(--bs-primary2)"},children:"End Date"}),(0,h.jsx)(l.A.Control,{type:"date",name:"end_date",value:P.end_date,onChange:D,max:E(),style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)"}})]})}),(0,h.jsx)(i.A,{md:4,children:(0,h.jsxs)(l.A.Group,{controlId:"type",children:[(0,h.jsx)(l.A.Label,{style:{color:"var(--bs-primary2)"},children:"Type"}),(0,h.jsxs)(l.A.Control,{as:"select",name:"type",value:P.type,onChange:D,style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",borderRadius:"10px",fontWeight:600,height:"38px",cursor:"pointer"},children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"Select Type"}),(0,h.jsx)("option",{value:"all",children:"All"}),(0,h.jsx)("option",{value:"credit",children:"Credit"}),(0,h.jsx)("option",{value:"debit",children:"Debit"})]})]})})]}),(0,h.jsx)(c.A,{className:"mb-3",children:(0,h.jsx)(i.A,{md:4,children:(0,h.jsxs)(l.A.Group,{controlId:"txn_id",children:[(0,h.jsx)(l.A.Label,{style:{color:"var(--bs-primary2)"},children:"Txn Id"}),(0,h.jsx)(l.A.Control,{type:"text",name:"txn_id",value:P.txn_id,onChange:D,style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)"}})]})})}),(0,h.jsx)(c.A,{className:"mb-3",children:(0,h.jsxs)("div",{className:"form-group col-md-6 col-lg-4 d-flex gap-2",children:[(0,h.jsx)("button",{type:"button",className:"btn",onClick:()=>{w(null),U(P),T(1)},style:{backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",padding:"6px 14px",borderRadius:"10px",fontWeight:600},children:"Search"}),(0,h.jsx)("button",{type:"button",className:"btn",onClick:()=>{const e={...S,start_date:"",end_date:""};w(null),I(e),U(e),T(1),R(10)},style:{backgroundColor:"transparent",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",padding:"6px 14px",borderRadius:"10px",fontWeight:600},children:"Reset"})]})})]})})]}),(0,h.jsxs)(n.A,{className:"mb-4 ur-card",style:{backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,h.jsx)(n.A.Header,{className:"ur-card-header",style:{backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",borderBottom:"1px solid var(--bs-primary2)"},children:(0,h.jsx)(c.A,{className:"align-items-center"})}),(0,h.jsxs)(n.A.Body,{className:"ur-card-body",children:[(0,h.jsxs)(d.A,{responsive:!0,striped:!0,bordered:!0,hover:!0,id:"table-to-xls",className:"ur-table",style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)"},children:[(0,h.jsx)("thead",{style:{backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",textAlign:"center",fontWeight:600},children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{onClick:()=>M("_id"),className:"ur-th",style:{minWidth:"100px"},children:["S.No ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("createdAt"),className:"ur-th",style:{minWidth:"180px"},children:["Date ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("order_id"),className:"ur-th",children:["Order ID ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("txn_id"),className:"ur-th",children:["Transaction Id ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("o_bal"),className:"ur-th",style:{minWidth:"180px"},children:["Opening Balance ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("amount"),className:"ur-th",style:{minWidth:"180px"},children:["Amount ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("c_bal"),className:"ur-th",style:{minWidth:"180px"},children:["Closing Balance ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("trans_type"),className:"ur-th",children:["Transaction Type ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("type"),className:"ur-th",children:["Type ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{onClick:()=>M("message"),className:"ur-th",children:["Message ",(0,h.jsx)(u.MjW,{})]})]})}),(0,h.jsx)("tbody",{children:L.length>0?L.map(((e,r)=>{var t,a,s;return(0,h.jsxs)("tr",{className:"ur-tr",style:{textAlign:"center"},children:[(0,h.jsx)("td",{children:(W-1)*O+r+1}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.createdAt)||""}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.order_id)||""}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.txn_id)||""}),(0,h.jsx)("td",{children:null!==(t=null===e||void 0===e?void 0:e.o_bal)&&void 0!==t?t:0}),(0,h.jsx)("td",{children:null!==(a=null===e||void 0===e?void 0:e.amount)&&void 0!==a?a:""}),(0,h.jsx)("td",{children:null!==(s=null===e||void 0===e?void 0:e.c_bal)&&void 0!==s?s:0}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.trans_type)||""}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.type)||""}),(0,h.jsx)("td",{children:(null===e||void 0===e?void 0:e.message)||""})]},e._id||r)})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:"10",className:"text-center",children:C||"No Data Found"})})})]}),L.length>0&&(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",borderTop:"1px solid var(--bs-primary2)",padding:"10px"},children:[(0,h.jsxs)("p",{className:"ur-total-count mb-0",children:["Total Count: ",y]}),(0,h.jsxs)("p",{className:"ur-total-count mb-0",children:["Total Amount: ",j]}),(0,h.jsx)(m.A,{current:W,total:y,pageSize:O,showSizeChanger:!0,onChange:(e,r)=>{T(e),R(r)}})]})]})]})]})}},41497:(e,r,t)=>{"use strict";var a=t(13218);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,r,t,s,o,n){if(n!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:o,resetWarningCache:s};return t.PropTypes=t,t}},65173:(e,r,t)=>{e.exports=t(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},38628:(e,r,t)=>{"use strict";t.d(r,{A:()=>R});var a=t(98139),s=t.n(a),o=t(65043),n=t(67852),l=t(70579);const c=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o="div",...c}=e;return a=(0,n.oU)(a,"card-body"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));c.displayName="CardBody";const i=c,d=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o="div",...c}=e;return a=(0,n.oU)(a,"card-footer"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));d.displayName="CardFooter";const u=d;var m=t(11778);const p=o.forwardRef(((e,r)=>{let{bsPrefix:t,className:a,as:c="div",...i}=e;const d=(0,n.oU)(t,"card-header"),u=(0,o.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,l.jsx)(m.A.Provider,{value:u,children:(0,l.jsx)(c,{ref:r,...i,className:s()(a,d)})})}));p.displayName="CardHeader";const x=p,h=o.forwardRef(((e,r)=>{let{bsPrefix:t,className:a,variant:o,as:c="img",...i}=e;const d=(0,n.oU)(t,"card-img");return(0,l.jsx)(c,{ref:r,className:s()(o?"".concat(d,"-").concat(o):d,a),...i})}));h.displayName="CardImg";const b=h,f=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o="div",...c}=e;return a=(0,n.oU)(a,"card-img-overlay"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));f.displayName="CardImgOverlay";const y=f,v=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o="a",...c}=e;return a=(0,n.oU)(a,"card-link"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));v.displayName="CardLink";const j=v;var g=t(4488);const N=(0,g.A)("h6"),k=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o=N,...c}=e;return a=(0,n.oU)(a,"card-subtitle"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));k.displayName="CardSubtitle";const C=k,w=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o="p",...c}=e;return a=(0,n.oU)(a,"card-text"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));w.displayName="CardText";const A=w,_=(0,g.A)("h5"),W=o.forwardRef(((e,r)=>{let{className:t,bsPrefix:a,as:o=_,...c}=e;return a=(0,n.oU)(a,"card-title"),(0,l.jsx)(o,{ref:r,className:s()(t,a),...c})}));W.displayName="CardTitle";const T=W,O=o.forwardRef(((e,r)=>{let{bsPrefix:t,className:a,bg:o,text:c,border:d,body:u=!1,children:m,as:p="div",...x}=e;const h=(0,n.oU)(t,"card");return(0,l.jsx)(p,{ref:r,...x,className:s()(a,h,o&&"bg-".concat(o),c&&"text-".concat(c),d&&"border-".concat(d)),children:u?(0,l.jsx)(i,{children:m}):m})}));O.displayName="Card";const R=Object.assign(O,{Img:b,Title:T,Subtitle:C,Body:i,Link:j,Text:A,Header:x,Footer:u,ImgOverlay:y})},11778:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});const a=t(65043).createContext(null);a.displayName="CardHeaderContext";const s=a},53519:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(98139),s=t.n(a),o=t(65043),n=t(67852),l=t(70579);const c=o.forwardRef(((e,r)=>{let{bsPrefix:t,fluid:a=!1,as:o="div",className:c,...i}=e;const d=(0,n.oU)(t,"container"),u="string"===typeof a?"-".concat(a):"-fluid";return(0,l.jsx)(o,{ref:r,...i,className:s()(c,a?"".concat(d).concat(u):d)})}));c.displayName="Container";const i=c},61072:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(98139),s=t.n(a),o=t(65043),n=t(67852),l=t(70579);const c=o.forwardRef(((e,r)=>{let{bsPrefix:t,className:a,as:o="div",...c}=e;const i=(0,n.oU)(t,"row"),d=(0,n.gy)(),u=(0,n.Jm)(),m="".concat(i,"-cols"),p=[];return d.forEach((e=>{const r=c[e];let t;delete c[e],null!=r&&"object"===typeof r?({cols:t}=r):t=r;const a=e!==u?"-".concat(e):"";null!=t&&p.push("".concat(m).concat(a,"-").concat(t))})),(0,l.jsx)(o,{ref:r,...c,className:s()(a,i,...p)})}));c.displayName="Row";const i=c},64196:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(98139),s=t.n(a),o=t(65043),n=t(67852),l=t(70579);const c=o.forwardRef(((e,r)=>{let{bsPrefix:t,className:a,striped:o,bordered:c,borderless:i,hover:d,size:u,variant:m,responsive:p,...x}=e;const h=(0,n.oU)(t,"table"),b=s()(a,h,m&&"".concat(h,"-").concat(m),u&&"".concat(h,"-").concat(u),o&&"".concat(h,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),c&&"".concat(h,"-bordered"),i&&"".concat(h,"-borderless"),d&&"".concat(h,"-hover")),f=(0,l.jsx)("table",{...x,className:b,ref:r});if(p){let e="".concat(h,"-responsive");return"string"===typeof p&&(e="".concat(e,"-").concat(p)),(0,l.jsx)("div",{className:e,children:f})}return f}))},67852:(e,r,t)=>{"use strict";t.d(r,{Jm:()=>u,Wz:()=>m,gy:()=>d,oU:()=>i});var a=t(65043);t(70579);const s=["xxl","xl","lg","md","sm","xs"],o="xs",n=a.createContext({prefixes:{},breakpoints:s,minBreakpoint:o}),{Consumer:l,Provider:c}=n;function i(e,r){const{prefixes:t}=(0,a.useContext)(n);return e||t[r]||r}function d(){const{breakpoints:e}=(0,a.useContext)(n);return e}function u(){const{minBreakpoint:e}=(0,a.useContext)(n);return e}function m(){const{dir:e}=(0,a.useContext)(n);return"rtl"===e}},4488:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(65043),s=t(98139),o=t.n(s),n=t(70579);const l=e=>a.forwardRef(((r,t)=>(0,n.jsx)("div",{...r,ref:t,className:o()(r.className,e)})))},95702:(e,r,t)=>{"use strict";var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),s=t(65043),o=l(s),n=l(t(65173));function l(e){return e&&e.__esModule?e:{default:e}}var c={table:n.default.string.isRequired,filename:n.default.string.isRequired,sheet:n.default.string.isRequired,id:n.default.string,className:n.default.string,buttonText:n.default.string},i=function(e){function r(e){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.handleDownload=t.handleDownload.bind(t),t}return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),a(r,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,t=String(this.props.sheet),a=String(this.props.filename)+".xls",s={worksheet:t||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var o=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(o,a)})),!0}var n=window.document.createElement("a");return n.href="data:application/vnd.ms-excel;base64,"+r.base64(r.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',s)),n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),!0}},{key:"render",value:function(){return o.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,r){return e.replace(/{(\w+)}/g,(function(e,t){return r[t]}))}}]),r}(s.Component);i.propTypes=c,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},r.A=i},76323:()=>{},98587:(e,r,t)=>{"use strict";function a(e,r){if(null==e)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.includes(a))continue;t[a]=e[a]}return t}t.d(r,{A:()=>a})},63662:(e,r,t)=>{"use strict";function a(e,r){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},a(e,r)}t.d(r,{A:()=>a})}}]);
//# sourceMappingURL=3103.a70b630c.chunk.js.map