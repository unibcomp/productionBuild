{"version":3,"file":"static/js/5467.947473c5.chunk.js","mappings":"8SAqiBA,QAphBA,WACE,MAAMA,EAAiBA,KACP,IAAIC,MACLC,cAAcC,OAAO,EAAG,KAGhCC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,KAC1CC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,IACtCG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,CAC3CK,IAAK,KACLC,UAAW,eAENC,EAAaC,IAAkBR,EAAAA,EAAAA,UAAS,IACxCS,EAASC,IAAcV,EAAAA,EAAAA,WAAS,GAEjCW,EAAqB,CACzBC,QAASC,OAAOC,aAAaC,QAAQ,aACrCC,MAAO,GACPC,KAAM,EACNC,QAAS,EACTC,QAAS,EACTC,SAAU,GACVC,WAAY,GACZC,KAAM,GACNC,WAAY,GACZC,SAAU,GACVC,OAAQ,GACRC,SAAU,GACVC,QAAS,KAGJC,EAAcC,IAAmB7B,EAAAA,EAAAA,UAASW,IAC1CmB,EAAgBC,IAAqB/B,EAAAA,EAAAA,UAASW,IAErDqB,EAAAA,EAAAA,YAAU,KACRC,GAAmB,GAClB,CAACH,EAAgBvB,IAEpB,MAAM0B,EAAoBC,UACxB,IACExB,GAAW,GACX,MAAMyB,QAAiBC,EAAAA,EAAAA,KAAe,IACjCN,EACHb,KAAMV,EAAc,IAGlB8B,MAAMC,QAAQH,EAASI,KAAKA,KAAKC,SACnCzC,EAAgBoC,EAASI,KAAKA,KAAKC,QACnCtC,EAAciC,EAASI,KAAKA,KAAKE,SAEjCC,QAAQC,MAAM,4BAA6BR,EAASI,MACpDxC,EAAgB,IAChBG,EAAc,GAElB,CAAE,MAAOyC,GACPD,QAAQC,MAAM,gCAAiCA,GAC/C5C,EAAgB,IAChBG,EAAc,EAChB,CAAC,QACCQ,GAAW,EACb,GAGIkC,EAAsBC,IAC1B,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAMG,OAE9BnB,GAAiBoB,GAEF,eAATH,EACK,IACFG,EACH5B,WAAY0B,EAEZ3B,SAAU6B,EAAK7B,UAAY6B,EAAK7B,SAAW2B,EAAQ,GAAKE,EAAK7B,UAKpD,aAAT0B,EAEEG,EAAK5B,YAAc0B,GAASA,EAAQE,EAAK5B,YAC3C6B,EAAAA,GAAQP,MAAM,8CACPM,GAGF,IACFA,EACH7B,SAAU2B,GAIP,IACFE,EACH,CAACH,GAAOC,IAEV,EA4BEI,EAAc9C,IAClB,IAAIC,EAAY,YACZH,EAAWE,MAAQA,GAAgC,cAAzBF,EAAWG,YACvCA,EAAY,cAEdF,EAAc,CAAEC,MAAKC,cACrByB,GAAmBkB,IAAI,IAClBA,EACHvB,SAAwB,cAAdpB,EAA4B,GAAK,EAC3CqB,QAAStB,KACR,EAGC+C,EAAoBnC,IACxBT,EAAeS,EAAK,EAGhBoC,GAAaC,EAAAA,EAAAA,UAAQ,KACzB,IAAIC,EAAgB,IAAIzD,GAUxB,OATIK,EAAWE,KACbkD,EAAcC,MAAK,CAACC,EAAGC,IACjBD,EAAEtD,EAAWE,KAAOqD,EAAEvD,EAAWE,KACH,cAAzBF,EAAWG,WAA6B,EAAI,EACjDmD,EAAEtD,EAAWE,KAAOqD,EAAEvD,EAAWE,KACH,cAAzBF,EAAWG,UAA4B,GAAK,EAC9C,IAGJiD,CAAa,GACnB,CAACzD,EAAcK,IAEZwD,EAAaC,KAAKC,KAAK5D,EAAa6B,EAAed,OACzD,IAAI8C,EAAYF,KAAKG,IAAI,EAAGxD,EAAc,GACtCyD,EAAUJ,KAAKK,IAAIN,EAAYpD,EAAc,GAEjD,MAYM2D,GAXA3D,GAAe,EACjByD,EAAUJ,KAAKK,IAAI,EAAGN,GACbpD,GAAeoD,EAAa,IACrCG,EAAYF,KAAKG,IAAI,EAAGJ,EAAa,IAEhCtB,MAAM8B,KACX,CAAEC,OAAQJ,EAAUF,EAAY,IAChC,CAACO,EAAGC,IAAMR,EAAYQ,KA4B1B,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGhE,IAAWiE,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KAEnBJ,EAAAA,EAAAA,MAACK,EAAAA,EAAS,CACRC,OAAK,EACLC,UAAU,mBACVC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,sBACPR,SAAA,EAEFC,EAAAA,EAAAA,KAAA,MAAII,UAAU,YAAYC,MAAO,CAAEG,WAAY,KAAMT,SAAC,qBAItDF,EAAAA,EAAAA,MAACY,EAAAA,EAAI,CACHL,UAAU,eACVC,MAAO,CACLC,gBAAiB,qBACjBI,OAAQ,+BACRC,aAAc,QACdZ,SAAA,EAEFC,EAAAA,EAAAA,KAACS,EAAAA,EAAKG,OAAM,CACVR,UAAU,iBACVC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPC,WAAY,IACZG,aAAc,gBACdE,aAAc,gCACdd,SACH,YAIDC,EAAAA,EAAAA,KAACS,EAAAA,EAAKK,KAAI,CAACV,UAAU,eAAcL,UACjCF,EAAAA,EAAAA,MAACkB,EAAAA,EAAI,CAAAhB,SAAA,EACHF,EAAAA,EAAAA,MAACmB,EAAAA,EAAG,CAACZ,UAAU,OAAML,SAAA,EACnBC,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACC,GAAI,EAAEnB,UACTF,EAAAA,EAAAA,MAACkB,EAAAA,EAAKI,MAAK,CAACC,UAAU,YAAWrB,SAAA,EAC/BC,EAAAA,EAAAA,KAACe,EAAAA,EAAKM,MAAK,CAAChB,MAAO,CAAEE,MAAO,sBAAuBR,SAAC,gBAGpDC,EAAAA,EAAAA,KAACe,EAAAA,EAAKO,QAAO,CACX1E,KAAK,OACLwB,KAAK,aACLgC,UAAU,iBACVf,IAAKrE,IACLqD,MAAOnB,EAAaP,WACpB4E,SAAUrD,EACVmC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPG,OAAQ,wCAMhBV,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACC,GAAI,EAAEnB,UACTF,EAAAA,EAAAA,MAACkB,EAAAA,EAAKI,MAAK,CAACC,UAAU,UAASrB,SAAA,EAC7BC,EAAAA,EAAAA,KAACe,EAAAA,EAAKM,MAAK,CAAChB,MAAO,CAAEE,MAAO,sBAAuBR,SAAC,cAGpDC,EAAAA,EAAAA,KAACe,EAAAA,EAAKO,QAAO,CACX1E,KAAK,OACLwB,KAAK,WACLgC,UAAU,iBACVb,IAAKrC,EAAaP,YAAc,GAChC0C,IAAKrE,IACLqD,MAAOnB,EAAaR,SACpB6E,SAAUrD,EACVmC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPG,OAAQ,wCAMhBV,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACC,GAAI,EAAEnB,UACTF,EAAAA,EAAAA,MAACkB,EAAAA,EAAKI,MAAK,CAACC,UAAU,WAAUrB,SAAA,EAC9BC,EAAAA,EAAAA,KAACe,EAAAA,EAAKM,MAAK,CAAChB,MAAO,CAAEE,MAAO,sBAAuBR,SAAC,cAGpDC,EAAAA,EAAAA,KAACe,EAAAA,EAAKO,QAAO,CACX1E,KAAK,OACLwB,KAAK,WACLgC,UAAU,kBACV/B,MAAOnB,EAAaJ,SACpByE,SAAUrD,EACVmC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPG,OAAQ,2CAOlBb,EAAAA,EAAAA,MAACmB,EAAAA,EAAG,CAACZ,UAAU,OAAML,SAAA,EACnBC,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACC,GAAI,EAAEnB,UACTF,EAAAA,EAAAA,MAACkB,EAAAA,EAAKI,MAAK,CAACC,UAAU,SAAQrB,SAAA,EAC5BC,EAAAA,EAAAA,KAACe,EAAAA,EAAKM,MAAK,CAAChB,MAAO,CAAEE,MAAO,sBAAuBR,SAAC,YAGpDC,EAAAA,EAAAA,KAACe,EAAAA,EAAKO,QAAO,CACX1E,KAAK,OACLwB,KAAK,SACLgC,UAAU,kBACV/B,MAAOnB,EAAaH,OACpBwE,SAAUrD,EACVmC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPG,OAAQ,wCAMhBV,EAAAA,EAAAA,KAACgB,EAAAA,EAAG,CAACZ,UAAU,OAAML,UACnBF,EAAAA,EAAAA,MAACoB,EAAAA,EAAG,CAACO,GAAI,GAAIpB,UAAU,+BAA8BL,SAAA,EACnDC,EAAAA,EAAAA,KAAA,UACEpD,KAAK,SACLwD,UAAU,MACVC,MAAO,CACLC,gBAAiB,UACjBC,MAAO,OAEPI,aAAc,OACdH,WAAY,IACZiB,QAAS,YAEXC,QA1OCC,KAEhBzE,EAAaP,aAAeO,EAAaR,WACxCQ,EAAaP,YAAcO,EAAaR,SAE1CkF,MAAM,+CAIRvE,EAAkBH,GAClBpB,EAAe,GAAE,EAgOuBiE,SACvB,YAIDC,EAAAA,EAAAA,KAAA,UACEpD,KAAK,SACLwD,UAAU,MACVC,MAAO,CACLC,gBAAiB,UACjBC,MAAO,qBAEPI,aAAc,OACdH,WAAY,IACZiB,QAAS,YAEXC,QA7OAG,KAClB,MAAMC,EAAc,IACf7F,EACHU,WAAY,GACZD,SAAU,IAGZS,EAAgB2E,GAChBzE,EAAkByE,GAClBhG,EAAe,EAAE,EAoOsBiE,SACtB,2BAUbF,EAAAA,EAAAA,MAACY,EAAAA,EAAI,CACHL,UAAU,eACVC,MAAO,CACLC,gBAAiB,qBACjBI,OAAQ,+BACRC,aAAc,QACdZ,SAAA,EAEFC,EAAAA,EAAAA,KAACS,EAAAA,EAAKG,OAAM,CACVR,UAAU,iBACVC,MAAO,CACLC,gBAAiB,OACjBC,MAAO,qBACPC,WAAY,IACZK,aAAc,gCACdd,UAEFC,EAAAA,EAAAA,KAACgB,EAAAA,EAAG,CAACZ,UAAU,+CAA8CL,UAC3DC,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACc,GAAI,GAAI3B,UAAU,WAAUL,UAC/BC,EAAAA,EAAAA,KAACgC,EAAAA,EAAqB,CACpBC,GAAG,sBACH7B,UAAU,sBACV8B,MAAM,eACNC,SAAS,kBACTC,MAAM,kBACNC,WAAW,0BAMnBxC,EAAAA,EAAAA,MAACY,EAAAA,EAAKK,KAAI,CAACV,UAAU,eAAcL,SAAA,EACjCF,EAAAA,EAAAA,MAACyC,EAAAA,EAAK,CACJC,YAAU,EACVC,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLT,GAAG,eACH7B,UAAU,WACVC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPG,OAAQ,+BACRiC,WAAY,UACZ5C,SAAA,EAEFC,EAAAA,EAAAA,KAAA,SACEK,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPC,WAAY,IACZoC,UAAW,UACX7C,UAEFF,EAAAA,EAAAA,MAAA,MAAIQ,MAAO,CAAEC,gBAAiB,sBAAuBP,SAAA,EACnDF,EAAAA,EAAAA,MAAA,MACEO,UAAU,oBACVC,MAAO,CAAEsC,WAAY,UACrBjB,QAASA,IAAMjD,EAAW,OAAOsB,SAAA,CAClC,SACMC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QAEdhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,aAAasB,SAAA,CAAC,SAAKC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACtFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,YAAYsB,SAAA,CAAC,aAASC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACzFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,UAAUsB,SAAA,CAAC,mBAAeC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QAC7FhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,UAAUsB,SAAA,CAAC,WAAOC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACrFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,cAAcsB,SAAA,CAAC,qBAAiBC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QAEnGhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,UAAUsB,SAAA,CAAC,WAAOC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACrFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,QAAQsB,SAAA,CAAC,SAAKC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACjFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,WAAWsB,SAAA,CAAC,YAAQC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QACvFhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,SAASsB,SAAA,CAAC,oBAAgBC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,QAC7FhD,EAAAA,EAAAA,MAAA,MAAIO,UAAU,oBAAoBsB,QAASA,IAAMjD,EAAW,SAASsB,SAAA,CAAC,oBAAgBC,EAAAA,EAAAA,KAAC6C,EAAAA,IAAM,aAIjG7C,EAAAA,EAAAA,KAAA,SAAAD,SACGpB,EAAWe,OAAS,EACnBf,EAAWmE,KAAI,CAACC,EAAMC,KACpBnD,EAAAA,EAAAA,MAAA,MAEEO,UAAU,QACVC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,sBACPR,SAAA,EAEFC,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEiD,EAAQ,KACrChD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKE,aAClCjD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKjG,YAClCkD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKhG,UAClCiD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKG,OAAOC,QAAQ,MACjDnD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKlG,cAElCmD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SACxB,MACC,MAAMqD,EA3RRA,KACpB,OAAQA,GACN,IAAK,UACH,MAAO,CAAEC,KAAM,aAAc9C,MAAO,WAEtC,IAAK,UACL,IAAK,aACH,MAAO,CAAE8C,KAAM,UAAW9C,MAAO,WAEnC,IAAK,SACL,IAAK,WACH,MAAO,CAAE8C,KAAM,SAAU9C,MAAO,WAElC,IAAK,WACH,MAAO,CAAE8C,KAAM,WAAY9C,MAAO,WAEpC,QACE,MAAO,CAAE8C,KAAM,IAAK9C,MAAO,WAC/B,EAyQqC+C,CAAiB,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAMK,QAClC,OACEpD,EAAAA,EAAAA,KAAA,QAAMK,MAAO,CAAEE,MAAO6C,EAAO7C,MAAOC,WAAY,KAAMT,SACnDqD,EAAOC,MAGb,EAPA,MAUHrD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKnG,QAClCoD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKvE,WAClCwB,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKQ,MAAMJ,QAAQ,MAChDnD,EAAAA,EAAAA,KAAA,MAAII,UAAU,cAAaL,SAAEgD,EAAKS,MAAML,QAAQ,OA5B3CH,MAgCThD,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAIyD,QAAQ,KAAKrD,UAAU,cAAaL,SAAC,0BAQjDF,EAAAA,EAAAA,MAAA,OACEO,UAAU,yDACVC,MAAO,CACLC,gBAAiB,qBACjBC,MAAO,qBACPmD,UAAW,+BACXjC,QAAS,QACT1B,SAAA,EAEFF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,CAAK,SAAOxE,EAAW,eAEvBsE,EAAAA,EAAAA,MAAC8D,EAAAA,EAAU,CAACvD,UAAU,qBAAoBL,SAAA,EACxCC,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWC,MAAK,CACflC,QAASA,IAAMhD,EAAiB,GAChCmF,SAA0B,IAAhBhI,KAEZmE,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWG,KAAI,CACdpC,QAASA,IAAMhD,EAAiB7C,EAAc,GAC9CgI,SAA0B,IAAhBhI,IAGXuD,EAAY,IAAKY,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWI,SAAQ,IAErCvE,EAAgBsD,KAAKvG,IACpByD,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWK,KAAI,CAEdC,OAAQ1H,IAASV,EACjB6F,QAASA,IAAMhD,EAAiBnC,GAAMwD,SAErCxD,GAJIA,KAQR+C,EAAUL,IAAce,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWI,SAAQ,KAE7C/D,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWO,KAAI,CACdxC,QAASA,IAAMhD,EAAiB7C,EAAc,GAC9CgI,SAAUhI,IAAgBoD,KAE5Be,EAAAA,EAAAA,KAAC2D,EAAAA,EAAWQ,KAAI,CACdzC,QAASA,IAAMhD,EAAiBO,GAChC4E,SAAUhI,IAAgBoD,qBAS5C,C","sources":["pages/admin/userlist/Earningreport.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\r\nimport {\r\n  Table,\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Pagination,\r\n} from \"react-bootstrap\";\r\nimport { FaDownload, FaSort } from \"react-icons/fa\";\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport { walletsREports } from \"../../../api/login/Login\";\r\nimport \"./Userlist.css\";\r\nimport Loader from \"../../../common/loader/Loader\";\r\nimport { message } from \"antd\";\r\n\r\nfunction Earningreport() {\r\n  const getCurrentDate = () => {\r\n    const today = new Date();\r\n    return today.toISOString().substr(0, 10);\r\n  };\r\n\r\n  const [earningsData, setEarningsData] = useState([]);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [sortConfig, setSortConfig] = useState({\r\n    key: null,\r\n    direction: \"ascending\",\r\n  });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const initialFilterState = {\r\n    user_id: window.localStorage.getItem(\"userToken\"),\r\n    count: 10,\r\n    page: 0,\r\n    min_amt: 0,\r\n    max_amt: 0,\r\n    end_date: \"\",\r\n    start_date: \"\",\r\n    type: \"\",\r\n    trans_type: \"\",\r\n    order_id: \"\",\r\n    txn_id: \"\",\r\n    sortType: \"\",\r\n    sortKey: \"\",\r\n  };\r\n\r\n  const [filterValues, setFilterValues] = useState(initialFilterState);\r\n  const [appliedFilters, setAppliedFilters] = useState(initialFilterState);\r\n\r\n  useEffect(() => {\r\n    fetchEarningsData();\r\n  }, [appliedFilters, currentPage]);\r\n\r\n  const fetchEarningsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await walletsREports({\r\n        ...appliedFilters,\r\n        page: currentPage - 1,\r\n      });\r\n\r\n      if (Array.isArray(response.data.data.wallet)) {\r\n        setEarningsData(response.data.data.wallet);\r\n        setTotalCount(response.data.data.total);\r\n      } else {\r\n        console.error(\"API did not return array:\", response.data);\r\n        setEarningsData([]);\r\n        setTotalCount(0);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching earnings data:\", error);\r\n      setEarningsData([]);\r\n      setTotalCount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setFilterValues((prev) => {\r\n      // ✅ When Start Date Changes\r\n      if (name === \"start_date\") {\r\n        return {\r\n          ...prev,\r\n          start_date: value,\r\n          // clear end date if it becomes invalid\r\n          end_date: prev.end_date && prev.end_date < value ? \"\" : prev.end_date,\r\n        };\r\n      }\r\n\r\n      // ✅ When End Date Changes\r\n      if (name === \"end_date\") {\r\n        // Only validate when user has selected full valid date\r\n        if (prev.start_date && value && value < prev.start_date) {\r\n          message.error(\"End date cannot be earlier than Start date\");\r\n          return prev;\r\n        }\r\n\r\n        return {\r\n          ...prev,\r\n          end_date: value,\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (\r\n      (filterValues.start_date && !filterValues.end_date) ||\r\n      (!filterValues.start_date && filterValues.end_date)\r\n    ) {\r\n      alert(\"Please select both Start Date and End Date\");\r\n      return;\r\n    }\r\n\r\n    setAppliedFilters(filterValues);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    const resetFilter = {\r\n      ...initialFilterState,\r\n      start_date: \"\",\r\n      end_date: \"\",\r\n    };\r\n\r\n    setFilterValues(resetFilter);\r\n    setAppliedFilters(resetFilter);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleSort = (key) => {\r\n    let direction = \"ascending\";\r\n    if (sortConfig.key === key && sortConfig.direction === \"ascending\") {\r\n      direction = \"descending\";\r\n    }\r\n    setSortConfig({ key, direction });\r\n    setAppliedFilters((prev) => ({\r\n      ...prev,\r\n      sortType: direction === \"ascending\" ? 1 : -1,\r\n      sortKey: key,\r\n    }));\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const sortedData = useMemo(() => {\r\n    let sortableItems = [...earningsData];\r\n    if (sortConfig.key) {\r\n      sortableItems.sort((a, b) => {\r\n        if (a[sortConfig.key] < b[sortConfig.key])\r\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\r\n        if (a[sortConfig.key] > b[sortConfig.key])\r\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\r\n        return 0;\r\n      });\r\n    }\r\n    return sortableItems;\r\n  }, [earningsData, sortConfig]);\r\n\r\n  const totalPages = Math.ceil(totalCount / appliedFilters.count);\r\n  let startPage = Math.max(1, currentPage - 2);\r\n  let endPage = Math.min(totalPages, currentPage + 2);\r\n\r\n  const getPaginationRange = () => {\r\n    if (currentPage <= 3) {\r\n      endPage = Math.min(5, totalPages);\r\n    } else if (currentPage >= totalPages - 2) {\r\n      startPage = Math.max(1, totalPages - 4);\r\n    }\r\n    return Array.from(\r\n      { length: endPage - startPage + 1 },\r\n      (_, i) => startPage + i,\r\n    );\r\n  };\r\n\r\n  const paginationRange = getPaginationRange();\r\n\r\n  const getTxnStatus = (status) => {\r\n    switch (status) {\r\n      case \"SUCCESS\":\r\n        return { text: \"Successful\", color: \"#16a34a\" };\r\n\r\n      case \"PENDING\":\r\n      case \"PROCESSING\":\r\n        return { text: \"Pending\", color: \"#f59e0b\" };\r\n\r\n      case \"FAILED\":\r\n      case \"REJECTED\":\r\n        return { text: \"Failed\", color: \"#dc2626\" };\r\n\r\n      case \"REVERSED\":\r\n        return { text: \"Reversed\", color: \"#2563eb\" };\r\n\r\n      default:\r\n        return { text: \"-\", color: \"#6b7280\" };\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader />}\r\n\r\n      <Container\r\n        fluid\r\n        className=\"px-4 PageHeading\"\r\n        style={{\r\n          backgroundColor: \"var(--bs-primary1)\",\r\n          color: \"var(--bs-primary2)\",\r\n        }}\r\n      >\r\n        <h1 className=\"mt-2 mb-4\" style={{ fontWeight: 700 }}>\r\n          Earnings Report\r\n        </h1>\r\n\r\n        <Card\r\n          className=\"mb-4 er-card\"\r\n          style={{\r\n            backgroundColor: \"var(--bs-primary1)\",\r\n            border: \"1px solid var(--bs-primary2)\",\r\n            borderRadius: \"12px\",\r\n          }}\r\n        >\r\n          <Card.Header\r\n            className=\"er-card-header\"\r\n            style={{\r\n              backgroundColor: \"var(--bs-primary3)\",\r\n              color: \"var(--bs-primary2)\",\r\n              fontWeight: 600,\r\n              borderRadius: \"12px 12px 0 0\",\r\n              borderBottom: \"1px solid var(--bs-primary2)\",\r\n            }}\r\n          >\r\n            Filter\r\n          </Card.Header>\r\n\r\n          <Card.Body className=\"er-card-body\">\r\n            <Form>\r\n              <Row className=\"mb-3\">\r\n                <Col md={4}>\r\n                  <Form.Group controlId=\"startDate\">\r\n                    <Form.Label style={{ color: \"var(--bs-primary2)\" }}>\r\n                      Start Date\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      name=\"start_date\"\r\n                      className=\"input-white-bg\"\r\n                      max={getCurrentDate()}\r\n                      value={filterValues.start_date}\r\n                      onChange={handleFilterChange}\r\n                      style={{\r\n                        backgroundColor: \"var(--bs-primary1)\",\r\n                        color: \"var(--bs-primary2)\",\r\n                        border: \"1px solid var(--bs-primary2)\",\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={4}>\r\n                  <Form.Group controlId=\"endDate\">\r\n                    <Form.Label style={{ color: \"var(--bs-primary2)\" }}>\r\n                      End Date\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"date\"\r\n                      name=\"end_date\"\r\n                      className=\"input-white-bg\"\r\n                      min={filterValues.start_date || \"\"}\r\n                      max={getCurrentDate()}\r\n                      value={filterValues.end_date}\r\n                      onChange={handleFilterChange}\r\n                      style={{\r\n                        backgroundColor: \"var(--bs-primary1)\",\r\n                        color: \"var(--bs-primary2)\",\r\n                        border: \"1px solid var(--bs-primary2)\",\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={4}>\r\n                  <Form.Group controlId=\"order_id\">\r\n                    <Form.Label style={{ color: \"var(--bs-primary2)\" }}>\r\n                      Order ID\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"order_id\"\r\n                      className=\"bs-autofill-fix\"\r\n                      value={filterValues.order_id}\r\n                      onChange={handleFilterChange}\r\n                      style={{\r\n                        backgroundColor: \"var(--bs-primary1)\",\r\n                        color: \"var(--bs-primary2)\",\r\n                        border: \"1px solid var(--bs-primary2)\",\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row className=\"mb-3\">\r\n                <Col md={4}>\r\n                  <Form.Group controlId=\"txn_id\">\r\n                    <Form.Label style={{ color: \"var(--bs-primary2)\" }}>\r\n                      Txn ID\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"txn_id\"\r\n                      className=\"bs-autofill-fix\"\r\n                      value={filterValues.txn_id}\r\n                      onChange={handleFilterChange}\r\n                      style={{\r\n                        backgroundColor: \"var(--bs-primary1)\",\r\n                        color: \"var(--bs-primary2)\",\r\n                        border: \"1px solid var(--bs-primary2)\",\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Row className=\"mt-3\">\r\n                  <Col sm={12} className=\"d-flex align-items-end gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn\"\r\n                      style={{\r\n                        backgroundColor: \"#6C757D\",\r\n                        color: \"#fff\",\r\n                        // border: \"1px solid var(--bs-primary2)\",\r\n                        borderRadius: \"10px\",\r\n                        fontWeight: 600,\r\n                        padding: \"6px 14px\",\r\n                      }}\r\n                      onClick={handleSearch}\r\n                    >\r\n                      Search\r\n                    </button>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn\"\r\n                      style={{\r\n                        backgroundColor: \"#F8F9FA\",\r\n                        color: \"var(--bs-primary2)\",\r\n                        // border: \"1px solid var(--bs-primary2)\",\r\n                        borderRadius: \"10px\",\r\n                        fontWeight: 600,\r\n                        padding: \"6px 14px\",\r\n                      }}\r\n                      onClick={handleReset}\r\n                    >\r\n                      Reset\r\n                    </button>\r\n                  </Col>\r\n                </Row>\r\n              </Row>\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n\r\n        <Card\r\n          className=\"mb-4 er-card\"\r\n          style={{\r\n            backgroundColor: \"var(--bs-primary1)\",\r\n            border: \"1px solid var(--bs-primary2)\",\r\n            borderRadius: \"12px\",\r\n          }}\r\n        >\r\n          <Card.Header\r\n            className=\"er-card-header\"\r\n            style={{\r\n              backgroundColor: \"#fff\",\r\n              color: \"var(--bs-primary2)\",\r\n              fontWeight: 600,\r\n              borderBottom: \"1px solid var(--bs-primary2)\",\r\n            }}\r\n          >\r\n            <Row className=\"align-items-center justify-content-end w-100\">\r\n              <Col lg={12} className=\"text-end\">\r\n                <ReactHTMLTableToExcel\r\n                  id=\"export-excel-button\"\r\n                  className=\"btn er-download-btn\"\r\n                  table=\"table-to-xls\"\r\n                  filename=\"earnings_report\"\r\n                  sheet=\"earnings_report\"\r\n                  buttonText=\"Download Excel\"\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card.Header>\r\n\r\n          <Card.Body className=\"er-card-body\">\r\n            <Table\r\n              responsive\r\n              striped\r\n              bordered\r\n              hover\r\n              id=\"table-to-xls\"\r\n              className=\"er-table\"\r\n              style={{\r\n                backgroundColor: \"var(--bs-primary1)\",\r\n                color: \"var(--bs-primary2)\",\r\n                border: \"1px solid var(--bs-primary2)\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              <thead\r\n                style={{\r\n                  backgroundColor: \"var(--bs-primary3)\",\r\n                  color: \"var(--bs-primary2)\",\r\n                  fontWeight: 600,\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                <tr style={{ backgroundColor: \"var(--bs-primary3)\" }}>\r\n                  <th\r\n                    className=\"text-center er-th\"\r\n                    style={{ whiteSpace: \"nowrap\" }}\r\n                    onClick={() => handleSort(\"_id\")}\r\n                  >\r\n                    S.No <FaSort />\r\n                  </th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"createdAt\")}>Date <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"order_id\")}>Order ID <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"txn_id\")}>Transaction ID <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"amount\")}>Amount <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"trans_type\")}>Transaction Type <FaSort /></th>\r\n                  {/* <th className=\"text-center er-th\" onClick={() => handleSort(\"approve\")}>Approved <FaSort /></th> */}\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"status\")}>Status <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"type\")}>Type <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"message\")}>Message <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"o_bal\")}>Opening Balance <FaSort /></th>\r\n                  <th className=\"text-center er-th\" onClick={() => handleSort(\"c_bal\")}>Closing Balance <FaSort /></th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                {sortedData.length > 0 ? (\r\n                  sortedData.map((item, index) => (\r\n                    <tr\r\n                      key={index}\r\n                      className=\"er-tr\"\r\n                      style={{\r\n                        backgroundColor: \"var(--bs-primary1)\",\r\n                        color: \"var(--bs-primary2)\",\r\n                      }}\r\n                    >\r\n                      <td className=\"text-center\">{index + 1}</td>\r\n                      <td className=\"text-center\">{item.createdAt}</td>\r\n                      <td className=\"text-center\">{item.order_id}</td>\r\n                      <td className=\"text-center\">{item.txn_id}</td>\r\n                      <td className=\"text-center\">{item.amount.toFixed(2)}</td>\r\n                      <td className=\"text-center\">{item.trans_type}</td>\r\n                      {/* <td className=\"text-center\">{item.approve ? \"Yes\" : \"No\"}</td> */}\r\n                      <td className=\"text-center\">\r\n                        {(() => {\r\n                          const status = getTxnStatus(item?.status);\r\n                          return (\r\n                            <span style={{ color: status.color, fontWeight: 600 }}>\r\n                              {status.text}\r\n                            </span>\r\n                          );\r\n                        })()}\r\n                      </td>\r\n\r\n                      <td className=\"text-center\">{item.type}</td>\r\n                      <td className=\"text-center\">{item.message}</td>\r\n                      <td className=\"text-center\">{item.o_bal.toFixed(2)}</td>\r\n                      <td className=\"text-center\">{item.c_bal.toFixed(2)}</td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan=\"12\" className=\"text-center\">\r\n                      No data found\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </Table>\r\n\r\n            <div\r\n              className=\"d-flex justify-content-between align-items-center mt-3\"\r\n              style={{\r\n                backgroundColor: \"var(--bs-primary1)\",\r\n                color: \"var(--bs-primary2)\",\r\n                borderTop: \"1px solid var(--bs-primary2)\",\r\n                padding: \"10px\",\r\n              }}\r\n            >\r\n              <div>Total {totalCount} entries</div>\r\n\r\n              <Pagination className=\"earning-pagination\">\r\n                <Pagination.First\r\n                  onClick={() => handlePageChange(1)}\r\n                  disabled={currentPage === 1}\r\n                />\r\n                <Pagination.Prev\r\n                  onClick={() => handlePageChange(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                />\r\n\r\n                {startPage > 1 && <Pagination.Ellipsis />}\r\n\r\n                {paginationRange.map((page) => (\r\n                  <Pagination.Item\r\n                    key={page}\r\n                    active={page === currentPage}\r\n                    onClick={() => handlePageChange(page)}\r\n                  >\r\n                    {page}\r\n                  </Pagination.Item>\r\n                ))}\r\n\r\n                {endPage < totalPages && <Pagination.Ellipsis />}\r\n\r\n                <Pagination.Next\r\n                  onClick={() => handlePageChange(currentPage + 1)}\r\n                  disabled={currentPage === totalPages}\r\n                />\r\n                <Pagination.Last\r\n                  onClick={() => handlePageChange(totalPages)}\r\n                  disabled={currentPage === totalPages}\r\n                />\r\n              </Pagination>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Earningreport;\r\n"],"names":["getCurrentDate","Date","toISOString","substr","earningsData","setEarningsData","useState","totalCount","setTotalCount","sortConfig","setSortConfig","key","direction","currentPage","setCurrentPage","loading","setLoading","initialFilterState","user_id","window","localStorage","getItem","count","page","min_amt","max_amt","end_date","start_date","type","trans_type","order_id","txn_id","sortType","sortKey","filterValues","setFilterValues","appliedFilters","setAppliedFilters","useEffect","fetchEarningsData","async","response","walletsREports","Array","isArray","data","wallet","total","console","error","handleFilterChange","event","name","value","target","prev","message","handleSort","handlePageChange","sortedData","useMemo","sortableItems","sort","a","b","totalPages","Math","ceil","startPage","max","endPage","min","paginationRange","from","length","_","i","_jsxs","_Fragment","children","_jsx","Loader","Container","fluid","className","style","backgroundColor","color","fontWeight","Card","border","borderRadius","Header","borderBottom","Body","Form","Row","Col","md","Group","controlId","Label","Control","onChange","sm","padding","onClick","handleSearch","alert","handleReset","resetFilter","lg","ReactHTMLTableToExcel","id","table","filename","sheet","buttonText","Table","responsive","striped","bordered","hover","whiteSpace","textAlign","FaSort","map","item","index","createdAt","amount","toFixed","status","text","getTxnStatus","o_bal","c_bal","colSpan","borderTop","Pagination","First","disabled","Prev","Ellipsis","Item","active","Next","Last"],"sourceRoot":""}