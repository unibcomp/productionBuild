{"version":3,"file":"static/js/1763.28022d9e.chunk.js","mappings":"qLA+GA,QA3GA,WACE,MAAOA,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,IAE9BC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,CAC3CG,OAAQ,GACRC,IAAK,GACLC,KAAM,KA+CR,OAbAC,EAAAA,EAAAA,YAAU,KACRC,UAAUC,YAAYC,oBACnBC,IACCR,GAAeS,IAAI,IACdA,EACHP,IAAKM,EAAIE,OAAOC,SAChBR,KAAMK,EAAIE,OAAOE,aAChB,IAEL,IAAMC,EAAAA,GAAMC,QAAQ,uCACrB,GACA,KAGDC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,4BACJC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,UACnBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,KAAA,QAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAWG,MAAO,CAAEC,eAAgB,UAAWH,SAAA,EAE5DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,cACPC,EAAAA,EAAAA,KAAA,SACEF,UAAU,eACVK,KAAK,SACLC,KAAK,SACLC,MAAOxB,EAAWE,OAClBuB,SA5DIC,IACpBzB,EAAc,IAAKD,EAAY,CAAC0B,EAAEC,OAAOJ,MAAOG,EAAEC,OAAOH,OAAQ,EA4DjDJ,MAAO,CACLQ,gBAAiB,qBACjBC,MAAO,qBACPC,YAAa,4BAKnBX,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wCAAuCC,UACpDC,EAAAA,EAAAA,KAAA,UACEG,KAAK,SACLL,UAAU,MACVG,MAAO,CACLW,aAAc,OACdC,QAAS,YACTJ,gBAAiB5B,EAAWE,OAAS,qBAAuB,OAC5D2B,MAAO,qBACPC,YAAa,qBACbG,WAAY,OACZC,OAAQlC,EAAWE,OAAS,UAAY,eAE1CiC,UAAWnC,EAAWE,QAAUL,EAChCuC,QA/EUC,UAC1B,GAAKrC,EAAWE,OAAhB,CAKAJ,GAAU,GAEV,IAAK,IAADwC,EACF,MAAMC,QAAYC,EAAAA,EAAAA,KAAoBxC,GAChCyC,EAAY,OAAHF,QAAG,IAAHA,OAAG,EAAHA,EAAKG,KAEV,OAAND,QAAM,IAANA,GAAAA,EAAQE,SAAiB,OAANF,QAAM,IAANA,GAAY,QAANH,EAANG,EAAQC,YAAI,IAAAJ,GAAZA,EAAcM,KACnC9B,EAAAA,GAAM6B,QAAQ,kCACdE,YAAW,KACTC,OAAOC,KAAKN,EAAOC,KAAKE,IAAK,SAAS,GACrC,MAEH9B,EAAAA,GAAMkC,OAAY,OAANP,QAAM,IAANA,OAAM,EAANA,EAAQQ,UAAW,yBAEnC,CAAE,MACAnC,EAAAA,GAAMkC,MAAM,gBACd,CAAC,QACClD,GAAU,EACZ,CApBA,MAFEgB,EAAAA,GAAMkC,MAAM,qBAsBd,EAuD6C9B,SAE5BrB,EAAS,gBAAkB,yCAWhD,C","sources":["components/admin/payment/addPaymentRequest/OnlinePaymentRequest.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { createOnlinePayment } from \"../../../../api/login/Login\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction OnlinePaymentRequest() {\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const [onlineData, setOnlineData] = useState({\r\n    amount: \"\",\r\n    lat: \"\",\r\n    long: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setOnlineData({ ...onlineData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const submitOnlinePayment = async () => {\r\n    if (!onlineData.amount) {\r\n      toast.error(\"Amount is required\");\r\n      return;\r\n    }\r\n\r\n    setLoader(true);\r\n\r\n    try {\r\n      const res = await createOnlinePayment(onlineData);\r\n      const result = res?.data;\r\n\r\n      if (result?.success && result?.data?.url) {\r\n        toast.success(\"Redirecting to payment page...\");\r\n        setTimeout(() => {\r\n          window.open(result.data.url, \"_blank\");\r\n        }, 500);\r\n      } else {\r\n        toast.error(result?.message || \"Payment request failed\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Network Error\");\r\n    } finally {\r\n      setLoader(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setOnlineData((prev) => ({\r\n          ...prev,\r\n          lat: pos.coords.latitude,\r\n          long: pos.coords.longitude,\r\n        }));\r\n      },\r\n      () => toast.warning(\"Location disabled, default applied\")\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"PageHeading\">\r\n      <h1>Online Payment Request</h1>\r\n      <div className=\"ContentArea\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <form>\r\n              <div className=\"form-row\" style={{ justifyContent: \"center\" }}>\r\n\r\n                <div className=\"form-group col-md-3 text-center\">\r\n                  <label>Amount *</label>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"number\"\r\n                    name=\"amount\"\r\n                    value={onlineData.amount}\r\n                    onChange={handleChange}\r\n                    style={{\r\n                      backgroundColor: \"var(--bs-primary3)\",\r\n                      color: \"var(--bs-primary2)\",\r\n                      borderColor: \"var(--bs-primary2)\",\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group col-md-12 text-center mt-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn\"\r\n                    style={{\r\n                      borderRadius: \"50px\",\r\n                      padding: \"10px 35px\",\r\n                      backgroundColor: onlineData.amount ? \"var(--bs-primary3)\" : \"#777\",\r\n                      color: \"var(--bs-primary2)\",\r\n                      borderColor: \"var(--bs-primary2)\",\r\n                      fontWeight: \"bold\",\r\n                      cursor: onlineData.amount ? \"pointer\" : \"not-allowed\",\r\n                    }}\r\n                    disabled={!onlineData.amount || loader}\r\n                    onClick={submitOnlinePayment}\r\n                  >\r\n                    {loader ? \"Processing...\" : \"Submit Online Payment\"}\r\n                  </button>\r\n                </div>\r\n\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OnlinePaymentRequest;\r\n"],"names":["loader","setLoader","useState","onlineData","setOnlineData","amount","lat","long","useEffect","navigator","geolocation","getCurrentPosition","pos","prev","coords","latitude","longitude","toast","warning","_jsxs","className","children","_jsx","style","justifyContent","type","name","value","onChange","e","target","backgroundColor","color","borderColor","borderRadius","padding","fontWeight","cursor","disabled","onClick","async","_result$data","res","createOnlinePayment","result","data","success","url","setTimeout","window","open","error","message"],"sourceRoot":""}