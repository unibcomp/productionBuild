/*! For license information please see 4103.64d27d35.chunk.js.LICENSE.txt */
(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[4103],{94103:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>d});var s=t(65043),o=t(91036),a=t(73575),r=t(25284),l=t(70579);const i=function(e){var n;const[t,o]=(0,s.useState)(new Array(6).fill("")),[i,c]=(0,s.useState)(180),[d,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!1),[v,f]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),x=(0,s.useRef)([]),y=(0,s.useRef)(null),b=(0,s.useCallback)((()=>{y.current&&clearInterval(y.current),c(180),u(!0),y.current=setInterval((()=>{c((e=>e<=1?(clearInterval(y.current),u(!1),0):e-1))}),1e3)}),[]);(0,s.useEffect)((()=>{if(e.show)return b(),()=>{y.current&&clearInterval(y.current)}}),[e.show,b]);const j=async()=>{h(!0);const n={user_id:window.localStorage.getItem("userIdToken"),otp:t.join("")};try{var s,r;const t=await(0,a.Cl)(n);var l,i;if(200==(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.statusCode))e.toastSuccessMessage(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message),setTimeout((()=>{e.handleClose()}),1e3),o(new Array(6).fill(""));if(1==(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error))e.toastErrorMessage((null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||"Something went Wrong")}catch(p){e.toastErrorMessage("An error occurred while verifying OTP")}finally{h(!1)}};return(0,l.jsx)(r.A,{show:e.show,onHide:e.handleClose,centered:!0,className:"email-optp-modle",children:(0,l.jsx)(r.A.Body,{children:(0,l.jsx)("div",{className:"set-head",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-lg-12",children:[(0,l.jsxs)("div",{className:"headinf-otp",children:[(0,l.jsx)("h2",{children:"OTP Verification"}),(0,l.jsx)("p",{className:"set-lage",children:"We've sent a 6-digit verification code to your mobile number, please enter it here!"}),(0,l.jsx)("p",{className:"set-lage",children:null===e||void 0===e||null===(n=e.OtpMsg)||void 0===n?void 0:n.message})]}),(0,l.jsxs)("div",{className:"verification-code",children:[(0,l.jsx)("p",{children:"Verify Code "}),(0,l.jsx)("div",{className:"resend-otp",children:(0,l.jsx)("p",{onClick:async()=>{try{u(!0);window.localStorage.getItem("userIdToken"),t.join("");const n=await e.ForgotPinGet();200===n.status?(o(new Array(6).fill("")),f((null===n||void 0===n?void 0:n.message)||"OTP resent successfully"),g(""),b()):g((null===n||void 0===n?void 0:n.message)||"Failed to resend OTP")}catch(p){g("An error occurred while resending OTP")}finally{u(!1)}},style:{cursor:d?"default":"pointer",color:d?"gray":"blue",pointerEvents:d?"none":"auto"},children:d?"Resend in ".concat((e=>{const n=Math.floor(e/60),t=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))})(i)):"Resend OTP"})})]})]}),(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsx)("div",{className:"input-group input-group-2 mb-3",children:t.map(((e,n)=>(0,l.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"1",value:e,onChange:e=>((e,n)=>{const s=n.replace(/[^0-9]/g,"");if(s.length>1)return;const a=[...t];a[e]=s,o(a),s&&x.current[e+1]&&x.current[e+1].focus()})(n,e.target.value),onKeyDown:e=>((e,n)=>{"Backspace"===n.key&&!t[e]&&x.current[e-1]&&x.current[e-1].focus()})(n,e),ref:e=>x.current[n]=e,style:{width:"14%"},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault(),n===t.length-1&&(e=>{"Enter"===e.key&&t.every((e=>1===e.length))&&j()})(e)},onPaste:e=>e.preventDefault()},n)))})}),(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsx)("div",{className:"input-group mb-3",children:(0,l.jsxs)("button",{type:"button",disabled:6!==t.join("").length||m,onClick:j,className:"form-control btn ".concat(6!==t.join("").length||m?"disableebuttoncls":"btn-login"),children:["Submit OTP",m&&(0,l.jsx)("div",{style:{height:"16px",width:"16px"},className:"spinner-border",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})}),v&&(0,l.jsx)("div",{className:"col-lg-12 text-success",children:v}),p&&(0,l.jsx)("div",{className:"col-lg-12 text-danger",children:p})]})})})})};const c=function(){const[e,n]=(0,s.useState)(!1),[t,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)({user_id:"",oldPin:"",newPin:"",confirmPin:""}),h=e=>{const n={...u},t=e.target.value;if(/^\d*$/.test(t)){n[e.target.name]=t,m(n)}},v=e=>{o.oR.success("".concat(e),{position:"top-center",autoClose:2e3})},f=e=>{o.oR.error("".concat(e),{position:"top-center",autoClose:2e3})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"PageHeading",children:(0,l.jsx)("h1",{children:"Transaction Pin"})}),(0,l.jsx)("div",{className:"ContentArea",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"card-header Forget_Pin over-color",children:[(0,l.jsx)("span",{children:"Change Your Transaction Pin"}),(0,l.jsx)("button",{type:"button",className:"btn btn-primary ",onClick:async()=>{var e;r(!0);const n=await(0,a.XUy)();var t;200==(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.statusCode)&&(v("OTP send Customer Mobile Number"),d(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data))},children:"Forgot Pin"})]}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("form",{action:"",children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group col-md-4",children:[(0,l.jsxs)("label",{htmlFor:"txtOldPassword",children:["Old Transaction Pin ",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,l.jsx)("input",{className:"form-control",id:"txtOldPassword",name:"oldPin",type:"password",placeholder:"Old Transaction Pin",value:u.oldPin,onChange:h})]}),(0,l.jsxs)("div",{className:"form-group col-md-4",children:[(0,l.jsxs)("label",{htmlFor:"txtNewPassword",children:["New Transaction Pin ",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,l.jsx)("input",{className:"form-control",id:"txtNewPassword",name:"newPin",type:"password",placeholder:"New Transaction Pin",value:u.newPin,onChange:h})]}),(0,l.jsxs)("div",{className:"form-group col-md-4",children:[(0,l.jsxs)("label",{htmlFor:"txtCnfPassword",children:["Confirm Transaction Pin ",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,l.jsx)("input",{className:"form-control",id:"txtCnfPassword",name:"confirmPin",type:"password",placeholder:"Confirm New Transaction Pin",value:u.confirmPin,onChange:h})]})]}),(0,l.jsx)("div",{className:"text-align-center",children:(0,l.jsxs)("button",{type:"button",disabled:!u.oldPin||!u.newPin||!u.confirmPin,className:"btn ".concat(u.oldPin&&u.newPin&&u.confirmPin?"btn-primary":"commonbotton_disable"," "),onClick:async()=>{n(!0);const e={...u,user_id:window.localStorage.getItem("userIdToken")};try{var t,s;const i=await(0,a.WcE)(e);var o,r,l;if("200"==(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.statusCode))v(null===i||void 0===i||null===(o=i.data)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.mesage),m({user_id:"",oldPin:"",newPin:"",confirmPin:""});if("403"==(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.statusCode))f(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message);n(!1)}catch(i){n(!1)}},children:["Change Tpin",e&&(0,l.jsx)("div",{style:{height:"16px",width:"16px"},className:"spinner-border",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})]})})]})}),(0,l.jsx)(i,{handleClose:()=>{r(!1)},show:t,toastSuccessMessage:v,toastErrorMessage:f,OtpMsg:c,ForgotPinGet:a.XUy})]})};const d=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c,{})})}},92667:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var s=t(65043);function o(){return(0,s.useState)(null)}},25284:(e,n,t)=>{"use strict";t.d(n,{A:()=>H});var s,o=t(98139),a=t.n(o),r=t(63043),l=t(18279),i=t(80182),c=t(8260);function d(e){if((!s&&0!==s||e)&&l.A){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),s=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return s}var u=t(92667),m=t(71456),h=t(38293),v=t(59109),f=t(94232),p=t(65043),g=t(79600),x=t(95675),y=t(18072),b=t(67852),j=t(70579);const w=p.forwardRef(((e,n)=>{let{className:t,bsPrefix:s,as:o="div",...r}=e;return s=(0,b.oU)(s,"modal-body"),(0,j.jsx)(o,{ref:n,className:a()(t,s),...r})}));w.displayName="ModalBody";const N=w;var P=t(31602);const C=p.forwardRef(((e,n)=>{let{bsPrefix:t,className:s,contentClassName:o,centered:r,size:l,fullscreen:i,children:c,scrollable:d,...u}=e;t=(0,b.oU)(t,"modal");const m="".concat(t,"-dialog"),h="string"===typeof i?"".concat(t,"-fullscreen-").concat(i):"".concat(t,"-fullscreen");return(0,j.jsx)("div",{...u,ref:n,className:a()(m,s,l&&"".concat(t,"-").concat(l),r&&"".concat(m,"-centered"),d&&"".concat(m,"-scrollable"),i&&h),children:(0,j.jsx)("div",{className:a()("".concat(t,"-content"),o),children:c})})}));C.displayName="ModalDialog";const A=C,S=p.forwardRef(((e,n)=>{let{className:t,bsPrefix:s,as:o="div",...r}=e;return s=(0,b.oU)(s,"modal-footer"),(0,j.jsx)(o,{ref:n,className:a()(t,s),...r})}));S.displayName="ModalFooter";const T=S;var k=t(42258);const O=p.forwardRef(((e,n)=>{let{bsPrefix:t,className:s,closeLabel:o="Close",closeButton:r=!1,...l}=e;return t=(0,b.oU)(t,"modal-header"),(0,j.jsx)(k.A,{ref:n,...l,className:a()(s,t),closeLabel:o,closeButton:r})}));O.displayName="ModalHeader";const E=O;const R=(0,t(4488).A)("h4"),F=p.forwardRef(((e,n)=>{let{className:t,bsPrefix:s,as:o=R,...r}=e;return s=(0,b.oU)(s,"modal-title"),(0,j.jsx)(o,{ref:n,className:a()(t,s),...r})}));F.displayName="ModalTitle";const M=F;function I(e){return(0,j.jsx)(y.A,{...e,timeout:null})}function D(e){return(0,j.jsx)(y.A,{...e,timeout:null})}const U=p.forwardRef(((e,n)=>{let{bsPrefix:t,className:s,style:o,dialogClassName:y,contentClassName:w,children:N,dialogAs:C=A,"data-bs-theme":S,"aria-labelledby":T,"aria-describedby":k,"aria-label":O,show:E=!1,animation:R=!0,backdrop:F=!0,keyboard:M=!0,onEscapeKeyDown:U,onShow:H,onHide:_,container:B,autoFocus:L=!0,enforceFocus:W=!0,restoreFocus:z=!0,restoreFocusOptions:K,onEntered:G,onExit:V,onExiting:X,onEnter:Y,onEntering:$,onExited:q,backdropClassName:J,manager:Q,...Z}=e;const[ee,ne]=(0,p.useState)({}),[te,se]=(0,p.useState)(!1),oe=(0,p.useRef)(!1),ae=(0,p.useRef)(!1),re=(0,p.useRef)(null),[le,ie]=(0,u.A)(),ce=(0,h.A)(n,ie),de=(0,m.A)(_),ue=(0,b.Wz)();t=(0,b.oU)(t,"modal");const me=(0,p.useMemo)((()=>({onHide:de})),[de]);function he(){return Q||(0,x.R)({isRTL:ue})}function ve(e){if(!l.A)return;const n=he().getScrollbarWidth()>0,t=e.scrollHeight>(0,i.A)(e).documentElement.clientHeight;ne({paddingRight:n&&!t?d():void 0,paddingLeft:!n&&t?d():void 0})}const fe=(0,m.A)((()=>{le&&ve(le.dialog)}));(0,v.A)((()=>{(0,c.A)(window,"resize",fe),null==re.current||re.current()}));const pe=()=>{oe.current=!0},ge=e=>{oe.current&&le&&e.target===le.dialog&&(ae.current=!0),oe.current=!1},xe=()=>{se(!0),re.current=(0,f.A)(le.dialog,(()=>{se(!1)}))},ye=e=>{"static"!==F?ae.current||e.target!==e.currentTarget?ae.current=!1:null==_||_():(e=>{e.target===e.currentTarget&&xe()})(e)},be=(0,p.useCallback)((e=>(0,j.jsx)("div",{...e,className:a()("".concat(t,"-backdrop"),J,!R&&"show")})),[R,J,t]),je={...o,...ee};je.display="block";return(0,j.jsx)(P.A.Provider,{value:me,children:(0,j.jsx)(g.A,{show:E,ref:ce,backdrop:F,container:B,keyboard:!0,autoFocus:L,enforceFocus:W,restoreFocus:z,restoreFocusOptions:K,onEscapeKeyDown:e=>{M?null==U||U(e):(e.preventDefault(),"static"===F&&xe())},onShow:H,onHide:_,onEnter:(e,n)=>{e&&ve(e),null==Y||Y(e,n)},onEntering:(e,n)=>{null==$||$(e,n),(0,r.Ay)(window,"resize",fe)},onEntered:G,onExit:e=>{null==re.current||re.current(),null==V||V(e)},onExiting:X,onExited:e=>{e&&(e.style.display=""),null==q||q(e),(0,c.A)(window,"resize",fe)},manager:he(),transition:R?I:void 0,backdropTransition:R?D:void 0,renderBackdrop:be,renderDialog:e=>(0,j.jsx)("div",{role:"dialog",...e,style:je,className:a()(s,t,te&&"".concat(t,"-static"),!R&&"show"),onClick:F?ye:void 0,onMouseUp:ge,"data-bs-theme":S,"aria-label":O,"aria-labelledby":T,"aria-describedby":k,children:(0,j.jsx)(C,{...Z,onMouseDown:pe,className:y,contentClassName:w,children:N})})})})}));U.displayName="Modal";const H=Object.assign(U,{Body:N,Header:E,Title:M,Footer:T,Dialog:A,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},98139:(e,n)=>{var t;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e="",n=0;n<arguments.length;n++){var t=arguments[n];t&&(e=r(e,a(t)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var t in e)s.call(e,t)&&e[t]&&(n=r(n,t));return n}function r(e,n){return n?e?e+" "+n:e+n:e}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()}}]);
//# sourceMappingURL=4103.64d27d35.chunk.js.map