(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[9851],{5010:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(22019),s=a(94434),l=a(87021),o=a(76245),i=a(65043),r=a(73575),d=a(72777),c=a(95702),u=a(35475),m=a(73216),h=a(76191),p=a(91036),x=(a(92342),a(70579));const v=function(){const e=(0,m.Zp)(),[t,a]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[g,f]=(0,i.useState)(10),[y,j]=(0,i.useState)(0),[_,N]=(0,i.useState)(null),[T,w]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),E=(0,i.useRef)(10),[A,C]=(0,i.useState)(null),[I,O]=(0,i.useState)({user_id:"",count:"",page:"",end_date:(new Date).toISOString().substr(0,10),start_date:(new Date).toISOString().substr(0,10),txn_id:"",status:""}),D=e=>{const t={...I},a=e.target.value;t[e.target.name]=a,O(t)},P=async(e,t)=>{a(!0);const n=void 0!==t?t:E.current,s={...I,count:n,page:e||0,user_id:window.localStorage.getItem("userIdToken")};try{var l,o;const e=await(0,r.uTG)(s);N(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.totalCount),w(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)}catch(i){}a(!1)},[R,W]=(0,i.useState)(),[B,F]=(0,i.useState)(1),M=async e=>{F("asc"==R?1:-1),W("asc"===R?"desc":"asc"),a(!0);const t={...I,count:g,page:y,min_amt:+I.min_amt,max_amt:+I.max_amt,sortType:+B,sortKey:e,user_id:window.localStorage.getItem("userIdToken")};try{var n,s;const e=await(0,r.cnE)(t);N(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.total),w(null===e||void 0===e?void 0:e.data)}catch(l){}a(!1)},[U,q]=(0,i.useState)("");return(0,i.useEffect)((()=>{(()=>{const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s="".concat(t,"-").concat(a,"-").concat(n);q(s);const l={...I,start_date:s,end_date:s};O(l)})()}),[]),(0,i.useEffect)((()=>{P(0)}),[]),(0,x.jsxs)(x.Fragment,{children:[t&&(0,x.jsx)(d.A,{}),(0,x.jsx)("div",{className:"PageHeading",children:(0,x.jsx)("h1",{children:"Aeps Payout Report"})}),(0,x.jsxs)("div",{className:"ContentArea",children:[(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:" "}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("form",{action:"",method:"post",name:"frmReport",id:"frmReport",children:[(0,x.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,x.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,x.jsxs)("div",{className:"form-group col-md-4",children:[(0,x.jsx)("label",{htmlFor:"txtUserId",children:"Start Date"}),(0,x.jsx)("input",{type:"date",name:"start_date",id:"account_no",max:U,defaultValue:U,className:"form-control",value:I.start_date,onChange:D})]}),(0,x.jsxs)("div",{className:"form-group col-md-4",children:[(0,x.jsx)("label",{htmlFor:"txtUserId",children:"End Date"}),(0,x.jsx)("input",{type:"date",name:"end_date",id:"account_no",max:U,defaultValue:U,className:"form-control",value:I.end_date,onChange:D})]}),(0,x.jsxs)("div",{className:"form-group col-md-4",children:[(0,x.jsx)("label",{htmlFor:"txn_id",children:"Txn Id"}),(0,x.jsx)("input",{type:"text",name:"txn_id",id:"txn_id",className:"form-control",placeholder:"Enter Txn Id",value:I.txn_id,onChange:D})]}),(0,x.jsxs)("div",{className:"form-group col-md-4",children:[(0,x.jsx)("label",{htmlFor:"status",children:"Status"}),(0,x.jsx)(s.A,{id:"status",style:{width:"100%"},value:I.status,onChange:e=>{O((t=>({...t,status:e})))},options:[{value:"",label:"All"},{value:"1",label:"Pending"},{value:"2",label:"Success"},{value:"3",label:"Failed"},{value:"4",label:"Refunded"}]})]}),(0,x.jsxs)("div",{className:"form-group col-12",children:[(0,x.jsx)("label",{children:"\xa0"}),(0,x.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>{P(0),j(0)},children:"Search"}),(0,x.jsx)("button",{type:"button",className:"btn btn-light",onClick:async()=>{a(!0);const e={count:10,page:0,end_date:"",start_date:"",txn_id:"",status:"",user_id:window.localStorage.getItem("userIdToken")};try{var t,n;const a=await(0,r.uTG)(e);N(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.totalCount),w(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data),O({end_date:"",start_date:"",txn_id:""}),j(0),f(10),E.current=10}catch(s){}a(!1)},children:"Reset"})]})]})]})})]}),(0,x.jsx)("div",{className:"card mt-4",style:{overflow:"auto"},children:(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{id:"myTable_wrapper",className:"dataTables_wrapper no-footer",children:[(0,x.jsx)("div",{className:"d-flex  justify-content-end align-items-center",children:(0,x.jsxs)("div",{className:"dataTables_length mb-3",id:"myTable_length",children:[(0,x.jsx)(l.Ay,{className:"btn btn-success cusxel pb-2",onClick:async()=>{a(!0);const e={...I,count:g,page:y,min_amt:+I.min_amt,max_amt:+I.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var t;const s=await(0,r.G7y)(e),l=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data;if(!l||0===l.length)return n.Ay.error("No data available to export."),void a(!1);C(l),setTimeout((()=>{document.getElementById("test-table-xls-button").click(),a(!1),n.Ay.success("Excel file download initiated.")}),100)}catch(s){console.error("Error preparing data for export:",s),n.Ay.error("Failed to prepare data for export. Please try again."),a(!1)}},disabled:t,children:"Download Excel sheet"}),(0,x.jsx)(c.A,{id:"test-table-xls-button",className:"download-table-xls-button d-none",table:"table-to-xlsx",filename:"Pyout Report",sheet:"Sheet1",buttonText:"Download Excel"})]})}),(0,x.jsx)("div",{id:"myTable_processing",className:"dataTables_processing",style:{display:"none"},children:"Processing..."}),(0,x.jsxs)("table",{className:"table table-striped table-bordered table-hover display dataTable no-footer dtr-inline collapsed",id:"myTable",role:"grid","aria-describedby":"myTable_info",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{role:"row",children:[(0,x.jsx)("th",{className:"sorting",children:"S No."}),(0,x.jsx)("th",{className:"sorting",onClick:()=>M("createdAt"),children:"Txn Date"}),(0,x.jsx)("th",{className:"sorting",children:"Txn ID"}),(0,x.jsx)("th",{className:"sorting",children:"Bank Account Number"}),(0,x.jsx)("th",{className:"sorting",children:"Bank IFSC"}),(0,x.jsx)("th",{className:"sorting",children:"Bank Name"}),(0,x.jsx)("th",{className:"sorting",children:"Account Name"}),(0,x.jsx)("th",{className:"sorting",children:"Txn. Mode"}),(0,x.jsx)("th",{className:"sorting",children:"Amount"}),(0,x.jsx)("th",{className:"sorting",children:"Charge Amount"}),(0,x.jsx)("th",{className:"sorting",children:"Status"}),(0,x.jsx)("th",{className:"sorting",children:"Transaction Dispute"}),(0,x.jsx)("th",{className:"sorting",children:"Enquiry Status"}),(0,x.jsx)("th",{className:"sorting",children:"Invoice "})]})}),(0,x.jsx)("tbody",{children:T&&(null===T||void 0===T?void 0:T.map(((t,a)=>(0,x.jsxs)("tr",{className:"odd",children:[(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:a+1+y*g}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.createdAt}),(0,x.jsx)("th",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.txn_id}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.bank_account_number}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.bank_ifsc}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.bank_name}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.account_name}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.paymentMode}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.amount}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===t||void 0===t?void 0:t.charge_amount}),1==(null===t||void 0===t?void 0:t.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-warning",children:"Pending"})}):"",2==(null===t||void 0===t?void 0:t.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-success",children:"Success"})}):"",3==(null===t||void 0===t?void 0:t.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-danger",children:"Failed"})}):"",(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:(0,x.jsxs)(u.N_,{className:"btn btn-primary",to:"/add-ticket/".concat(null===t||void 0===t?void 0:t._id),state:{item:t,serviceId:"65f9484a26eb74e182c640fc"},children:["  ",(0,x.jsx)("span",{style:{color:"#fff"},children:"Dispute"})]})}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:(0,x.jsx)(l.Ay,{onClick:()=>(async e=>{var t;try{var a;b(!0);const s=await(0,r.WMU)(e);switch(s.data,null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.errorCode){case 200:n.Ay.success("successful");break;case 300:n.Ay.info("pending");break;case 400:n.Ay.error("failed");break;default:n.Ay.warning(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)}await P(y)}catch(o){var s,l;console.error("Inquiry error:",o),p.oR.error((null===(s=o.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"An error occurred during inquiry")}finally{b(!1)}})(null===t||void 0===t?void 0:t._id),disabled:v||1!==(null===t||void 0===t?void 0:t.status),children:"Inquiry"})}),(0,x.jsx)("td",{children:(0,x.jsx)(l.Ay,{icon:(0,x.jsx)(h.A,{}),onClick:()=>{return a=null===t||void 0===t?void 0:t._id,void e("/payout-invoice/".concat(a));var a}})})]},null===t||void 0===t?void 0:t._id))))})]})]})})}),(0,x.jsxs)("div",{className:"dataTables_info_page",children:[(0,x.jsxs)("div",{className:"dataTables_length me-3",children:[(0,x.jsx)("label",{className:"me-2",children:"Show"}),(0,x.jsx)(s.A,{value:g,onChange:e=>{E.current=e,f(e),j(0),O((t=>({...t,count:e,page:0}))),P(0,e)},style:{width:120},options:[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:50,label:"50 / page"},{value:100,label:"100 / page"}]})]}),(0,x.jsxs)("div",{className:"dataTables_info",id:"empoloyees-tblwrapper_info",role:"status","aria-live":"polite",children:["Total ",_,"  entries"]}),(0,x.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"empoloyees-tblwrapper_paginate",children:(0,x.jsx)(o.A,{pageSize:g,current:y+1,onChange:e=>{console.log(e-1),j(e-1),P(e-1)},total:_,showSizeChanger:!1})})]})]}),(0,x.jsxs)("table",{className:"table table-striped table-bordered table-hover display dataTable no-footer dtr-inline collapsed d-none",id:"table-to-xlsx",role:"grid","aria-describedby":"myTable_info",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{role:"row",children:[(0,x.jsx)("th",{className:"sorting",children:"S No."}),(0,x.jsx)("th",{className:"sorting",onClick:()=>M("createdAt"),children:"Txn Date"}),(0,x.jsx)("th",{className:"sorting",children:"Txn ID"}),(0,x.jsx)("th",{className:"sorting",children:"Beneficiary ID"}),(0,x.jsx)("th",{className:"sorting",children:"Bank Account Number"}),(0,x.jsx)("th",{className:"sorting",children:"Bank IFSC"}),(0,x.jsx)("th",{className:"sorting",children:"Bank Name"}),(0,x.jsx)("th",{className:"sorting",children:"Account Name"}),(0,x.jsx)("th",{className:"sorting",children:"Amount"}),(0,x.jsx)("th",{className:"sorting",children:"Charge Amount"}),(0,x.jsx)("th",{className:"sorting",children:"Status"}),(0,x.jsx)("th",{className:"sorting",children:"Status Update At"}),(0,x.jsx)("th",{className:"sorting",children:"Txn. Mode"})]})}),(0,x.jsx)("tbody",{children:A&&(null===A||void 0===A?void 0:A.map(((e,t)=>(0,x.jsxs)("tr",{className:"odd",children:[(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:t+1+y*g}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.createdAt}),(0,x.jsx)("th",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.txn_id}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.beneid}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.bank_account_number}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.bank_ifsc}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.bank_name}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.account_name}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.amount}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.charge_amount}),1==(null===e||void 0===e?void 0:e.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-warning",children:"Pending"})}):"",2==(null===e||void 0===e?void 0:e.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-success",children:"Success"})}):"",3==(null===e||void 0===e?void 0:e.status)?(0,x.jsx)("td",{valign:"top",children:(0,x.jsx)("button",{type:"button",class:"btn btn-danger",children:"Failed"})}):"",(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.status_update_time}),(0,x.jsx)("td",{valign:"top",className:"dataTables_empty",children:"1"==(null===e||void 0===e?void 0:e.txn_mode)?"NEFT":"2"==(null===e||void 0===e?void 0:e.txn_mode)?"IMPS":null===e||void 0===e?void 0:e.txn_mode})]},null===e||void 0===e?void 0:e._id))))})]})]})};const b=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(v,{})})}},76191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(58168),s=a(65043);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var o=a(22172),i=function(e,t){return s.createElement(o.A,(0,n.A)({},e,{ref:t,icon:l}))};const r=s.forwardRef(i)},41497:(e,t,a)=>{"use strict";var n=a(13218);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,a,s,l,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return a.PropTypes=a,a}},65173:(e,t,a)=>{e.exports=a(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95702:(e,t,a)=>{"use strict";var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(65043),l=i(s),o=i(a(65173));function i(e){return e&&e.__esModule?e:{default:e}}var r={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleDownload=a.handleDownload.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,a=String(this.props.sheet),n=String(this.props.filename)+".xls",s={worksheet:a||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var l=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(l,n)})),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',s)),o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return l.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,a){return t[a]}))}}]),t}(s.Component);d.propTypes=r,d.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.A=d},98587:(e,t,a)=>{"use strict";function n(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}a.d(t,{A:()=>n})},63662:(e,t,a)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}a.d(t,{A:()=>n})}}]);
//# sourceMappingURL=9851.c3460c76.chunk.js.map