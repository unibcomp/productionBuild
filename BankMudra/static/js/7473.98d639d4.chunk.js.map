{"version":3,"file":"static/js/7473.98d639d4.chunk.js","mappings":"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","sources":["pages/admin/userlist/AepsInvoice.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\nimport html2pdf from 'html2pdf.js';\r\nimport './AepsInvoice.css';\r\nimport aepsLogo from \"../../../asesets/adminImage/AEPS-Logo.png\";\r\nimport { FaDownload, FaCheckCircle, FaTimesCircle, FaExclamationCircle } from 'react-icons/fa';\r\nimport { aepsInvoice } from '../../../api/login/Login';\r\nimport { useParams } from 'react-router-dom';\r\nimport { imageLogo } from '../../../asesets';\r\n\r\nconst AepsInvoice = () => {\r\n    const { id } = useParams();\r\n    const [transaction, setTransaction] = useState(null);\r\n    const invoiceRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fetchTransactionData = async () => {\r\n            try {\r\n                const response = await aepsInvoice(id);\r\n                setTransaction(response.data.data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching transaction data:\", error);\r\n            }\r\n        };\r\n\r\n        fetchTransactionData();\r\n    }, [id]);\r\n\r\n    const downloadPDF = () => {\r\n        const element = invoiceRef.current;\r\n        const opt = {\r\n            margin:       [10, 10, 10, 10], // top, left, bottom, right\r\n            filename:     'aeps_invoice.pdf',\r\n            image:        { type: 'jpeg', quality: 0.98 },\r\n            html2canvas:  { scale: 4, useCORS: true  },\r\n            jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' },\r\n            pagebreak: { mode: ['avoid-all', 'css', 'legacy'] },\r\n        };\r\n        html2pdf().set(opt).from(element).save();\r\n    };\r\n   \r\n\r\n    // const downloadPDF = () => {\r\n    //     const element = document.getElementById(\"aeps-invoice\"); // your main div id\r\n    //     if (!element) {\r\n    //       console.error(\"Invoice element not found\");\r\n    //       return;\r\n    //     }\r\n      \r\n    //     const opt = {\r\n    //       margin: [0, 0], // no extra margins\r\n    //       filename: `aeps_invoice_${new Date().getTime()}.pdf`, // unique filename\r\n    //       image: { type: 'jpeg', quality: 1 }, // best quality image inside PDF\r\n    //       html2canvas: { scale: 4, useCORS: true }, // sharp rendering\r\n    //       jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }, // A4 size\r\n    //       pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }, // avoid cutting\r\n    //     };\r\n      \r\n    //     html2pdf().set(opt).from(element).save();\r\n    //   };\r\n    const getStatusIcon = (status) => {\r\n        switch (status?.toLowerCase()) {\r\n            case 'success':\r\n                return <FaCheckCircle className=\"status-icon\" />;\r\n            case 'failed':\r\n                return <FaTimesCircle className=\"status-icon failed\" />;\r\n            default:\r\n                return <FaExclamationCircle className=\"status-icon pending\" />;\r\n        }\r\n    };\r\n\r\n    if (!transaction) {\r\n        return <div className=\"loading\">Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"aeps-invoice-container\">\r\n            <div id=\"aeps-invoice\"  className=\"aeps-invoice\" ref={invoiceRef}>\r\n                <div className=\"invoice-header\">\r\n                    <img src={imageLogo} alt=\"Company Logo\" className=\"company-logo\" />\r\n                    <img src={aepsLogo} alt=\"AEPS Logo\" className=\"aeps-logo\" />\r\n                </div>\r\n                <h1 className='invoice-h1'>AePS Transaction Receipt</h1>\r\n                <div className=\"transaction-status\">\r\n                    {getStatusIcon(transaction?.response)}\r\n                    <span className={`status ${transaction?.response}`}>\r\n                        {transaction?.response}\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"invoice-details\">\r\n                    <div className=\"detail-column\">\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Transaction ID</span>\r\n                            <span className=\"value\">{transaction?.txn_id}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Date & Time</span>\r\n                            <span className=\"value\">{transaction?.createdAt}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Customer Mobile</span>\r\n                            <span className=\"value\">{transaction?.customer_mobile}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Shop Name</span>\r\n                            <span className=\"value\">{transaction?.shop_name}</span>\r\n                        </div>\r\n                        {transaction?.utr && (\r\n                            <div className=\"detail-item\">\r\n                                <span className=\"label\">UTR</span>\r\n                                <span className=\"value\">{transaction?.utr}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"detail-column\">\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Bank Name</span>\r\n                            <span className=\"value\">{transaction?.bank_name}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Transaction Type</span>\r\n                            <span className=\"value\">{transaction?.type}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Amount</span>\r\n                            <span className=\"value amount\">₹{transaction?.amount?.toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                            <span className=\"label\">Total Amount</span>\r\n                            <span className=\"value amount\">₹{transaction?.totalAmount?.toFixed(2)}</span>\r\n                        </div>\r\n                        {transaction?.adhaar_number && (\r\n                            <div className=\"detail-item\">\r\n                                <span className=\"label\">Aadhaar Number</span>\r\n                                <span className=\"value\">xxxx{transaction?.adhaar_number?.slice(-4)}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"invoice-footer\">\r\n                    <p>Thank you for using our AePS service!</p>\r\n                    <p>For any queries, please contact our customer support at <a href=\"mailto:support@bankmudraa.com\">support@bankmudraa.com</a></p>\r\n                </div>\r\n            </div>\r\n\r\n            <button onClick={downloadPDF} className=\"download-btn\">\r\n                <FaDownload /> Download PDF\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AepsInvoice;\r\n"],"names":["AepsInvoice","_transaction$amount","_transaction$totalAmo","_transaction$adhaar_n","id","useParams","transaction","setTransaction","useState","invoiceRef","useRef","useEffect","async","response","aepsInvoice","data","error","console","fetchTransactionData","_jsxs","className","children","ref","_jsx","src","imageLogo","alt","aepsLogo","status","toLowerCase","FaCheckCircle","FaTimesCircle","FaExclamationCircle","getStatusIcon","concat","txn_id","createdAt","customer_mobile","shop_name","utr","bank_name","type","amount","toFixed","totalAmount","adhaar_number","slice","href","onClick","downloadPDF","element","current","html2pdf","set","margin","filename","image","quality","html2canvas","scale","useCORS","jsPDF","unit","format","orientation","pagebreak","mode","from","save","FaDownload"],"sourceRoot":""}