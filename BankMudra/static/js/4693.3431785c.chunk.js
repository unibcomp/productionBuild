"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[4693],{36760:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(65043),o=a(94434),n=a(15444),s=a(22019),i=a(91686),c=a(93395),l=a(42631),d=a(76245),p=a(86213),u=a(94414),m=a(70579);const{Option:h}=o.A,{Search:y}=n.A,g=e=>{let{BBPSWiseServices:t,dataDetails:a}=e;const[n,g]=(0,r.useState)(null),[x,f]=(0,r.useState)([]),[A,_]=(0,r.useState)(!1),[v,S]=(0,r.useState)(""),[j,k]=(0,r.useState)(1),[C,w]=(0,r.useState)(0);(0,r.useEffect)((()=>{n&&O(j)}),[n,j]);const O=async e=>{_(!0);try{const t=await p.A.get("".concat(u.pc,"package/bbps/commision"),{params:{package_id:null===a||void 0===a?void 0:a._id,service_id:n,page:e-1,count:4},headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(localStorage.getItem("userToken"))}});t.data&&Array.isArray(t.data.data)?(f(t.data.data),w(t.data.totalCount||0)):(console.error("Unexpected response structure:",t.data),s.Ay.error("Unexpected response structure"))}catch(t){console.error("Error fetching operators:",t),s.Ay.error("Failed to fetch operators")}_(!1)},b=x.filter((e=>e.name.toLowerCase().includes(v.toLowerCase()))),I=[{title:"Start Amount",dataIndex:"start_amt",key:"start_amt"},{title:"End Amount",dataIndex:"end_amt",key:"end_amt"},{title:"Charge",dataIndex:"charge",key:"charge"},{title:"Charge Type",dataIndex:"charge_type",key:"charge_type"},{title:"Retailer Commission",dataIndex:"commision",key:"commision"},{title:"Retailer Commission Type",dataIndex:"commision_type",key:"commision_type"}];return(0,m.jsxs)("div",{className:"service-operator-list",children:[(0,m.jsx)("h3",{children:"Service Operator List"}),(0,m.jsx)(o.A,{style:{width:"100%",marginBottom:16},value:n,placeholder:"Please select a service",onChange:e=>{g(e),k(1)},children:t.map((e=>(0,m.jsx)(h,{value:e._id,children:e.service},e._id)))}),n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{placeholder:"Search operators",onChange:e=>{return t=e.target.value,void S(t);var t},style:{marginBottom:16}}),(0,m.jsxs)(i.A,{spinning:A,children:[b.length>0?b.map((e=>(0,m.jsx)(c.A,{title:e.name||"Operator",style:{marginBottom:16},children:(0,m.jsx)(l.A,{dataSource:e.slots,columns:I,pagination:!1,rowKey:"_id",locale:{emptyText:"No data found"}})},e._id))):(0,m.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"No operators found"}),(0,m.jsx)(d.A,{current:j,total:C,pageSize:4,onChange:e=>{k(e)},style:{marginTop:16,textAlign:"right"}})]})]})]})}},98587:(e,t,a)=>{function r(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}a.d(t,{A:()=>r})},63662:(e,t,a)=>{function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}a.d(t,{A:()=>r})}}]);
//# sourceMappingURL=4693.3431785c.chunk.js.map