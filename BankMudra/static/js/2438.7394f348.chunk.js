(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2438],{42438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(22019),n=r(87021),s=r(94434),o=r(76245),l=r(72777),d=r(65043),i=(r(91036),r(95702)),c=r(73575),u=r(85369),h=r(70579);const x=function(){const[e,t]=(0,d.useState)([]),[r,x]=(0,d.useState)([]),[m,p]=(0,d.useState)(!1),[b,v]=(0,d.useState)(0),[f,j]=(0,d.useState)(10),[y,g]=(0,d.useState)(0),[_,w]=(0,d.useState)({start_date:"",end_date:"",status:"",order_id:"",txn_id:""}),k=(new Date).toISOString().split("T")[0],N=function(e){return void 0===e||null===e||""===e?arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-":e},C=async e=>{try{var r,n,s,o;p(!0);const l=e||_;if(l.start_date&&l.end_date&&new Date(l.start_date)>new Date(l.end_date))return void a.Ay.error("Wrong Date Combination");const d=new URLSearchParams({pageNumber:b+1,pageSize:f,start_date:l.start_date||"",end_date:l.end_date||"",status:"ALL"===l.status?"":l.status||"",merchantOrderId:l.order_id||"",txnId:l.txn_id||""}).toString(),i=await(0,c.sWL)(d);t(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.data),x(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data),g(null===i||void 0===i||null===(s=i.data)||void 0===s||null===(o=s.pagination)||void 0===o?void 0:o.totalRecords)}catch(i){var l,d;console.log(i),a.Ay.error((null===i||void 0===i||null===(l=i.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||"Something went wrong!")}finally{p(!1)}};(0,d.useEffect)((()=>{C()}),[b,f]);const E=e=>{const{name:t,value:r}=e.target;w((e=>"start_date"===t&&e.end_date&&r>e.end_date?{...e,start_date:r,end_date:r}:{...e,[t]:r}))};return(0,h.jsxs)(h.Fragment,{children:[m&&(0,h.jsx)(l.A,{}),(0,h.jsx)("div",{className:"PageHeading",children:(0,h.jsx)("h1",{style:{color:"var(--bs-primary2)",fontWeight:600},children:"Online Payment Transaction Report"})}),(0,h.jsxs)("div",{className:"ContentArea",style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",borderRadius:"12px",padding:"16px"},children:[(0,h.jsxs)("div",{className:"card",style:{backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)",borderRadius:"12px"},children:[(0,h.jsx)("div",{className:"card-header",style:{backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",fontWeight:600}}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,h.jsxs)("div",{className:"form-group col-md-3",children:[(0,h.jsx)("label",{children:"Start Date"}),(0,h.jsx)("input",{type:"date",name:"start_date",className:"form-control input-white-bg",max:k,value:_.start_date,onChange:E})]}),(0,h.jsxs)("div",{className:"form-group col-md-3",children:[(0,h.jsx)("label",{children:"End Date"}),(0,h.jsx)("input",{type:"date",name:"end_date",className:"form-control input-white-bg",max:k,value:_.end_date,onChange:E,min:_.start_date||void 0,onBlur:()=>{_.start_date&&_.end_date&&_.end_date<_.start_date&&(a.Ay.error("End date cannot be earlier than start date"),w((e=>({...e,end_date:e.start_date}))))}})]}),(0,h.jsxs)("div",{className:"form-group col-md-3",children:[(0,h.jsx)("label",{children:"Status"}),(0,h.jsxs)("select",{className:"form-select",name:"status",value:_.status,onChange:E,children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),(0,h.jsx)("option",{value:"ALL",children:"All"}),(0,h.jsx)("option",{value:"PENDING",children:"Pending"}),(0,h.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,h.jsx)("option",{value:"FAILED",children:"Failed"}),(0,h.jsx)("option",{value:"REJECT",children:"Rejected"})]})]}),(0,h.jsxs)("div",{className:"form-group col-md-3",children:[(0,h.jsx)("label",{children:"Order Id"}),(0,h.jsx)("input",{type:"text",name:"order_id",className:"form-control bs-autofill-fix",placeholder:"Enter Order Id",value:_.order_id,onChange:E})]}),(0,h.jsxs)("div",{className:"form-group col-md-3",children:[(0,h.jsx)("label",{children:"Txn Id"}),(0,h.jsx)("input",{type:"text",name:"txn_id",className:"form-control bs-autofill-fix",placeholder:"Enter Txn Id",value:_.txn_id,onChange:E})]}),(0,h.jsxs)("div",{className:"form-group col-md-12",children:[(0,h.jsx)("label",{children:"\xa0"}),(0,h.jsx)("button",{type:"button",className:"btn",onClick:()=>{_.start_date&&_.end_date&&new Date(_.start_date)>new Date(_.end_date)?a.Ay.error("Wrong Date Combination"):(v(0),C(_))},style:{backgroundColor:"#6C757D",color:"#fff",border:"1px solid var(--bs-primary2)",fontWeight:600,padding:"6px 16px",borderRadius:"10px",marginRight:"8px"},children:"Search"}),(0,h.jsx)("button",{type:"button",className:"btn",onClick:()=>{const e={start_date:"",end_date:"",status:"",order_id:"",txn_id:""};w(e),v(0),C(e)},style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)",fontWeight:600,padding:"6px 16px",borderRadius:"10px"},children:"Reset"})]})]})})]}),(0,h.jsxs)("div",{className:"card mt-4",style:{backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)",borderRadius:"12px"},children:[(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-end align-items-center mb-3",children:[(0,h.jsx)(n.Ay,{onClick:()=>document.getElementById("excel-btn").click(),style:{backgroundColor:"#E8DAD6",color:"var(--bs-primary2)",border:"1px solid var(--bs-primary2)"},children:"Download Excel"}),(0,h.jsx)(i.A,{id:"excel-btn",className:"d-none",table:"table-to-xlsx",filename:"PayIn_Report",sheet:"Sheet1",buttonText:"Download Excel"})]}),(0,h.jsx)("div",{style:{overflow:"auto"},children:(0,h.jsxs)("table",{className:"table table-striped table-bordered table-hover",style:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:[(0,h.jsx)("thead",{style:{backgroundColor:"var(--bs-primary3)",color:"var(--bs-primary2)",fontWeight:600},children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)("th",{className:"text-center er-th",children:["S.No ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Txn Date ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Order ID ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Txn ID ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Amount ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Charges ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Final Amount ",(0,h.jsx)(u.MjW,{})]}),(0,h.jsxs)("th",{className:"text-center er-th",children:["Status ",(0,h.jsx)(u.MjW,{})]})]})}),(0,h.jsxs)("tbody",{children:[(null===e||void 0===e?void 0:e.length)>0&&e.map(((e,t)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1+b*f}),(0,h.jsx)("td",{children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleString()}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.merchantOrderId}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.txnId}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.charges}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.final_amount}),(0,h.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,h.jsx)("span",{style:{display:"inline-block",padding:"6px 14px",borderRadius:"999px",fontSize:"12px",fontWeight:600,color:"#fff",textTransform:"capitalize",backgroundColor:"SUCCESS"===(null===e||void 0===e?void 0:e.status)?"#16a34a":"PENDING"===(null===e||void 0===e?void 0:e.status)?"#f59e0b":"PROCESSING"===(null===e||void 0===e?void 0:e.status)?"#0ea5e9":"REJECT"===(null===e||void 0===e?void 0:e.status)?"#dc2626":"#6b7280"},children:N(null===e||void 0===e?void 0:e.status)})})]},e._id))),0===(null===e||void 0===e?void 0:e.length)&&(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:"10",style:{textAlign:"center"},children:"No Record Found"})})]})]})})]}),(0,h.jsxs)("div",{className:"dataTables_info_page d-flex justify-content-between align-items-center p-3",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("label",{className:"me-2",children:"Show"}),(0,h.jsx)(s.A,{value:f,onChange:e=>{j(e),v(0)},style:{width:120},options:[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:50,label:"50 / page"},{value:100,label:"100 / page"}]}),(0,h.jsxs)("div",{className:"ms-3",children:["Total ",y," entries"]})]}),(0,h.jsx)(o.A,{pageSize:f,current:b+1,total:y,onChange:e=>{v(e-1)},showSizeChanger:!1,style:{color:"var(--bs-primary2)"}})]})]})]}),(0,h.jsxs)("table",{className:"d-none",id:"table-to-xlsx",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Created Date"}),(0,h.jsx)("th",{children:"Txn Id"}),(0,h.jsx)("th",{children:"Order Id"}),(0,h.jsx)("th",{children:"Amount"}),(0,h.jsx)("th",{children:"Charges"}),(0,h.jsx)("th",{children:"Final Amount"}),(0,h.jsx)("th",{children:"Status"})]})}),(0,h.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((e=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.txnId}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.merchantOrderId}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.charges}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.final_amount}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.status})]},e._id)))})]})]})}},41497:(e,t,r)=>{"use strict";var a=r(13218);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,s,o){if(o!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},65173:(e,t,r)=>{e.exports=r(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95702:(e,t,r)=>{"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=r(65043),s=l(n),o=l(r(65173));function l(e){return e&&e.__esModule?e:{default:e}}var d={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleDownload=r.handleDownload.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,r=String(this.props.sheet),a=String(this.props.filename)+".xls",n={worksheet:r||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var s=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(s,a)})),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',n)),o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return s.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,r){return t[r]}))}}]),t}(n.Component);i.propTypes=d,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.A=i}}]);
//# sourceMappingURL=2438.7394f348.chunk.js.map