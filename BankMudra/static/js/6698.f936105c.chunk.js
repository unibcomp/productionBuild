"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[6698],{46698:(e,r,o)=>{o.r(r),o.d(r,{default:()=>T,statusFilters:()=>M});var l=o(65043),n=o(73460),d=o(28076),i=o(10039),a=o(11906),s=o(61596),t=o(94496),c=o(94516),v=o(83625),u=o(24056),h=o(79650),x=o(71806),j=o(84882),p=o(32143),m=o(53193),A=o(18356),b=o(72221),g=o(59135),y=o(90035),f=o(26600),C=o(35316),w=o(29347),S=o(73575),_=o(17392),k=o(70378),N=o(98082),D=o(54358),W=(o(91036),o(73216)),I=o(35475),O=o(72777),R=o(70579);const M={New:"New","Ready To Ship":"Ready To Ship",Manifested:"Manifested",Canceled:"Cancel Order"},T=()=>{const e=(new Date).toISOString().split("T")[0],[r,o]=(0,l.useState)(1),[T,z]=(0,l.useState)(10),[E,P]=(0,l.useState)(!1),[L,B]=(0,l.useState)(0),[V,F]=(0,l.useState)(!1),[G,K]=(0,l.useState)(!1),Y=(0,W.Zp)(),[q,J]=(0,l.useState)({startDate:e,endDate:e,orderId:"",status:"New"}),[U,Z]=(0,l.useState)(null),[H,Q]=(0,l.useState)(null),X=Boolean(U),$=(e,r)=>{Z(e.currentTarget),Q(r)},ee=()=>{Z(null),Q(null)},re=()=>{K(!1)},[oe,le]=(0,l.useState)([]),ne=e=>{const{name:r,value:o}=e.target;J((e=>({...e,[r]:o})))};(0,l.useEffect)((()=>{(async()=>{const e={...q.startDate&&{start_date:q.startDate},...q.endDate&&{end_date:q.endDate},...q.orderId&&{order_id:q.orderId},page:r-1,count:T,status:q.status};F(!0);try{var o,l;let r=await(0,S.yfm)(e);var n,d;!1===(null===r||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)&&200===(null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.statusCode)?(le(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data),B(null===r||void 0===r||null===(d=r.data)||void 0===d?void 0:d.totalCount[0].count)):(le([]),B(0))}catch(i){}finally{F(!1)}})()}),[r,T,E]);const[de,ie]=(0,l.useState)("New"),ae=Math.ceil(L/T),se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(0,R.jsx)(n.A,{children:(0,R.jsx)(d.A,{children:(0,R.jsx)(i.A,{colSpan:e,align:"center",sx:{color:"gray"},children:"No data found"})})})};return(0,R.jsxs)(R.Fragment,{children:[V&&(0,R.jsx)(O.A,{}),(0,R.jsx)(s.A,{sx:{padding:3,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,R.jsx)(t.A,{variant:"h6",sx:{fontWeight:"600",fontSize:"24px",textAlign:"center"},children:"Order Details"})}),(0,R.jsxs)("div",{className:"card",children:[(0,R.jsx)("div",{className:"card-header",children:" "}),(0,R.jsx)("div",{className:"card-body",children:(0,R.jsx)("form",{children:(0,R.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,R.jsxs)("div",{className:"form-group col-md-4",children:[(0,R.jsx)("label",{children:"Start Date"}),(0,R.jsx)("input",{type:"date",name:"startDate",className:"form-control",value:q.startDate,onChange:ne,max:e})]}),(0,R.jsxs)("div",{className:"form-group col-md-4",children:[(0,R.jsx)("label",{children:"End Date"}),(0,R.jsx)("input",{type:"date",name:"endDate",className:"form-control",value:q.endDate,onChange:ne,max:e})]}),(0,R.jsxs)("div",{className:"form-group col-md-4",children:[(0,R.jsx)("label",{children:"Order ID"}),(0,R.jsx)("input",{type:"text",name:"orderId",placeholder:"Order ID",className:"form-control",value:q.orderId,onChange:ne})]}),(0,R.jsxs)("div",{className:"form-group col-md-6 col-lg-4",children:[(0,R.jsx)("label",{children:"\xa0"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>{console.log("Selected Filters:",q),P((e=>!e))},children:"Search"}),(0,R.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{J({startDate:"",endDate:"",orderId:"",status:"New"}),ie("New"),o(1),z(10),P((e=>!e))},children:"Reset"})]})]})]})})})]}),(0,R.jsx)(c.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",mt:2},children:(0,R.jsx)(v.A,{value:de,onChange:(e,r)=>{J((e=>({...e,status:r}))),ie(r),P((e=>!e))},variant:"scrollable",scrollButtons:"auto","aria-label":"Order Status Tabs",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,minWidth:120,color:"#555","&.Mui-selected":{color:"#000000",fontWeight:"bold"}},"& .MuiTabs-indicator":{backgroundColor:"#000000"}},children:Object.entries(M).map((e=>{let[r,o]=e;return(0,R.jsx)(u.A,{label:o,value:r},r)}))})}),(0,R.jsx)(s.A,{sx:{padding:3,borderRadius:2,marginTop:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,R.jsxs)(c.A,{sx:{padding:1},children:[(0,R.jsxs)(h.A,{component:c.A,elevation:3,children:[(0,R.jsxs)(x.A,{children:[(0,R.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(()=>{switch(de){case"New":return(0,R.jsxs)(d.A,{children:[(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"S.No."})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Date"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Product Value"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"E-Way Bill Mandatory"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order ID"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Status"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Action"})})]});case"Ready To Ship":case"Manifested":return(0,R.jsxs)(d.A,{children:[(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"S.No."})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Date"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Product Value"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order ID"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Courier Name"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Tracking Id"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Total Charges"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Status"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Action"})})]});case"Canceled":return(0,R.jsxs)(d.A,{children:[(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"S.No."})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Date"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Product Value"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order ID"})}),(0,R.jsx)(i.A,{children:(0,R.jsx)("strong",{children:"Order Status"})})]});default:return null}})()}),(()=>{switch(de){case"New":return null!==oe&&void 0!==oe&&oe.length?(0,R.jsx)(n.A,{children:null===oe||void 0===oe?void 0:oe.map(((e,o)=>(0,R.jsxs)(d.A,{hover:!0,children:[(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:o+1+(r-1)*T}),(0,R.jsxs)(i.A,{sx:{color:"var(--bs-nav)"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.n_value}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:(null===e||void 0===e?void 0:e.n_value)>=5e4?"YES":"No"}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,R.jsxs)(i.A,{align:"center",children:[(0,R.jsx)(a.A,{variant:"contained",color:"success",onClick:()=>(e=>{var r;Y("/order-ship/?delivery_postcode=".concat(null===e||void 0===e||null===(r=e.shipping_address)||void 0===r?void 0:r.shipping_pincode,"&order_id=").concat(null===e||void 0===e?void 0:e.shipRocket_order_id))})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Ship"}),(0,R.jsx)(_.A,{onClick:r=>$(r,e),children:(0,R.jsx)(N.A,{})})]})]},o)))}):se(7);case"Manifested":return null!==oe&&void 0!==oe&&oe.length?(0,R.jsx)(n.A,{children:null===oe||void 0===oe?void 0:oe.map(((e,o)=>(0,R.jsxs)(d.A,{hover:!0,children:[(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:o+1+(r-1)*T}),(0,R.jsxs)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,R.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,R.jsxs)(i.A,{sx:{minWidth:"300px",textAlign:"center"},children:[(0,R.jsx)(a.A,{variant:"contained",color:"success",onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e.manifest_url){const r=document.createElement("a");return r.href=null===e||void 0===e?void 0:e.manifest_url,r.download=null===e||void 0===e?void 0:e.manifest_url,document.body.appendChild(r),r.click(),void document.body.removeChild(r)}let r={shipment_id:null===e||void 0===e?void 0:e.shipment_id};try{var o,l,n;let e=await(0,S.nJg)(r);if(!1===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.error)){var d,i;const r=document.createElement("a");r.href=null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data.manifest_url,r.download=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data.manifest_url,document.body.appendChild(r),r.click(),document.body.removeChild(r)}(0,D.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),ee(),P((e=>!e))}catch(a){}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Generate Manifeast"}),(0,R.jsx)(_.A,{onClick:r=>$(r,e),children:(0,R.jsx)(N.A,{})})]})]},o)))}):se(11);case"Ready To Ship":return null!==oe&&void 0!==oe&&oe.length?(0,R.jsx)(n.A,{children:null===oe||void 0===oe?void 0:oe.map(((e,o)=>(0,R.jsxs)(d.A,{hover:!0,children:[(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:o+1+(r-1)*T}),(0,R.jsxs)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,R.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,R.jsxs)(i.A,{sx:{minWidth:"250px",textAlign:"center"},children:[(0,R.jsx)(a.A,{variant:"contained",color:"success",onClick:()=>(async e=>{let r={shipment_id:null===e||void 0===e?void 0:e.shipment_id};F(!0);try{var o,l,n;let e=await(0,S.mLl)(r);!1===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.error)&&P((e=>!e)),(0,D.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}catch(d){}finally{F(!1)}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Schedule Pickup"}),(0,R.jsx)(_.A,{onClick:r=>$(r,e),children:(0,R.jsx)(N.A,{})})]})]},o)))}):se(11);case"delivered":return null!==oe&&void 0!==oe&&oe.length?(0,R.jsx)(n.A,{children:null===oe||void 0===oe?void 0:oe.map(((e,o)=>(0,R.jsxs)(d.A,{hover:!0,children:[(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:o+1+(r-1)*T}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveredDate}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveryPerson})]},o)))}):se();case"Canceled":return null!==oe&&void 0!==oe&&oe.length?(0,R.jsx)(n.A,{children:null===oe||void 0===oe?void 0:oe.map(((e,o)=>(0,R.jsxs)(d.A,{hover:!0,children:[(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)"},children:o+1+(r-1)*T}),(0,R.jsxs)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,R.jsx)(i.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus})]},o)))}):se(5);default:return null}})()]}),(0,R.jsxs)(k.A,{anchorEl:U,open:X,onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{borderRadius:2,minWidth:200,bgcolor:"#fff",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",p:1}},MenuListProps:{sx:{py:0}},children:["New"===de&&(0,R.jsx)(p.A,{onClick:()=>{K(!0)},sx:{fontSize:"14px",color:"red",px:2,py:1},children:"Cancel Order"}),(0,R.jsx)(p.A,{onClick:()=>{(async()=>{let e={shipRocket_order_id:null===H||void 0===H?void 0:H.shipRocket_order_id};try{var r,o,l;let i=await(0,S.tKj)(e);if(!1===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.error)){var n,d;const e=document.createElement("a");e.href=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data.invoice_url,e.download=null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.data.invoice_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,D.A)(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error,null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message),ee()}catch(i){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Download Invoice"}),(0,R.jsx)(p.A,{onClick:()=>{(async()=>{console.log("click");let e={shipment_id:null===H||void 0===H?void 0:H.shipment_id};try{var r,o,l;let i=await(0,S.MVw)(e);if(console.log(i,"res"),!1===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.error)){var n,d;const e=document.createElement("a");e.href=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data.label_url,e.download=null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.data.label_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,D.A)(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error,null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message),ee()}catch(i){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Generate Label"}),(0,R.jsx)(p.A,{onClick:()=>{(()=>{const e="/order-details/".concat(null===H||void 0===H?void 0:H.shipRocket_order_id),r=null!==H&&void 0!==H&&H.waybill?"".concat(e,"/").concat(null===H||void 0===H?void 0:H.waybill):e;Y(r)})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"View Order"})]})]}),(0,R.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,R.jsxs)(c.A,{display:"flex",alignItems:"center",gap:2,children:[(0,R.jsxs)(m.A,{size:"small",sx:{width:"150px"},children:[(0,R.jsx)(A.A,{children:"Rows per page"}),(0,R.jsx)(b.A,{value:T,onChange:e=>{z(Number(e.target.value)),o(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((e=>(0,R.jsx)(p.A,{value:e,children:e},e)))})]}),(0,R.jsxs)(t.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",L]})]}),(0,R.jsx)(g.A,{count:ae,page:r,onChange:(e,r)=>{o(r)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})}),(0,R.jsxs)(y.A,{open:G,onClose:re,children:[(0,R.jsx)(f.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,R.jsx)(C.A,{children:(0,R.jsx)(t.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this order? This action cannot be undone."})}),(0,R.jsxs)(w.A,{sx:{px:3,pb:2},children:[(0,R.jsx)(a.A,{onClick:re,color:"inherit",children:"No, Keep Order"}),(0,R.jsx)(a.A,{onClick:async()=>{let e={shipRocket_order_id:null===H||void 0===H?void 0:H.shipRocket_order_id};try{var r,o,l;let n=await(0,S.gUq)(e);!1===(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)&&(re(),ee(),P((e=>!e))),(0,D.A)(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)}catch(n){}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})}},54358:(e,r,o)=>{o.d(r,{A:()=>n});var l=o(91036);function n(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?l.oR.success(r):l.oR.error(r)}}}]);
//# sourceMappingURL=6698.f936105c.chunk.js.map