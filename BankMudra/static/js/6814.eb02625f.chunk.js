(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[6814],{66814:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var o=a(65043),n=a(95702),r=a(72777),l=a(73575),s=a(76245),i=a(70579);const c=function(){const[e,t]=(0,o.useState)(!1),[a,c]=(0,o.useState)(10),[d,u]=(0,o.useState)(0),[m,h]=(0,o.useState)(null),[p,x]=(0,o.useState)(null),[b,f]=(0,o.useState)(null),[g,v]=(0,o.useState)({user_id:"",count:"",page:"",amount:0,end_date:"",start_date:"",operator_id:"",search:"",refundId:""}),y=e=>{const t={...g},a=e.target.value;t[e.target.name]=a,v(t)},j=async e=>{t(!0);const o={...g,count:a,page:e,amount:+g.amount,user_id:window.localStorage.getItem("userIdToken")};try{var n,r,s,i,c,d;const e=await(0,l.BNC)(o);console.log(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.dashboard),h(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.count),x(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.dashboard),k()}catch(u){}t(!1)},[w,N]=(0,o.useState)(),[_,S]=(0,o.useState)(1),k=async()=>{g.min_amt,g.max_amt,window.localStorage.getItem("userIdToken")},[I,T]=(0,o.useState)("");return(0,o.useEffect)((()=>{(()=>{const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(a,"-").concat(o);T(n);const r={...g,start_date:n,end_date:n};v(r)})()}),[]),(0,o.useEffect)((()=>{k(),j(0)}),[]),(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(r.A,{}),(0,i.jsx)("div",{className:"PageHeading",children:(0,i.jsx)("h1",{children:"Recharge History"})}),(0,i.jsxs)("div",{className:"ContentArea",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header"}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("form",{action:"# ",method:"post",name:"frmCallAction",id:"frmCallAction",children:[(0,i.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"txtFrom",children:"Start Date"}),(0,i.jsx)("input",{className:"form-control datefield",id:"txtFrom",name:"start_date",type:"date",max:I,defaultValue:I,placeholder:"Select Date",value:g.start_date,onChange:y})]}),(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"txtTo",children:"End Date"}),(0,i.jsx)("input",{type:"date",name:"end_date",id:"account_no",max:I,defaultValue:I,className:"form-control",value:g.end_date,onChange:y})]}),(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"Amount",children:"Amount"}),(0,i.jsx)("input",{className:"form-control",id:"Amount",name:"amount",type:"number",placeholder:"Amount",value:g.amount,onChange:y})]}),(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"Amount",children:"Operator Id"}),(0,i.jsx)("input",{className:"form-control",id:"Amount",name:"operator_id",type:"text",placeholder:"Operator Id",value:g.operator_id,onChange:y})]}),(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"txtNumId",children:"Search / Mobile"}),(0,i.jsx)("input",{className:"form-control",id:"txtNumId",name:"search",type:"text",placeholder:"Search / Mobile",value:g.search,onChange:y})]}),(0,i.jsxs)("div",{className:"form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"txtNumId",children:"Refund Id"}),(0,i.jsx)("input",{className:"form-control",id:"txtNumId",name:"refundId",type:"text",placeholder:"Refund Id",value:g.refundId,onChange:y})]})]}),(0,i.jsx)("div",{className:"form-row text-align-center",children:(0,i.jsx)("input",{type:"button",id:"btnSearch",name:"btnSearch",defaultValue:"Search",className:"btn btn-primary",onClick:()=>j(0)})})]})})]}),(0,i.jsx)("div",{className:"card mt-2",style:{overflow:"auto"},children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)(n.A,{id:"test-table-xls-button",className:"download-table-xls-button btn btn-success cusxel",table:"table-to-xlsx",filename:"tablexls",sheet:"tablexls",buttonText:"Download Excel sheet"}),(0,i.jsx)("div",{className:"GridUi no-header-footer-grid mt-3",id:"all_transaction",children:(0,i.jsx)("div",{id:"rechargehistorytbl_wrapper",className:"dataTables_wrapper",children:(0,i.jsxs)("table",{id:"table-to-xlsx",className:"table table-striped table-bordered table-hover display fixed_headers dataTable",style:{width:1250},role:"grid","aria-describedby":"rechargehistorytbl_info",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{role:"row",children:[(0,i.jsx)("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-sort":"ascending","aria-label":"Sr No: activate to sort column descending",children:"S.No"}),(0,i.jsx)("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-sort":"ascending","aria-label":"Sr No: activate to sort column descending",children:"Amount"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Recharge ID: activate to sort column ascending",children:"Close Balance"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Txn Id: activate to sort column ascending",children:"Opening Balance"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Txn Id: activate to sort column ascending",children:"Mobile Number"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Recharge  DateTime: activate to sort column ascending",children:"Recharge Mode"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Mobile No: activate to sort column ascending",children:"Com Type"}),(0,i.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"rechargehistorytbl",rowSpan:1,colSpan:1,"aria-label":"Amount: activate to sort column ascending",children:"Is On Spot"})]})}),(0,i.jsx)("tbody",{children:p&&(null===p||void 0===p?void 0:p.map(((e,t)=>{var o;return(0,i.jsxs)("tr",{className:"table-to-xls",children:[(0,i.jsxs)("td",{children:[" ",t+1+d*a,"   "]}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.cbalance}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.obalance}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.number}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.recharge_mode}),(0,i.jsx)("td",{children:null===e||void 0===e?void 0:e.com_type}),(0,i.jsx)("td",{children:null===e||void 0===e||null===(o=e.is_on_spot)||void 0===o?void 0:o.toString()})]},null===e||void 0===e?void 0:e._id)})))})]})})})]})}),(0,i.jsxs)("div",{className:"dataTables_info_page",children:[(0,i.jsxs)("div",{className:"dataTables_info",id:"empoloyees-tblwrapper_info",role:"status","aria-live":"polite",children:["Total ",m,"  entries"]}),(0,i.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"empoloyees-tblwrapper_paginate",children:(0,i.jsx)(s.A,{defaultCurrent:1,onChange:e=>{console.log(e-1),u(e-1),j(e-1)},total:m})})]})]})]})};const d=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c,{})})}},41497:(e,t,a)=>{"use strict";var o=a(13218);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,r,l){if(l!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return a.PropTypes=a,a}},65173:(e,t,a)=>{e.exports=a(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95702:(e,t,a)=>{"use strict";var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=a(65043),r=s(n),l=s(a(65173));function s(e){return e&&e.__esModule?e:{default:e}}var i={table:l.default.string.isRequired,filename:l.default.string.isRequired,sheet:l.default.string.isRequired,id:l.default.string,className:l.default.string,buttonText:l.default.string},c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleDownload=a.handleDownload.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,a=String(this.props.sheet),o=String(this.props.filename)+".xls",n={worksheet:a||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var r=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(r,o)})),!0}var l=window.document.createElement("a");return l.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',n)),l.download=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),!0}},{key:"render",value:function(){return r.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,a){return t[a]}))}}]),t}(n.Component);c.propTypes=i,c.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.A=c}}]);
//# sourceMappingURL=6814.eb02625f.chunk.js.map