"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[6760],{36760:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var r=a(65043),o=a(94434),s=a(15444),n=a(22019),i=a(91686),c=a(93395),l=a(42631),d=a(76245),p=a(86213),m=a(94414),u=a(70579);const{Option:h}=o.A,{Search:g}=s.A,y=e=>{let{BBPSWiseServices:t,dataDetails:a}=e;const[s,y]=(0,r.useState)(null),[x,A]=(0,r.useState)([]),[v,S]=(0,r.useState)(!1),[_,k]=(0,r.useState)(""),[C,j]=(0,r.useState)(1),[f,w]=(0,r.useState)(0);(0,r.useEffect)((()=>{s&&I(C)}),[s,C]);const I=async e=>{S(!0);try{const t=await p.A.get("".concat(m.pc,"package/bbps/commision"),{params:{package_id:null===a||void 0===a?void 0:a._id,service_id:s,page:e-1,count:4},headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(localStorage.getItem("userToken"))}});t.data&&Array.isArray(t.data.data)?(A(t.data.data),w(t.data.totalCount||0)):(console.error("Unexpected response structure:",t.data),n.Ay.error("Unexpected response structure"))}catch(t){console.error("Error fetching operators:",t),n.Ay.error("Failed to fetch operators")}S(!1)},T=x.filter((e=>e.name.toLowerCase().includes(_.toLowerCase()))),B=[{title:"Start Amount",dataIndex:"start_amt",key:"start_amt"},{title:"End Amount",dataIndex:"end_amt",key:"end_amt"},{title:"Charge",dataIndex:"charge",key:"charge"},{title:"Charge Type",dataIndex:"charge_type",key:"charge_type"},{title:"Retailer Commission",dataIndex:"commision",key:"commision"},{title:"Retailer Commission Type",dataIndex:"commision_type",key:"commision_type"}];return(0,u.jsxs)("div",{className:"service-operator-list",children:[(0,u.jsx)("h3",{children:"Service Operator List"}),(0,u.jsx)(o.A,{style:{width:"100%",marginBottom:16},value:s,placeholder:"Please select a service",onChange:e=>{y(e),j(1)},children:t.map((e=>(0,u.jsx)(h,{value:e._id,children:e.service},e._id)))}),s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{placeholder:"Search operators",onChange:e=>{return t=e.target.value,void k(t);var t},style:{marginBottom:16}}),(0,u.jsxs)(i.A,{spinning:v,children:[T.length>0?T.map((e=>(0,u.jsx)(c.A,{title:e.name||"Operator",style:{marginBottom:16},children:(0,u.jsx)(l.A,{dataSource:e.slots,columns:B,pagination:!1,rowKey:"_id",locale:{emptyText:"No data found"}})},e._id))):(0,u.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"No operators found"}),(0,u.jsx)(d.A,{current:C,total:f,pageSize:4,onChange:e=>{j(e)},style:{marginTop:16,textAlign:"right"}})]})]})]})}}}]);
//# sourceMappingURL=6760.f522fde6.chunk.js.map