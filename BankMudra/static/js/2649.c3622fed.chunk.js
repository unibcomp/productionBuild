"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2649],{47763:(e,r,a)=>{a.d(r,{A:()=>i});var t=a(65043),s=a(22019),o=a(73575);const n=()=>(new Date).toISOString().substr(0,10),i=()=>{const e=localStorage.getItem("userType"),[r,a]=(0,t.useState)(n()),[i,l]=(0,t.useState)([]),[d,c]=(0,t.useState)(!1),[u,x]=(0,t.useState)(10),[m,p]=(0,t.useState)(0),[v,h]=(0,t.useState)(null),[b,y]=(0,t.useState)(),[g,f]=(0,t.useState)([]),[j,A]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[C,k]=(0,t.useState)(),[_,N]=(0,t.useState)(1),T=(0,t.useRef)(10),[I,F]=(0,t.useState)({user_id:"",count:"",page:"",min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:""}),M=(0,t.useCallback)((async(e,r)=>{c(!0);const a=void 0!==r?r:T.current,t={...I,count:a,page:e||0,min_amt:+I.min_amt,max_amt:+I.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var s,n,i,l;const e=await(0,o.cnE)(t);h(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.total),f((null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.wallet)||[])}catch(d){console.error("Error fetching data:",d)}c(!1)}),[I]),P=(0,t.useCallback)((e=>{T.current=e,x(e),p(0),F((r=>({...r,count:e,page:0}))),M(0,e)}),[M]);return(0,t.useEffect)((()=>{n(),(async()=>{try{var e;let r=await(0,o.bvp)();l(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.data)}catch(r){console.error("Failed to fetch filter values:",r)}})()}),[]),(0,t.useEffect)((()=>{M(0)}),[]),{currentDate:r,storedUserType:e,allFilter:i,loading:d,count:u,page:m,totalCount:v,transType:b,data:g,allData:j,excelData:w,filterInitial:I,currentCount:T,setCurrentDate:a,setAllFilter:l,setLoading:c,setCount:x,setPage:p,setTotalCount:h,setTransType:y,setData:f,setAllData:A,setExcelData:S,setFilterInitial:F,setSortDirection:k,setDecending:N,handleChange:e=>{const r={...I},a=e.target.value;r[e.target.name]=a,F(r)},getTransitionReport:M,onChangeVal:e=>{p(e-1),M(e-1)},handleSearch:()=>{p(0),M(0)},ResetData:async()=>{c(!0);const e={count:u||10,page:0,min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:"",user_id:window.localStorage.getItem("userIdToken")};y(null);try{var r,a,t,s;const n=await(0,o.cnE)(e);h(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.total),f((null===n||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.wallet)||[]),F({user_id:"",count:"",page:"",min_amt:0,max_amt:0,end_date:"",start_date:"",type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:""}),p(0)}catch(n){console.error("Reset error:",n)}c(!1)},sortByColumn:async e=>{N("asc"==C?1:-1),k("asc"===C?"desc":"asc"),c(!0);const r={...I,count:u,page:m,min_amt:+I.min_amt,max_amt:+I.max_amt,sortType:+_,sortKey:e,user_id:window.localStorage.getItem("userIdToken")};try{var a,t,s,n;const e=await(0,o.cnE)(r);h(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.total),f((null===e||void 0===e||null===(s=e.data)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.wallet)||[])}catch(i){console.error("Sorting failed:",i)}c(!1)},allDataWalletReport:async()=>{const e={...I,count:u,page:m,min_amt:+I.min_amt,max_amt:+I.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var r,a;const t=await(0,o.ORA)(e);A(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.wallet)}catch(t){console.error("All data fetch error:",t)}},handlePageSizeChange:P,prepareExcelDownload:async()=>{c(!0);const e={...I,count:u,page:m,min_amt:+I.min_amt,max_amt:+I.max_amt,user_id:window.localStorage.getItem("userIdToken")};try{var r,a;const t=await(0,o.ORA)(e),n=null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.wallet;if(!n||0===n.length)return s.Ay.error("No data available to export."),void c(!1);S(n),setTimeout((()=>{var e;null===(e=document.getElementById("test-table-xls-button"))||void 0===e||e.click(),c(!1),s.Ay.success("Excel file download initiated.")}),100)}catch(t){console.error("Excel export error:",t),s.Ay.error("Failed to prepare data for export."),c(!1)}},currentDate:r,storedUserType:e,transType:b,setFilterInitial:F,setTransType:y,allFilter:i,excelData:w}}},52100:(e,r,a)=>{a.r(r),a.d(r,{default:()=>_e});var t=a(68903),s=a(94516),o=a(67807),n=a(81045),i=a(94496),l=a(11906),d=a(95263);a.p;a(49867),a(92382);var c=a(70579);var u=a(65043),x=a(73575),m=a(94163),p=(a(38421),a(48885),a(45925)),v=a(91036),h=(a(92342),a(83687));const b=e=>{let{retailerName:r}=e;return(0,c.jsx)("div",{className:"custom-marquee-container",children:(0,c.jsxs)("div",{className:"marquee-content",children:[(0,c.jsx)("span",{className:"congratulations",children:"Congratulations!"}),(0,c.jsxs)("span",{className:"message1111",children:["Dear ",(0,c.jsx)("strong",{children:r}),", now you have become our partner with BankMudraa. So let's grow together. Thank you!"]})]})})};a(55953),a(53816);var y=a(83625),g=a(24056),f=a(73036),j=a(12816),A=a(66620),w=a(77111),S=a(90837),C=a(73216),k=a(35475),_=a(61596),N=a(67254),T=a(67784),I=a(12110),F=a(36591),M=a(26494),P=a(34535),R=a(26240),D=a(51787),E=a(66360),B=a(17200),z=a(94414),W=a(82114);const O=["Search by name","Search by name , Bank Transfer","Search by name , Bank Transfer , Aadhaar withdraw..."],U="#ffffff",L="var(--bs-primary1)",V=((0,P.Ay)(_.A)((e=>{let{theme:r}=e;return{padding:r.spacing(2),textAlign:"center",backgroundColor:U,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"8px",border:"1px solid #e0e0e0",height:"120px",position:"relative",zIndex:0,"&:hover":{transform:"translateY(-5px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 2px 8px",backgroundClip:"border-box"}}})),(0,P.Ay)(s.A)((e=>{let{theme:r}=e;return{backgroundColor:L,borderRadius:"50%",padding:r.spacing(1.5),marginBottom:r.spacing(1.5),display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"-30px",zIndex:10,width:"48px",height:"48px",[r.breakpoints.up("sm")]:{width:"56px",height:"56px"}}})),(0,P.Ay)(N.A)((e=>{let{theme:r}=e;return{margin:r.spacing(2),width:"100%"}})));const q=function(e){let{services:r=[],isInstantpaypresnt:a}=e;(0,C.Zp)();const o=localStorage.getItem("regisNumber"),[n,l]=(0,u.useState)(""),[d,x]=(0,u.useState)(!1),[m,p]=(0,u.useState)(null),[v,h]=(0,u.useState)([]),b=(0,R.A)();(0,f.A)(b.breakpoints.only("xs")),(0,u.useEffect)((()=>{try{if(!Array.isArray(r))throw new Error("Invalid services data received");p(null)}catch(e){p(e),console.error("ServiceGrid initialization error:",e)}}),[r]);const[y,g]=(0,u.useState)(0);(0,u.useEffect)((()=>{const e=setInterval((()=>{g((e=>(e+1)%O.length))}),1e3);return()=>clearInterval(e)}),[]),(0,u.useEffect)((()=>{try{if(!Array.isArray(r))return void h([]);const e=r.filter((e=>{try{if(!e||"undefined"===typeof e.service_name)return!1;const r=String(e.service_name||""),a=String(n||"");return 0===r.localeCompare(a,void 0,{sensitivity:"base"})||r.includes(a)}catch(r){return console.error("Service filtering error:",r),!1}}));h(e)}catch(e){console.error("Filtering error:",e),h([])}}),[r,n]);const j=localStorage.getItem("userType");return m?(0,c.jsxs)(V,{severity:"error",children:[(0,c.jsx)(i.A,{variant:"h6",children:"Error Loading Services"}),(0,c.jsx)(i.A,{variant:"body2",children:m.message})]}):Array.isArray(r)?(0,c.jsxs)(s.A,{sx:{paddingY:{xs:2,sm:3,md:4},backgroundColor:"",paddingX:0,borderRadius:"12px"},children:[(0,c.jsx)(W.A,{currentUser:j,excludeUserList:["Reseller","reseller partner api user"],children:!0!==(null===z.wV||void 0===z.wV?void 0:z.wV.includes(o))&&(0,c.jsx)(s.A,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%",bgcolor:"var(--bs-primary1)",color:"var(--bs-primary2)",p:2,mb:2,borderRadius:2,border:"2px solid var(--bs-primary3)"},children:(0,c.jsx)(B.P.div,{initial:{width:50},animate:{width:d||n?"100%":50},transition:{type:"spring",stiffness:800,damping:15},onHoverStart:()=>x(!0),onHoverEnd:()=>x(!1),style:{width:"100%"},children:(0,c.jsx)(T.A,{variant:"outlined",placeholder:O[y],value:n,onChange:e=>l(e.target.value),onFocus:()=>x(!0),onBlur:()=>x(!1),fullWidth:!0,size:"small",sx:{bgcolor:"var(--bs-primary1)",color:"var(--bs-primary2)",borderRadius:1,"& .MuiOutlinedInput-root":{color:"var(--bs-primary2)","& fieldset":{borderColor:"var(--bs-primary3)",borderWidth:"2px"},"&:hover fieldset":{borderColor:"var(--bs-primary3)",borderWidth:"2px"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary3)",borderWidth:"2px"}},input:{color:"var(--bs-primary2)"}},InputProps:{startAdornment:(0,c.jsx)(D.A,{position:"start",children:(0,c.jsx)(E.A,{sx:{cursor:"pointer",color:"var(--bs-primary2)"}})})}})})})}),0===v.length&&n&&(0,c.jsx)(N.A,{severity:"error",sx:{mb:2},children:"No services found matching your search."}),(0,c.jsx)(t.Ay,{container:!0,spacing:2,children:v.map((e=>{try{const r=(null===e||void 0===e?void 0:e._id)||"",a=(null===e||void 0===e?void 0:e.service_name)||"Unnamed Service",s=(null===e||void 0===e?void 0:e.icon)||"",o=(null===e||void 0===e?void 0:e.route)||"#";return(0,c.jsx)(t.Ay,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,c.jsx)(k.N_,{to:o,children:(0,c.jsxs)(I.A,{className:"boxModel",sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:2,boxShadow:3,borderRadius:2,transition:"transform 0.2s ease-in-out","&:hover":{transform:"scale(1.03)"}},children:[(0,c.jsx)(F.A,{component:"img",src:s,alt:a,loading:"eager",onError:e=>{e.target.onerror=null,e.target.src="/servicesicon.png"},sx:{width:64,height:64,objectFit:"contain",marginBottom:1}}),(0,c.jsx)(M.A,{sx:{padding:0},children:(0,c.jsx)(i.A,{variant:"body2",fontWeight:500,children:a})})]})})},r)}catch(m){return console.error("Service rendering error:",m),null}}))})]}):(0,c.jsx)(V,{severity:"warning",children:"No services available at the moment. Please try again later."})};var H=a(43845),G=a(27108),X=a(15531),K=a(93881),Y=a(74709),Z=a(88645),$=a(59540),Q=a(34642),J=a(17392);const ee=e=>{var r,a,o;let{data:n}=e;return(0,c.jsx)(s.A,{sx:{p:2,color:"var(--bs-primary2)",background:"var(--bs-primary3)"},children:(0,c.jsxs)(t.Ay,{container:!0,spacing:3,children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,c.jsx)(I.A,{sx:{bgcolor:"var(--bs-primary3)",boxShadow:3,borderRadius:2,height:"100%"},children:(0,c.jsxs)(M.A,{children:[(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(J.A,{children:(0,c.jsx)(Z.A,{style:{color:"var(--bs-primary2)"}})}),(0,c.jsxs)(i.A,{variant:"h6",sx:{color:"var(--bs-primary2)",bgcolor:"var(--bs-primary3)",fontWeight:"bold"},children:[null!==(r=null===n||void 0===n?void 0:n.totalCredit)&&void 0!==r?r:0," \u20b9"]})]}),(0,c.jsx)(i.A,{variant:"subtitle2",sx:{textAlign:"center",color:"var(--bs-primary2)",bgcolor:"var(--bs-primary3)",mt:1},children:"Credit"})]})})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,c.jsx)(I.A,{sx:{bgcolor:"var(--bs-primary3)",boxShadow:3,borderRadius:2,height:"100%"},children:(0,c.jsxs)(M.A,{children:[(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(J.A,{children:(0,c.jsx)($.A,{style:{color:"var(--bs-primary2)"}})}),(0,c.jsxs)(i.A,{variant:"h6",sx:{color:"var(--bs-primary2)",fontWeight:"bold"},children:[null!==(a=null===n||void 0===n?void 0:n.totalDebit)&&void 0!==a?a:0," \u20b9"]})]}),(0,c.jsx)(i.A,{variant:"subtitle2",color:"var(--bs-primary2)",sx:{textAlign:"center",mt:1},children:"Debit"})]})})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,c.jsx)(I.A,{sx:{bgcolor:"var(--bs-primary3)",boxShadow:3,borderRadius:2,height:"100%"},children:(0,c.jsxs)(M.A,{children:[(0,c.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsx)(J.A,{children:(0,c.jsx)(Q.A,{style:{color:"var(--bs-primary2)"}})}),(0,c.jsx)(i.A,{variant:"h6",sx:{color:"var(--bs-primary2)",fontWeight:"bold"},children:null!==(o=null===n||void 0===n?void 0:n.totalDisputeCount)&&void 0!==o?o:0})]}),(0,c.jsx)(i.A,{variant:"subtitle2",color:"var(--bs-primary2)",sx:{textAlign:"center",mt:1},children:"Dispute Request"})]})})})]})})},re={success:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Success",key:"success"},failed:{iconBg:"#F44336",border:"#D32F2F",text:"#C62828",label:"Failed",key:"failed"},pending:{iconBg:"#FF9800",border:"#F57C00",text:"#EF6C00",label:"Pending",key:"pending"},refund:{iconBg:"#F44336",border:"#D32F2F",text:"#C62828",label:"Refund",key:"refund"},totalAmount:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Total Amount",key:"totalAmount"},balance_reverse:{iconBg:"#FF9800",border:"#F57C00",text:"#EF6C00",label:"Balance Reverse",key:"balance_reverse"},balance_transfer:{iconBg:"#4CAF50",border:"#388E3C",text:"#2E7D32",label:"Balance Transfer",key:"balance_transfer"},cardGradient:"linear-gradient(135deg, #FFFFFF, #F7F9FC)",titleColor:"#1E88E5"},ae={success:{count:0,totalAmount:0},pending:{count:0,totalAmount:0},failed:{count:0,totalAmount:0},refund:{count:0,totalAmount:0}},te={totalAmount:0,balance_reverse:0,balance_transfer:0,totalCount:0},se=e=>{var r;let{title:a,data:s,url:o}=e;const l=(0,R.A)(),d=(0,f.A)(l.breakpoints.down("sm"));return(0,c.jsx)(I.A,{elevation:4,sx:{height:"100%",background:"var(--bs-primary3)",color:"var(--bs-primary2)",borderRadius:3,p:2,"&:hover":{boxShadow:"0 8px 20px rgba(0, 0, 0, 0.15)",transform:"scale(1.02)",transition:"all 0.3s ease-in-out"}},children:(0,c.jsx)(k.N_,{to:o,children:(0,c.jsxs)(M.A,{children:[(0,c.jsx)(i.A,{variant:d?"h6":"h5",fontWeight:"bold",gutterBottom:!0,sx:{color:"var(--bs-primary2)",textAlign:"center",mb:3,fontSize:"16px"},children:a}),(0,c.jsx)(t.Ay,{container:!0,spacing:2,children:null===(r=Object.keys(s))||void 0===r?void 0:r.filter((e=>!["totalCount"].includes(e))).map((e=>{var r,a,o,i,l,d,u,x,m,p;return(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsx)(H.A,{avatar:(0,c.jsx)(n.A,{sx:{bgcolor:(null===(r=re[e])||void 0===r?void 0:r.iconBg)||(null===re||void 0===re||null===(a=re.success)||void 0===a?void 0:a.iconBg)},children:"success"===e?(0,c.jsx)(X.A,{fontSize:"20px",sx:{fill:"#fff",color:"var(--bs-primary2)"}}):"failed"===e?(0,c.jsx)(K.A,{fontSize:"20px",sx:{fill:"#fff",color:"var(--bs-primary2)"}}):(0,c.jsx)(Y.A,{fontSize:"20px",sx:{fill:"#fff",color:"var(--bs-primary2)"}})}),label:"".concat((null===re||void 0===re||null===(o=re[e])||void 0===o?void 0:o.label)||e||"N/A",": ").concat(null!==(i=null!==(l=null===s||void 0===s||null===(d=s[e])||void 0===d?void 0:d.totalAmount)&&void 0!==l?l:null===s||void 0===s?void 0:s[null===re||void 0===re||null===(u=re[e])||void 0===u?void 0:u.key])&&void 0!==i?i:"0.00"),variant:"outlined",sx:{width:"100%",justifyContent:"flex-start",fontWeight:"bold",p:1,borderColor:(null===(x=re[e])||void 0===x?void 0:x.border)||(null===re||void 0===re||null===(m=re.success)||void 0===m?void 0:m.border),"& .MuiChip-label":{fontWeight:600,color:"var(--bs-primary2)"},"&:hover":{backgroundColor:"".concat(null===(p=re[e])||void 0===p?void 0:p.iconBg,"20")},"& .MuiChip-icon":{fill:"#fff"}}})},e)}))})]})})})},oe=e=>{var r,a,o,n;let{data:l}=e;const d=(new Date).toISOString().split("T")[0],[m,p]=(0,u.useState)(1),v=localStorage.getItem("userType"),[h,b]=(0,u.useState)(""),[y,g]=(0,u.useState)([]),[j,A]=(0,u.useState)(null),[w,S]=(0,u.useState)(),C=(0,R.A)(),[k,_]=(0,u.useState)(d),[N,F]=(0,u.useState)(d),[M,P]=(0,u.useState)(!1),D=((0,f.A)(C.breakpoints.down("sm")),[{title:"Bank Transfer Summary",data:null!==(r=null===w||void 0===w?void 0:w.dmtTxns)&&void 0!==r?r:ae,url:"/super/bank-transfer-report?start-date=".concat(k,"&end-date=").concat(N)},{title:"AEPS Summary",data:null!==(a=null===w||void 0===w?void 0:w.aepsTxns)&&void 0!==a?a:ae,url:"/super/aeps-transfer-report?start-date=".concat(k,"&end-date=").concat(N)},{title:"BBPS Summary",data:null!==(o=null===w||void 0===w?void 0:w.bbpsTxns)&&void 0!==o?o:ae,url:"/super/bbps-report?start-date=".concat(k,"&end-date=").concat(N)},{title:"Fund Transfer Summary",data:null!==(n=null===w||void 0===w?void 0:w.fundTransfer)&&void 0!==n?n:te,url:"/super/fund-transfer-report?start-date=".concat(k,"&end-date=").concat(N)}].filter((e=>e.title.toLowerCase().includes(h.toLowerCase())))),E=(Math.ceil(D.length/10),D.slice(10*(m-1),10*m));return(0,u.useEffect)((()=>{(async()=>{var e;let r=await(0,x.EpH)();var a;!1===(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.error)?g((null===(a=r.data)||void 0===a?void 0:a.data)||[]):g([])})()}),[]),(0,u.useEffect)((()=>{(async()=>{var e;let r={start_date:k,end_date:N};console.log(j,"sel"),j&&(r.retailer_id=null===j||void 0===j?void 0:j._id);let a=await(0,x.rgU)(r);S((null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||null)})()}),[M]),(0,c.jsxs)(s.A,{sx:{flexGrow:1},children:[(0,c.jsx)(I.A,{elevation:0,sx:{p:3,pb:0,mb:0,borderRadius:3,background:"var(--bs-primary3)",color:"var(--bs-primary2)",boxShadow:0},children:(0,c.jsxs)(t.Ay,{container:!0,spacing:2,children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(s.A,{sx:{p:2,paddingX:0,display:"flex",alignItems:"center",justifyContent:"start",gap:2,width:"100%",flexWrap:"wrap"},children:[(0,c.jsx)(T.A,{label:"From",type:"date",size:"small",value:k,onChange:e=>_(e.target.value),InputLabelProps:{shrink:!0},inputProps:{max:d},sx:{flex:1,minWidth:160,background:"var(--bs-primary3)",color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary3)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}}),(0,c.jsx)(T.A,{label:"To",type:"date",size:"small",value:N,onChange:e=>F(e.target.value),InputLabelProps:{shrink:!0},inputProps:{max:d},sx:{flex:1,minWidth:160,background:"var(--bs-primary3)",color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary3)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}}),(0,c.jsx)(W.A,{currentUser:v,excludeUserList:["Reseller"],children:(0,c.jsx)(G.A,{options:y,getOptionLabel:e=>e.name,value:null!==j&&void 0!==j?j:null,size:"small",onChange:(e,r)=>A(r),sx:{flex:1,minWidth:220,flexShrink:0},renderOption:(e,r)=>(0,u.createElement)("li",{...e,key:r.retailer_id},(0,c.jsx)(s.A,{sx:{fontSize:"13px",color:"var(--bs-primary2)"},display:"flex",columnGap:1.5,alignItems:"center",children:r.name})),renderInput:e=>(0,c.jsx)(T.A,{...e,label:"Select Retailer",InputLabelProps:{sx:{"&.MuiInputLabel-root:not(.MuiInputLabel-shrink)":{top:"-3px"},color:"var(--bs-primary2)","& .MuiInputBase-root":{backgroundColor:"var(--bs-primary3)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}}})})})]})}),(0,c.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,c.jsx)("button",{style:{background:"var(--bs-primary1)",color:"var(--bs-primary2)"},type:"button",className:"btn",onClick:()=>{P((e=>!e))},children:"Search"}),(0,c.jsx)("button",{style:{background:"var(--bs-primary1)",color:"var(--bs-primary2)"},type:"button",className:"btn",onClick:()=>{F(""),_(""),A(null),P((e=>!e))},children:"Reset"})]})]})}),(0,c.jsx)(ee,{data:w}),(0,c.jsx)(W.A,{currentUser:v,excludeUserList:["Reseller"],children:(0,c.jsxs)(I.A,{sx:{p:3,pb:0,borderRadius:3,boxShadow:0,background:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"h4",fontSize:"20px",mb:2,gutterBottom:!0,fontWeight:"bold",color:"var(--bs-primary2)",align:"center",children:"Business Summary"}),(0,c.jsx)(t.Ay,{container:!0,spacing:3,sx:{mb:4,color:"var(--bs-primary2)",backgroundColor:"var(--bs-primary1)"},children:E.length>0?E.map(((e,r)=>(0,c.jsx)(t.Ay,{item:!0,xs:12,md:6,children:(0,c.jsx)(se,{title:e.title,data:e.data,url:e.url})},r))):(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"h6",color:"var(--bs-primary2)",align:"center",children:['No data found for "',h,'"']})})})]})})]})},ne=e=>"Api User"===localStorage.getItem("userType")?null:e,ie={background:"var(--bs-primary3)"},le={regular:400,medium:500,bold:700},de={small:"14px",medium:"16px",large:"20px"},ce=e=>"".concat(8*e,"px"),ue={sm:"600px"},xe=(0,A.A)(y.A)({display:"none","& .MuiTabs-indicator":{backgroundColor:ie.background,height:3,display:"none"}}),me=(0,A.A)(g.A)({textTransform:"none",fontWeight:le.medium,fontSize:de.medium,marginRight:ce(4),["@media (max-width: ".concat(ue.sm,")")]:{fontSize:de.small,marginRight:ce(2)}}),pe=(0,A.A)(s.A)({padding:ce(3),["@media (max-width: ".concat(ue.sm,")")]:{padding:ce(2)}}),ve=e=>{let{storedUserType:r,services:a,data:t,isInstantpaypresnt:o}=e;const[n,i]=(0,u.useState)(null),l=(0,f.A)("(max-width: ".concat(ue.sm,")"));(0,u.useEffect)((()=>{i("zsm"===r||"asm"===r||"Super Distributor"===r||"Distributor"===r?1:0)}),[r]);return"Retailer"!=r&&1===n?(0,c.jsx)(s.A,{sx:{p:ce(3)},children:(0,c.jsx)(oe,{data:t})}):(0,c.jsxs)(j.A,{sx:{p:0,backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsxs)(xe,{value:n,onChange:(e,r)=>{i(r)},"aria-label":"dashboard tabs",variant:l?"fullWidth":"standard",centered:!l,children:[(0,c.jsx)(me,{icon:(0,c.jsx)(w.A,{}),label:"Services"}),ne((0,c.jsx)(me,{icon:(0,c.jsx)(S.A,{}),label:"Transactions"}))]}),(0,c.jsxs)(pe,{sx:{p:0},children:[0===n&&(0,c.jsx)(q,{services:a,isInstantpaypresnt:o}),1===n&&(0,c.jsx)(s.A,{children:(0,c.jsx)(oe,{data:t})})]})]})},he=e=>{let{modalVisibility:r,handleCloseModal3:a,handleSubmitmodal3:t,storedUserid:s,setModalVisibility:o,getUserTpinStatus:n}=e;const[i,l]=(0,u.useState)(new Array(6).fill("")),[d,m]=(0,u.useState)(120),[p,h]=(0,u.useState)(!1),[b,y]=(0,u.useState)(!1),[g,f]=(0,u.useState)(!1),[j,A]=(0,u.useState)(""),[w,S]=(0,u.useState)(""),C=(0,u.useRef)([]),k=(0,u.useRef)(null),_=(0,u.useCallback)((e=>{const r=Math.floor(e/60),a=e%60;return"".concat(String(r).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))}),[]),N=(0,u.useCallback)((()=>{k.current&&clearInterval(k.current),m(120),h(!1),k.current=setInterval((()=>{m((e=>e<=1?(clearInterval(k.current),h(!0),0):e-1))}),1e3)}),[]);(0,u.useEffect)((()=>(r.showModal3&&N(),()=>{k.current&&clearInterval(k.current)})),[r.showModal3,N]);const T=(0,u.useCallback)(((e,r)=>{const a=[...i];a[e]=r.slice(0,1),l(a),r&&e<5&&C.current[e+1]&&C.current[e+1].focus()}),[i]),I=(0,u.useCallback)(((e,r)=>{"Backspace"===r.key&&!i[e]&&e>0&&C.current[e-1]&&C.current[e-1].focus()}),[i]),F=(0,u.useCallback)((async()=>{y(!0),S(""),A("");try{200===(await(0,x.Ei8)({user_id:s})).status?(A("OTP has been resent successfully."),N(),l(new Array(6).fill(""))):S("Failed to resend OTP.")}catch(w){S("Failed to resend OTP.")}finally{y(!1)}}),[s,N]),M=(0,u.useCallback)((async()=>{f(!0),A(""),S("");try{var e;const o=await(0,x.B1X)({user_id:s,otp:i.join("")});var r,a;if("200"==(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.statusCode))A("OTP verified successfully."),v.oR.success("OTP verified successfully."),n("OV"),t();else S((null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)||"Failed to verify OTP."),v.oR.error((null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Failed to verify OTP.")}catch(w){S("Failed to verify OTP."),v.oR.error("Failed to verify OTP.")}finally{f(!1)}}),[s,i,t,n]);return r.showModal3?(0,c.jsx)("div",{className:"modal fade modal-cssclasss mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog",children:(0,c.jsx)("div",{className:"modal-dialog",role:"document",children:(0,c.jsxs)("div",{className:"modal-content modal-content-otp",children:[(0,c.jsx)("div",{className:"modal-header text-center",children:(0,c.jsx)("h5",{className:"modal-title modaltitle-otp",children:"OTP Verification"})}),(0,c.jsx)("div",{className:"modal-body",children:p?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"We've sent a 6-digit verification code to your mobile number, please enter it here!"}),(0,c.jsx)("button",{type:"button",className:"btn btn-resend-otp",onClick:F,children:b?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Resend OTP"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"We've sent a 6-digit verification code to your mobile number, please enter it here!!"}),(0,c.jsxs)("div",{className:"verification-timer",children:["OTP expires in ",_(d)," ",(0,c.jsx)("span",{className:"resend-otp",style:{cursor:p?"pointer":"default",color:p?"blue":"gray",pointerEvents:p?"auto":"none"},onClick:F,children:"Resend OTP"})]}),(0,c.jsx)("div",{className:"otp-inputs",children:i.map(((e,r)=>(0,c.jsx)("input",{type:"number",maxLength:"1",value:e,onChange:e=>T(r,e.target.value),onKeyDown:e=>I(r,e),ref:e=>C.current[r]=e,className:"otp-input"},r)))}),(0,c.jsx)("button",{type:"button",className:"btn btn-submit-otp",onClick:M,disabled:i.some((e=>""===e))||g,children:g?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Submit OTP"}),j&&(0,c.jsx)("div",{className:"alert alert-success mt-3",children:j}),w&&(0,c.jsx)("div",{className:"alert alert-danger mt-3",children:w})]})})]})})}):null},be=u.memo(he);const ye=function(e){let{walletData:r,services:a,isInstantpaypresnt:t={isInstantpaypresnt:t}}=e;const[s,o]=(0,u.useState)({}),[n,i]=(0,u.useState)(""),[l,y]=(0,u.useState)(!1),[g,f]=(0,u.useState)(!1),[j,A]=(0,u.useState)(""),[w,S]=(0,u.useState)(""),[C,k]=(0,u.useState)(!1),[_,N]=(0,u.useState)(!1),[T,I]=(0,u.useState)(null),[F,M]=(0,u.useState)(null),[P,R]=(0,u.useState)(""),[D,E]=(0,u.useState)(""),[B,z]=(0,u.useState)(!1),[W,O]=(0,u.useState)(""),[U,L]=(0,u.useState)(""),[V,q]=(0,u.useState)(""),[H,G]=(0,u.useState)(""),X=localStorage.getItem("userIdToken");console.log("storedUserid",X);const[K,Y]=(0,u.useState)(!1),[Z,$]=(0,u.useState)(!1),[Q,J]=(0,u.useState)(180),[ee,re]=(0,u.useState)(!1),[ae,te]=(0,u.useState)(!1),[se,oe]=(0,u.useState)(!0),[ne,ie]=(0,u.useState)({showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1}),le=()=>{ie((e=>({...e,showModal:!1,showOverlay:!1}))),R(""),E("")},de=e=>{ie((e=>({...e,showModal3:!1,showModal2:!0})))};(0,u.useEffect)((()=>{(async()=>{const e=new Date;let r=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),s="".concat(t,"-").concat(a,"-").concat(r);try{var n;const e=await(0,x.pth)(s);o(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}catch(i){console.error(i)}})();const e=localStorage.getItem("userTpinstatus");I(e)}),[]),(0,u.useEffect)((()=>{null!==T&&ie("CV"===T?{showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1}:"NP"===T||null===T||void 0===T||""===T||"undefined"==T?{showModal:!0,showModal2:!1,showModal3:!1,showOverlay:!0}:"OV"===T?{showModal:!1,showModal2:!0,showModal3:!1,showOverlay:!0}:{showModal:!1,showModal2:!1,showModal3:!1,showOverlay:!1})}),[T]);const[ce,ue]=(0,u.useState)(new Array(6).fill(""));(0,u.useRef)([]),ce.includes(""),new Array(6).fill(null),function(){var e=window.localStorage.getItem("regisNumber"),r="";e?r="+"==e.charAt(0)||"0"==e.charAt(0)?e.replace(/[^a-zA-Z0-9+]/g,"").substr(3):e.replace(/[^a-zA-Z0-9]/g,""):console.log("No registration number found in localStorage.")}(),(0,u.useEffect)((()=>{let e;return console.log(" timeLeft:",Q,"isTimerEnded:",ee),Q>0&&!ee?e=setTimeout((()=>{console.log("Decreasing timeLeft:",Q-1),J((e=>e-1))}),1e3):0!==Q||ee||(re(!0),console.log("Timer ended")),()=>clearTimeout(e)}),[]);const xe=localStorage.getItem("userType"),me=r?null===r||void 0===r?void 0:r.name:"";return(0,u.useEffect)((()=>{(async()=>{try{const e=await(0,x.SpX)();console.log("ledgerreport report Service Report Data:",e)}catch(e){console.error("Error fetching commission service report data:",e)}})()}),[]),(0,c.jsxs)(c.Fragment,{children:[ne.showOverlay&&(0,c.jsx)("div",{className:"overlay modalpinoverlayclass"}),(0,c.jsx)("div",{className:"ContentArea",children:(0,c.jsxs)("div",{className:"card",style:{backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsx)(b,{retailerName:me}),(0,c.jsx)(ve,{storedUserType:xe,services:a,data:s,isInstantpaypresnt:t})]})}),ne.showModal&&(0,c.jsx)("div",{className:"modal fade mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",onHide:le,children:(0,c.jsx)("div",{className:"lock-screen",children:(0,c.jsxs)("div",{className:"lock-screen__content",children:[(0,c.jsx)("div",{className:"image-bg",children:(0,c.jsx)("img",{className:"lock-screen__imgae",src:p,alt:"bankmudraa"})}),(0,c.jsx)("h2",{className:"lock-screen__message mt-3",style:{color:"var(--bs-primary2)"},children:"Generate Tpin for secure payments."}),(0,c.jsx)("p",{className:"lock-screen__instruction",style:{color:"var(--bs-primary2)"},children:"Click on button to generate Tpin"}),(0,c.jsx)("button",{className:"unlock-button",onClick:async()=>{y(!0);try{const e=await(0,x.Bwk)({});y(!1),e&&e.data&&!1===e.data.error?(v.oR.success("verified successfully"),console.log("tpin generated"),R(e.data.message),le(),ie((e=>({...e,showModal3:!0,showOverlay:!0})))):(E("Failed to generate TPIN"),v.oR.error("Failed to generate TPIN"))}catch(e){y(!1),E("Failed to generate OTP for Tpin"),v.oR.error("Failed to generate TPIN")}},style:{color:"var(--bs-primary2)",border:"1px solid var(--bs-primary3)"},children:l?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Generate Tpin"}),P&&(0,c.jsx)("div",{className:"alert alert-success mt-1",role:"alert",style:{color:"var(--bs-primary2)"},children:P}),D&&(0,c.jsx)("div",{className:"alert alert-danger mt-1",role:"alert",children:D})]})})}),ne.showModal3&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(be,{modalVisibility:ne,handleCloseModal3:()=>{ie((e=>({...e,showModal3:!1,showOverlay:!1})))},handleSubmitmodal3:de,storedUserid:X,setModalVisibility:ie,getUserTpinStatus:h.rp})}),ne.showModal2&&(0,c.jsx)("div",{className:"modal fade modal-cssclasss mediaqurymodalpop show d-block",tabIndex:"-1",role:"dialog",children:(0,c.jsx)("div",{className:"modal-dialog getpinmodal",role:"document",children:(0,c.jsxs)("div",{className:"modal-content text-center",children:[(0,c.jsx)("div",{className:"modal-header text-center",children:(0,c.jsx)("h5",{className:"modal-title modaltitle-otp",children:"Create your Tpin"})}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)("div",{className:"col-lg-12",children:(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),4===j.length&&4===w.length&&j===w){f(!0),q(""),G("");try{var r;const{latitude:e,longitude:a}=await new Promise(((e,r)=>{if(!navigator.geolocation)return r("Geolocation is not supported by this browser");navigator.geolocation.getCurrentPosition((r=>{let{coords:a}=r;e({latitude:a.latitude,longitude:a.longitude})}),(e=>r(e)))})),t=await(0,x.Dm7)({user_id:X,genTpin:j,confirmTpin:w,latitude:e,longitude:a});"200"==(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.statusCode)?((0,h.rp)("CV"),q("New TPIN generated successfully."),v.oR.success("New TPIN generated successfully!"),ie((e=>({...e,showModal2:!1,showOverlay:!1})))):(G("Failed to generate TPIN."),v.oR.error("Failed to generate TPIN."))}catch(a){G("Failed to generate TPIN."),v.oR.error("Failed to generate TPIN.")}finally{f(!1)}}else N(!0)},children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("input",{type:K?"text":"password",className:"form-control ".concat(4!==j.length||C?"":"is-valid"),id:"newPin",value:j,onChange:e=>{const r=e.target.value;/^\d{0,6}$/.test(r)?(A(r),k(4!==r.length)):k(!0)},placeholder:"Enter new PIN","aria-label":"New PIN","aria-describedby":"basic-addon1",required:!0}),4===j.length&&!C&&(0,c.jsx)("span",{className:"position-absolute top-50 end-0 translate-middle-y pe-2",children:(0,c.jsx)(m.RXm,{})}),(0,c.jsx)("button",{className:"btn ",style:{borderColor:"#aaaaaa57"},type:"button",onClick:()=>Y(!K),children:K?(0,c.jsx)(d.mx3,{}):(0,c.jsx)(d.Ny1,{})})]}),C&&(0,c.jsx)("div",{className:"text-danger",children:"Please enter exactly 4 numeric digits."})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("input",{type:Z?"text":"password",className:"form-control ".concat(4!==w.length||_?"":"is-valid"),id:"confirmPin",value:w,onChange:e=>{const r=e.target.value;/^\d{0,6}$/.test(r)?(S(r),N(4!==r.length||r!==j)):N(!0)},placeholder:"Confirm new PIN","aria-label":"Confirm PIN","aria-describedby":"basic-addon2",required:!0}),(0,c.jsx)("button",{className:"btn ",style:{borderColor:"#aaaaaa57"},type:"button",onClick:()=>$(!Z),children:Z?(0,c.jsx)(d.mx3,{}):(0,c.jsx)(d.Ny1,{})})]}),_&&(0,c.jsx)("div",{className:"text-danger",children:"PINs do not match or are not 4 digits."})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-submit-otp",disabled:C||_||4!==j.length||4!==w.length,children:g?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Submit"}),V&&(0,c.jsx)("div",{className:"alert alert-success mt-3",children:V}),H&&(0,c.jsx)("div",{className:"alert alert-danger mt-3",children:H})]})})})]})})})]})};var ge=a(35717),fe=a(25284),je=a(14282),Ae=a(39336);const we=e=>{var r;let{show:a,handleClose:s,profiledata:l}=e;if(!l)return null;const d=(null===l||void 0===l?void 0:l.businessInfo)||{},u=(null===l||void 0===l?void 0:l.bankDetails)||{},x=(null===l||void 0===l||null===(r=l.user_type_id)||void 0===r?void 0:r.user_type)||"-";return(0,c.jsxs)(fe.A,{show:a,onHide:s,centered:!0,size:"md",className:"custom-modal",backdrop:"static",children:[(0,c.jsx)(fe.A.Header,{closeButton:!0,style:{backgroundColor:"var(--bs-primary1)"},children:(0,c.jsx)(fe.A.Title,{style:{color:"var(--bs-primary2)"},children:"Profile Details"})}),(0,c.jsxs)(fe.A.Body,{style:{backgroundColor:"var(--bs-primary1)",maxHeight:"70vh",overflowY:"auto"},children:[(0,c.jsxs)(o.A,{alignItems:"center",spacing:1.5,mb:2,children:[(0,c.jsx)(n.A,{src:(0,ge.q)(null===l||void 0===l?void 0:l.profile),sx:{width:90,height:90,border:"2px solid var(--bs-primary2)",boxShadow:"0 0 10px rgba(0,0,0,0.2)"}}),(0,c.jsx)(i.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",color:"var(--bs-primary2)"},children:(null===l||void 0===l?void 0:l.name)||"\u2014"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",textAlign:"center"},children:["Code: ",(null===l||void 0===l?void 0:l.refer_id)||"N/A"]})]}),(0,c.jsx)(o.A,{direction:"row",spacing:1.5,justifyContent:"center",mb:2,flexWrap:"wrap",children:[{label:"Main",value:null===l||void 0===l?void 0:l.main_wallet},{label:"AEPS",value:null===l||void 0===l?void 0:l.aeps_wallet},{label:"Cashback",value:null===l||void 0===l?void 0:l.cashback_wallet},{label:"Locking",value:null===l||void 0===l?void 0:l.locking_amt}].map((e=>(0,c.jsxs)(_.A,{sx:{p:1.5,minWidth:80,textAlign:"center",backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)",mb:1},children:[(0,c.jsx)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",fontWeight:600},children:e.label}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:["\u20b9",e.value||0]})]},e.label)))}),(0,c.jsx)(Ae.A,{sx:{mb:2,borderColor:"var(--bs-primary2)"}}),(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Personal Information"}),(0,c.jsxs)(t.Ay,{container:!0,spacing:1,children:[(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Email:"})," ",(null===l||void 0===l?void 0:l.email)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Mobile:"})," ",(null===l||void 0===l?void 0:l.mobile)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"State:"})," ",(null===l||void 0===l?void 0:l.state)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"PIN:"})," ",(null===l||void 0===l?void 0:l.pinCode)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:12,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Address:"})," ",(null===l||void 0===l?void 0:l.presentAddr)||"\u2014"]})}),(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"User Type:"})," ",x]})}),(0,c.jsx)(t.Ay,{item:!0,xs:6,children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Education:"})," ",(null===l||void 0===l?void 0:l.educationQualification)||"\u2014"]})})]})]}),(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Business Information"}),null!==l&&void 0!==l&&l.isGstAvailable?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"GST Number:"})," ",(null===d||void 0===d?void 0:d.gst_NUmber)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Legal Name:"})," ",(null===d||void 0===d?void 0:d.legal_name_of_business)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Business Type:"})," ",(null===d||void 0===d?void 0:d.constitution_of_business)||"\u2014"]})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Shop Name:"})," ",(null===l||void 0===l?void 0:l.shop_name)||"\u2014"]})}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Address:"})," ",(null===d||void 0===d?void 0:d.business_Address)||(null===l||void 0===l?void 0:l.business_Address)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Area:"})," ",(null===d||void 0===d?void 0:d.business_Area)||(null===l||void 0===l?void 0:l.business_Area)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"City:"})," ",(null===d||void 0===d?void 0:d.business_city)||(null===l||void 0===l?void 0:l.business_city)||"\u2014"]})]}),u&&(0,c.jsxs)(_.A,{elevation:2,sx:{p:2,mb:2,backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)"},children:[(0,c.jsx)(i.A,{variant:"subtitle1",sx:{fontWeight:600,color:"var(--bs-primary2)",mb:1},children:"Bank Details"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Bank Name:"})," ",(null===u||void 0===u?void 0:u.bank_name)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"Account Number:"})," ",(null===u||void 0===u?void 0:u.bank_account_number)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",mb:1},children:[(0,c.jsx)("strong",{children:"IFSC:"})," ",(null===u||void 0===u?void 0:u.bank_ifsc)||"\u2014"]}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)"},children:[(0,c.jsx)("strong",{children:"Account Holder:"})," ",(null===u||void 0===u?void 0:u.bank_account_name)||"\u2014"]})]})]}),(0,c.jsx)(fe.A.Footer,{style:{backgroundColor:"var(--bs-primary1)"},children:(0,c.jsx)(je.A,{variant:"secondary",onClick:s,children:"Close"})})]})};var Se=a(47763),Ce=a(90035);function ke(e){let{data:r}=e;const[a,t]=(0,u.useState)(null);return(0,c.jsxs)(s.A,{sx:{width:"100%",bgcolor:"#fff",p:1,borderRadius:2},children:[r.slice(0,5).map(((e,r)=>(0,c.jsxs)(s.A,{children:[(0,c.jsxs)(s.A,{onClick:()=>t(e),sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:1,py:1.4,gap:1,flexWrap:"nowrap",cursor:"pointer"},children:[(0,c.jsxs)(s.A,{sx:{flex:1,minWidth:0,overflow:"hidden"},children:[(0,c.jsx)(i.A,{sx:{fontSize:"14px",fontWeight:600,color:"#222",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.message}),(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777",whiteSpace:"nowrap"},children:e.createdAt})]}),(0,c.jsx)(i.A,{sx:{fontWeight:700,fontSize:"15px",whiteSpace:"nowrap",color:"credit"===e.type?"green":"red"},children:"credit"===e.type?"+ \u20b9".concat(e.amount):"- \u20b9".concat(e.amount)})]}),r<4&&(0,c.jsx)(Ae.A,{sx:{opacity:.4,my:.5}})]},e._id))),(0,c.jsx)(Ce.A,{open:Boolean(a),onClose:()=>t(null),sx:{"& .MuiPaper-root":{width:"380px",borderRadius:4,p:3}},children:a&&(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"18px",fontWeight:700,textAlign:"center",mb:1},children:"Transaction Details"}),(0,c.jsx)(Ae.A,{sx:{my:2}}),(0,c.jsx)(i.A,{sx:{fontSize:"16px",fontWeight:600,mb:2},children:a.message}),(0,c.jsx)(s.A,{sx:{bgcolor:"credit"===a.type?"#e8fbe8":"#fde8e8",p:2,borderRadius:3,textAlign:"center",mb:2},children:(0,c.jsx)(i.A,{sx:{fontSize:"22px",fontWeight:700,color:"credit"===a.type?"green":"red"},children:"credit"===a.type?"+ \u20b9".concat(a.amount):"- \u20b9".concat(a.amount)})}),(0,c.jsxs)(s.A,{sx:{display:"grid",gap:1.5},children:[(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"Transaction Type"}),(0,c.jsx)(i.A,{sx:{fontWeight:600},children:a.trans_type})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"Date"}),(0,c.jsx)(i.A,{sx:{fontWeight:600},children:a.createdAt})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"Old Balance"}),(0,c.jsxs)(i.A,{sx:{fontWeight:600},children:["\u20b9",a.o_bal]})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"New Balance"}),(0,c.jsxs)(i.A,{sx:{fontWeight:600},children:["\u20b9",a.c_bal]})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"Txn ID"}),(0,c.jsx)(i.A,{sx:{fontWeight:600,wordBreak:"break-all"},children:a.txn_id})]}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{sx:{fontSize:"12px",color:"#777"},children:"Order ID"}),(0,c.jsx)(i.A,{sx:{fontWeight:600,wordBreak:"break-all"},children:a.order_id})]})]}),(0,c.jsx)(Ae.A,{sx:{my:3}})]})})]})}const _e=function(e){let{profiledata:r,walletData:a,services:d,position:x,isInstantpaypresnt:m}=e;const p=(0,C.Zp)(),[v,h]=(0,u.useState)(!1),[b,y]=(0,u.useState)(!1),{data:g}=(0,Se.A)();return(0,c.jsxs)(t.Ay,{container:!0,sx:{height:"100%",overflow:"auto",backgroundColor:"var(--bs-primary3)"},children:[(0,c.jsx)(t.Ay,{item:!0,xs:12,md:10.2,sx:{height:"100%",overflowY:"auto",pr:2,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:(0,c.jsx)(ye,{walletData:a,services:d,position:x,isInstantpaypresnt:m})}),(0,c.jsxs)(t.Ay,{item:!0,xs:12,md:1.8,sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[(0,c.jsx)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,textAlign:"center",backgroundColor:"var(--bs-primary1)"},children:(0,c.jsxs)(o.A,{alignItems:"center",spacing:1,children:[(0,c.jsx)(n.A,{src:(0,ge.q)(null===r||void 0===r?void 0:r.profile),sx:{width:70,height:70,border:"2px solid var(--bs-primary3)",boxShadow:"0 0 10px rgba(0,0,0,0.1)"}}),(0,c.jsx)(i.A,{variant:"subtitle1",sx:{color:"var(--bs-primary2)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:600,width:"100%"},children:(null===r||void 0===r?void 0:r.name)||"\u2014"}),(0,c.jsxs)(i.A,{variant:"body2",sx:{color:"var(--bs-primary2)",fontSize:"14px"},children:["Balance: \u20b9",b?(null===r||void 0===r?void 0:r.main_wallet)||0:"XXXX"]}),(0,c.jsx)(l.A,{variant:"contained",size:"small",sx:{backgroundColor:"var(--bs-primary3)",textTransform:"none",fontSize:"13px",color:"var(--bs-primary2)",mt:1},onClick:()=>y(!b),children:b?"Viewed":"Show Balance"}),(0,c.jsx)(l.A,{variant:"outlined",size:"small",sx:{textTransform:"none",fontSize:"13px",mt:1,width:"100%",color:"var(--bs-primary2)",borderColor:"var(--bs-primary3)"},onClick:()=>h(!0),children:"View Profile"})]})}),(0,c.jsxs)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,backgroundColor:"var(--bs-primary1)"},children:[(0,c.jsx)(i.A,{variant:"h6",sx:{fontSize:"16px",fontWeight:600,color:"var(--bs-primary2)",mb:1,textAlign:"center"},children:"Help Center"}),(0,c.jsx)(i.A,{variant:"body2",sx:{fontSize:"13px",textAlign:"center",color:"var(--bs-primary2)"},children:"\ud83d\udcde +91 1242262222"}),(0,c.jsx)(i.A,{variant:"body2",sx:{fontSize:"13px",textAlign:"center",color:"var(--bs-primary2)"},children:"\u2709\ufe0f support@bankmudraa.com"}),(0,c.jsx)(l.A,{variant:"outlined",size:"small",sx:{textTransform:"none",fontSize:"13px",mt:1.5,borderColor:"var(--bs-primary3)",color:"var(--bs-primary2)",width:"100%"},onClick:()=>window.location.href="mailto:support@bankmudraa.com?subject=Support Request&body=Hello BankMudraa Support,",children:"Contact Us"})]}),(0,c.jsxs)(s.A,{sx:{width:"100%",color:"var(--bs-primary2)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",p:2,backgroundColor:"var(--bs-primary1)"},children:[(0,c.jsx)(i.A,{variant:"h6",sx:{fontSize:"16px",fontWeight:600,color:"var(--bs-primary2)",mb:1,textAlign:"center"},children:"Recent Transactions"}),(0,c.jsx)(ke,{data:g}),(0,c.jsx)(l.A,{variant:"text",size:"small",onClick:()=>p("/wallet-report"),sx:{textTransform:"none",fontSize:"13px",mt:1,color:"var(--bs-primary2)",width:"100%"},children:"View More \u2192"})]})]}),(0,c.jsx)(we,{show:v,handleClose:()=>h(!1),profiledata:r})]})}},82114:(e,r,a)=>{a.d(r,{A:()=>s});var t=a(70579);const s=e=>{let{currentUser:r,allowUserList:a=[],excludeUserList:s=[],children:o}=e;return s.includes(r)||a.length>0&&!a.includes(r)?null:(0,t.jsx)(t.Fragment,{children:o})}},35717:(e,r,a)=>{a.d(r,{q:()=>s});var t=a(94414);const s=e=>t.cu+(e||"")},45925:(e,r,a)=>{e.exports=a.p+"static/media/transparentLogo.b9ade7f4ea3f01c7af05.png"}}]);
//# sourceMappingURL=2649.c3622fed.chunk.js.map