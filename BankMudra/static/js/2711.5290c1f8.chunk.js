"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2711,4516],{62711:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var r=a(65043),n=a(72777),l=a(22019),o=a(94434),i=a(73575),s=a(27108),d=a(94516),c=a(67784),u=a(53193),p=a(18356),h=a(72221),v=a(32143),m=a(94496),x=a(59135),b=a(14282),g=a(11238),y=a(39574),f=a(70579);const j=e=>{let{title:t}=e;const a=(new Date).toISOString().split("T")[0],{startDate:j,endDate:_}=(0,y.x)(),[A,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(1),[M,B]=(0,r.useState)([]),[R,D]=(0,r.useState)(null),[k,I]=(0,r.useState)(0),[O,W]=(0,r.useState)(!1),[P,z]=(0,r.useState)([]),[E,L]=(0,r.useState)(10),[U,F]=(0,r.useState)({start_date:j,end_date:_,trans_type:"",user_mobile:"",user_type:""}),H=e=>{const{name:t,value:a}=e.target;F((e=>({...e,[t]:a})))},J=(e,t)=>{F((a=>({...a,[t]:e})))};(0,r.useEffect)((()=>{(async()=>{try{var e;let a=await(0,i.EpH)();var t;!1===(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.error)?B((null===(t=a.data)||void 0===t?void 0:t.data)||[]):B([])}catch(a){console.error(a),B([])}})()}),[]);(0,r.useEffect)((()=>{(async()=>{N(!0);try{var e;const n=await(0,i.aKH)({...U,retailer_id:(null===R||void 0===R?void 0:R._id)||"",page:C,count:E});var t,a,r;!1===(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.error)?(z((null===(t=n.data)||void 0===t?void 0:t.data)||[]),I((null===(a=n.data)||void 0===a?void 0:a.totalCount)||0)):(z([]),I(0),l.Ay.error((null===(r=n.data)||void 0===r?void 0:r.message)||"Something went wrong"))}catch(n){}finally{N(!1)}})()}),[O,C,E]);const K=Math.ceil(k/E);return(0,f.jsxs)(f.Fragment,{children:[A&&(0,f.jsx)(n.A,{}),t&&(0,f.jsx)("h3",{className:"mt-3 mb-3",style:{color:"var(--bs-primary2)",fontWeight:700,borderBottom:"1px solid var(--bs-primary2)",paddingBottom:"8px"},children:t}),(0,f.jsx)("div",{className:"card",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsx)("form",{children:(0,f.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"Start Date"}),(0,f.jsx)("input",{type:"date",name:"start_date",className:"form-control",max:a,value:U.start_date,onChange:H})]}),(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"End Date"}),(0,f.jsx)("input",{type:"date",name:"end_date",className:"form-control",max:a,value:U.end_date,onChange:H})]}),(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"User Type"}),(0,f.jsx)(o.A,{style:{width:"100%"},value:U.user_type,onChange:e=>J(e,"user_type"),options:[{value:"",label:"All"},{value:"Distributor",label:"Distributor"},{value:"Super Distributor",label:"Super Distributor"},{value:"Retailer",label:"Retailer"},{value:"asm",label:"ASM"},{value:"zsm",label:"ZSM"}]})]}),(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"Transaction Type"}),(0,f.jsx)(o.A,{style:{width:"100%"},value:U.trans_type,onChange:e=>J(e,"trans_type"),options:[{value:"",label:"All"},{value:"balance Reverse",label:"Balance Reverse"},{value:"balance transfer",label:"Balance Transfer"}]})]}),(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"Mobile Number"}),(0,f.jsx)("input",{type:"number",name:"user_mobile",className:"form-control",placeholder:"Enter Mobile Name",value:U.user_mobile,onChange:H})]}),(0,f.jsxs)("div",{className:"form-group col-md-4",children:[(0,f.jsx)("label",{children:"Select Retailer"}),(0,f.jsx)(s.A,{options:M,getOptionLabel:e=>e.name||"",value:null!==R&&void 0!==R?R:null,size:"small",onChange:(e,t)=>D(t),renderOption:(e,t)=>(0,r.createElement)("li",{...e,key:t.retailer_id},(0,f.jsx)(d.A,{sx:{fontSize:"13px"},children:t.name})),renderInput:e=>(0,f.jsx)(c.A,{...e,label:"Select Retailer",InputLabelProps:{sx:{"&.MuiInputLabel-root:not(.MuiInputLabel-shrink)":{top:"-3px"}}},sx:{"& label.Mui-focused":{color:"#8b8b8bff"},"& .MuiInputBase-root":{backgroundColor:"#fff"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#ced4da"},"&.Mui-focused fieldset":{borderColor:"#ced4da"}}}})})]}),(0,f.jsxs)("div",{className:"form-group col-md-12",children:[(0,f.jsx)("button",{type:"button",className:"btn btn-primary mr-3 text-black",onClick:()=>{T(1),W((e=>!e))},children:"Search"}),(0,f.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{F({response:"",start_date:"",end_date:"",trans_type:"",user_mobile:"",user_type:""}),D(null),W((e=>!e)),L(10),T(1)},children:"Reset"})]})]})})})}),(0,f.jsx)("div",{className:"card mt-4",style:{overflow:"auto"},children:(0,f.jsxs)("div",{className:"card-body",children:[(0,f.jsxs)("div",{id:"myTable_wrapper",className:"dataTables_wrapper no-footer",children:[(0,f.jsx)("div",{className:"d-flex  justify-content-end align-items-center",children:(0,f.jsx)("div",{className:"dataTables_length mb-3",id:"myTable_length",children:(0,f.jsx)(b.A,{className:"btn btn-success cusxel",onClick:async()=>{try{var e,t;N(!0);const r=await(0,i.XPd)({...U,retailer_id:(null===R||void 0===R?void 0:R._id)||""});if((null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0){var a;const e=null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.data.map(((e,t)=>({"Sr. No":t+1,"Date / Time":(null===e||void 0===e?void 0:e.createdAt)||"","User Type":(null===e||void 0===e?void 0:e.user_type)||"","User Mobile Number":(null===e||void 0===e?void 0:e.user_mobile)||"","Transaction ID":(null===e||void 0===e?void 0:e.txn_id)||"",Amount:(null===e||void 0===e?void 0:e.amount)||"","Opening Balance":(null===e||void 0===e?void 0:e.opening_balance)||"","Closing Balance":(null===e||void 0===e?void 0:e.closing_balance)||"","Transaction Type":(null===e||void 0===e?void 0:e.trans_type)||"","Retailer Name":(null===e||void 0===e?void 0:e.user_name)||"","Refer ID":(null===e||void 0===e?void 0:e.user_refer_id)||""}))),t=g.Wp.json_to_sheet(e),n=g.Wp.book_new();g.Wp.book_append_sheet(n,t,"Fund_Transfer_Report"),g._h(n,"Fund_Transfer_Report_".concat((new Date).toLocaleDateString(),".xlsx"))}else l.Ay.error("No data available to export!")}catch(r){l.Ay.error("Failed to download Excel. Please try again.")}finally{N(!1)}},children:"Download Excel sheet"})})}),(0,f.jsx)("div",{className:"table-responsive",style:{maxHeight:"60vh",overflow:"auto",borderRadius:"10px",border:"1px solid #eaeaea"},children:(0,f.jsxs)("table",{className:"table table-hover table-bordered mb-0",style:{whiteSpace:"nowrap"},children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"S.No"}),(0,f.jsx)("th",{children:"Txn Date"}),(0,f.jsx)("th",{children:"Txn Id"}),(0,f.jsx)("th",{children:"Transaction Type"}),(0,f.jsx)("th",{children:"User Type"}),(0,f.jsx)("th",{children:"User Mobile Number"}),(0,f.jsx)("th",{children:"Opening Balance"}),(0,f.jsx)("th",{children:"Amount"}),(0,f.jsx)("th",{children:"Closing Balance"}),(0,f.jsx)("th",{children:"Retailer Name"}),(0,f.jsx)("th",{children:"Refer Code"})]})}),(0,f.jsxs)("tbody",{children:[null===P||void 0===P?void 0:P.map(((e,t)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:t+1+(C-1)*E}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.txn_id)||"---"}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.trans_type}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.user_type}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.user_mobile}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.opening_balance}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.closing_balance}),(0,f.jsx)("td",{children:null===e||void 0===e?void 0:e.user_name}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.user_refer_id)||""})]},null===e||void 0===e?void 0:e._id))),0===(null===P||void 0===P?void 0:P.length)&&(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Record Found"})})]})]})})]}),(0,f.jsxs)(d.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,f.jsxs)(d.A,{display:"flex",alignItems:"center",gap:2,children:[(0,f.jsxs)(u.A,{size:"small",sx:{width:"150px"},children:[(0,f.jsx)(p.A,{children:"Rows per page"}),(0,f.jsx)(h.A,{value:E,onChange:e=>{L(e.target.value),T(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((e=>(0,f.jsx)(v.A,{value:e,children:e},e)))})]}),(0,f.jsxs)(m.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",k]})]}),(0,f.jsx)(x.A,{count:K,page:C,onChange:(e,t)=>{T(t)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})})]})}},39574:(e,t,a)=>{a.d(t,{x:()=>n});var r=a(73216);const n=()=>{const{search:e}=(0,r.zy)(),t=new URLSearchParams(e),a=e=>{if(t.has(e)){const a=t.get(e);return""===a?"":a}return(new Date).toISOString().split("T")[0]};return{startDate:a("start-date"),endDate:a("end-date")}}},94516:(e,t,a)=>{a.d(t,{A:()=>x});var r=a(65043),n=a(58387),l=a(54984),o=a(42768),i=a(38222),s=a(98366),d=a(70579);var c=a(79386),u=a(23571),p=a(13375);const h=(0,a(92532).A)("MuiBox",["root"]),v=(0,u.A)(),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:c="MuiBox-root",generateClassName:u}=e,p=(0,l.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(o.A);return r.forwardRef((function(e,r){const l=(0,s.A)(a),{className:o,component:h="div",...v}=(0,i.A)(e);return(0,d.jsx)(p,{as:h,ref:r,className:(0,n.A)(o,u?u(c):c),theme:t&&l[t]||l,...v})}))}({themeId:p.A,defaultTheme:v,defaultClassName:h.root,generateClassName:c.A.generate}),x=m},94496:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(65043),n=a(58387),l=a(98610),o=a(60463),i=a(34535),s=a(66870),d=a(98206),c=a(6803),u=a(93618),p=a(70579);const h={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},v=(0,o.Dg)(),m=(0,i.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat((0,c.A)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((0,s.A)((e=>{var t;let{theme:a}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(a.typography).filter((e=>{let[t,a]=e;return"inherit"!==t&&a&&"object"===typeof a})).map((e=>{let[t,a]=e;return{props:{variant:t},style:a}})),...Object.entries(a.palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[t]=e;return{props:{color:t},style:{color:(a.vars||a).palette[t].main}}})),...Object.entries((null===(t=a.palette)||void 0===t?void 0:t.text)||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[t]=e;return{props:{color:"text".concat((0,c.A)(t))},style:{color:(a.vars||a).palette.text[t]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),x={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b=r.forwardRef((function(e,t){const{color:a,...r}=(0,d.b)({props:e,name:"MuiTypography"}),o=v({...r,...!h[a]&&{color:a}}),{align:i="inherit",className:s,component:b,gutterBottom:g=!1,noWrap:y=!1,paragraph:f=!1,variant:j="body1",variantMapping:_=x,...A}=o,N={...o,align:i,color:a,className:s,component:b,gutterBottom:g,noWrap:y,paragraph:f,variant:j,variantMapping:_},w=b||(f?"p":_[j]||x[j])||"span",S=(e=>{const{align:t,gutterBottom:a,noWrap:r,paragraph:n,variant:o,classes:i}=e,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,c.A)(t)),a&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return(0,l.A)(s,u.y,i)})(N);return(0,p.jsx)(m,{as:w,ref:t,className:(0,n.A)(S.root,s),...A,ownerState:N,style:{..."inherit"!==i&&{"--Typography-textAlign":i},...A.style}})}))},93618:(e,t,a)=>{a.d(t,{A:()=>o,y:()=>l});var r=a(92532),n=a(72372);function l(e){return(0,n.Ay)("MuiTypography",e)}const o=(0,r.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"])},14140:(e,t,a)=>{a.d(t,{Am:()=>o,Ay:()=>s});var r=a(65043),n=a(70579);const l=["as","disabled"];function o(e){let{tagName:t,disabled:a,href:r,target:n,rel:l,role:o,onClick:i,tabIndex:s=0,type:d}=e;t||(t=null!=r||null!=n||null!=l?"a":"button");const c={tagName:t};if("button"===t)return[{type:d||"button",disabled:a},c];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),a?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),a&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:a?void 0:s,href:r,target:"a"===t?n:void 0,"aria-disabled":a||void 0,rel:"a"===t?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}const i=r.forwardRef(((e,t)=>{let{as:a,disabled:r}=e,i=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,l);const[s,{tagName:d}]=o(Object.assign({tagName:a,disabled:r},i));return(0,n.jsx)(d,Object.assign({},i,s,{ref:t}))}));i.displayName="Button";const s=i},14282:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(98139),n=a.n(r),l=a(65043),o=a(14140),i=a(67852),s=a(70579);const d=l.forwardRef(((e,t)=>{let{as:a,bsPrefix:r,variant:l="primary",size:d,active:c=!1,disabled:u=!1,className:p,...h}=e;const v=(0,i.oU)(r,"btn"),[m,{tagName:x}]=(0,o.Am)({tagName:a,disabled:u,...h}),b=x;return(0,s.jsx)(b,{...m,...h,ref:t,disabled:u,className:n()(p,v,c&&"active",l&&"".concat(v,"-").concat(l),d&&"".concat(v,"-").concat(d),h.href&&u&&"disabled")})}));d.displayName="Button";const c=d},67852:(e,t,a)=>{a.d(t,{Jm:()=>u,Wz:()=>p,gy:()=>c,oU:()=>d});var r=a(65043);a(70579);const n=["xxl","xl","lg","md","sm","xs"],l="xs",o=r.createContext({prefixes:{},breakpoints:n,minBreakpoint:l}),{Consumer:i,Provider:s}=o;function d(e,t){const{prefixes:a}=(0,r.useContext)(o);return e||a[t]||t}function c(){const{breakpoints:e}=(0,r.useContext)(o);return e}function u(){const{minBreakpoint:e}=(0,r.useContext)(o);return e}function p(){const{dir:e}=(0,r.useContext)(o);return"rtl"===e}}}]);
//# sourceMappingURL=2711.5290c1f8.chunk.js.map