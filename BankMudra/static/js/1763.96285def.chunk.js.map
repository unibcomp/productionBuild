{"version":3,"file":"static/js/1763.96285def.chunk.js","mappings":"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","sources":["components/admin/payment/addPaymentRequest/OnlinePaymentRequest.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { createOnlinePayment } from \"../../../../api/login/Login\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction OnlinePaymentRequest() {\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const [onlineData, setOnlineData] = useState({\r\n    amount: \"\",\r\n    method: \"\",   \r\n    lat: \"\",\r\n    long: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setOnlineData({ ...onlineData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const submitOnlinePayment = async () => {\r\n    if (!onlineData.amount) {\r\n      toast.error(\"Amount is required\");\r\n      return;\r\n    }\r\n\r\n    if (!onlineData.method) {\r\n      toast.error(\"Select payment method\");\r\n      return;\r\n    }\r\n\r\n    setLoader(true);\r\n\r\n    try {\r\n      const res = await createOnlinePayment(onlineData);\r\n      const result = res?.data;\r\n\r\n      if (result?.success && result?.data?.url) {\r\n        toast.success(\"Redirecting to payment page...\");\r\n        setTimeout(() => {\r\n          window.open(result.data.url, \"_blank\");\r\n        }, 500);\r\n      } else {\r\n        toast.error(result?.message || \"Payment request failed\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Network Error\");\r\n    } finally {\r\n      setLoader(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setOnlineData((prev) => ({\r\n          ...prev,\r\n          lat: pos.coords.latitude,\r\n          long: pos.coords.longitude,\r\n        }));\r\n      },\r\n      () => toast.warning(\"Location disabled, default applied\")\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"PageHeading\">\r\n      <h1>Online Payment Request</h1>\r\n      <div className=\"ContentArea\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <form>\r\n              <div className=\"form-row\" style={{ justifyContent: \"center\" }}>\r\n                <div className=\"form-group col-md-3 text-center\">\r\n                  <label>Payment Method *</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"method\"\r\n                    value={onlineData.method}\r\n                    onChange={handleChange}\r\n                    style={{\r\n                      backgroundColor: \"var(--bs-primary3)\",\r\n                      color: \"var(--bs-primary2)\",\r\n                      borderColor: \"var(--bs-primary2)\",\r\n                    }}\r\n                  >\r\n                    <option value=\"\">-- Select Method --</option>\r\n                    <option value=\"upi\">UPI</option>\r\n                    <option value=\"card\">Card</option>\r\n                    <option value=\"netbanking\">Net Banking</option>\r\n                    <option value=\"wallet\">Wallet</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Amount Field */}\r\n                <div className=\"form-group col-md-3 text-center\">\r\n                  <label>Amount *</label>\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"number\"\r\n                    name=\"amount\"\r\n                    value={onlineData.amount}\r\n                    onChange={handleChange}\r\n                    style={{\r\n                      backgroundColor: \"var(--bs-primary3)\",\r\n                      color: \"var(--bs-primary2)\",\r\n                      borderColor: \"var(--bs-primary2)\",\r\n                    }}\r\n                  />\r\n                </div>\r\n                \r\n\r\n                {/* Submit Button */}\r\n                <div className=\"form-group col-md-12 text-center mt-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn\"\r\n                    style={{\r\n                      borderRadius: \"50px\",\r\n                      padding: \"10px 35px\",\r\n                      backgroundColor: onlineData.amount && onlineData.method ? \"var(--bs-primary3)\" : \"#777\",\r\n                      color: \"var(--bs-primary2)\",\r\n                      borderColor: \"var(--bs-primary2)\",\r\n                      fontWeight: \"bold\",\r\n                      cursor: onlineData.amount && onlineData.method ? \"pointer\" : \"not-allowed\",\r\n                    }}\r\n                    disabled={!onlineData.amount || !onlineData.method || loader}\r\n                    onClick={submitOnlinePayment}\r\n                  >\r\n                    {loader ? \"Processing...\" : \"Submit Online Payment\"}\r\n                  </button>\r\n                </div>\r\n\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OnlinePaymentRequest;\r\n"],"names":["loader","setLoader","useState","onlineData","setOnlineData","amount","method","lat","long","handleChange","e","target","name","value","useEffect","navigator","geolocation","getCurrentPosition","pos","prev","coords","latitude","longitude","toast","warning","_jsxs","className","children","_jsx","style","justifyContent","onChange","backgroundColor","color","borderColor","type","borderRadius","padding","fontWeight","cursor","disabled","onClick","async","_result$data","res","createOnlinePayment","result","data","success","url","setTimeout","window","open","error","message"],"sourceRoot":""}