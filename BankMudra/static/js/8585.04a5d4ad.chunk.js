"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[8585],{21964:(e,o,n)=>{n.r(o),n.d(o,{default:()=>m});var t=n(65043),r=n(72777),l=(n(91036),n(78161),n(94516)),a=n(11906),s=n(94496),i=n(61596),d=n(67807),c=n(43845),u=n(90035),p=n(73575),f=n(54358),v=n(70579);const x=e=>{let{children:o}=e;return(0,v.jsx)(l.A,{sx:{width:"100%",mx:"auto",my:1,px:3,py:4,pb:6,bgcolor:"white",borderRadius:1,boxShadow:0},children:o})},m=()=>{const e=(0,t.useRef)(),[o,n]=(0,t.useState)(!1),[m,h]=(0,t.useState)(null),[A,b]=(0,t.useState)(null),[g,y]=(0,t.useState)(!1),[j,S]=(0,t.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[o&&(0,v.jsx)(r.A,{}),(0,v.jsx)("div",{className:"PageHeading",children:(0,v.jsx)("h1",{children:"Bulk Payout Service"})}),(0,v.jsxs)(x,{children:[(0,v.jsx)(l.A,{mt:2,textAlign:"right",children:(0,v.jsx)(a.A,{variant:"outlined",onClick:()=>{const e=document.createElement("a");e.href="/sample-format.xlsx",e.download="Bulk_Payout_Format.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e)},sx:{color:"var(--bs-primary1)",borderColor:"var(--bs-primary1)",fontSize:14,textTransform:"none",mb:2},children:"Download Excel Format"})}),(0,v.jsxs)(l.A,{sx:{position:"relative",width:"100%",height:200,borderRadius:2,overflow:"hidden",bgcolor:"grey.200",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",border:"1px solid var(--bs-nav)"},children:[(0,v.jsx)("input",{ref:e,type:"file",accept:".xls,.xlsx",hidden:!0,onClick:e=>e.target.value=null,onChange:e=>{const o=e.target.files[0];if(!o)return;if(!["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(o.type))return(0,f.A)(!0,"Only Excel files (.xls, .xlsx) are allowed."),void(e.target.value=null);e.target.value=null,S(o),y(!0)}}),(0,v.jsx)(a.A,{variant:"outlined",sx:{color:"var(--bs-nav)",borderColor:"var(--bs-nav)",fontSize:14,textTransform:"none"},disabled:o,onClick:()=>e.current.click(),children:"Upload Excel File"}),A&&(0,v.jsxs)(s.A,{mt:2,fontSize:13,color:"textSecondary",children:["Selected File: ",(0,v.jsx)("strong",{children:A.name})]})]}),m&&(0,v.jsxs)(i.A,{elevation:0,sx:{mt:4,p:3,bgcolor:"#f9f9f9",borderRadius:2},children:[(0,v.jsx)(s.A,{variant:"subtitle1",fontWeight:600,sx:{color:"var(--bs-nav)",fontSize:16,mb:2},children:"Transaction Summary"}),(0,v.jsxs)(d.A,{direction:"row",spacing:2,mb:2,children:[(0,v.jsx)(c.A,{label:(0,v.jsxs)(s.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Success: ",m.success]}),sx:{bgcolor:"green",px:1.5,py:.5}}),(0,v.jsx)(c.A,{label:(0,v.jsxs)(s.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Pending: ",m.pending]}),sx:{bgcolor:"#f0ad4e",px:1.5,py:.5}}),(0,v.jsx)(c.A,{label:(0,v.jsxs)(s.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Failed: ",m.failed]}),sx:{bgcolor:"#d9534f",px:1.5,py:.5}}),(0,v.jsx)(c.A,{label:(0,v.jsxs)(s.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Refund: ",m.refund]}),sx:{bgcolor:"#6f42c1",px:1.5,py:.5}})]}),(0,v.jsxs)(s.A,{variant:"body2",fontSize:14,children:[(0,v.jsx)("strong",{style:{color:"var(--bs-nav)"},children:"Total Amount:"})," ",m.totalAmount]}),(0,v.jsxs)(s.A,{variant:"body2",fontSize:14,children:[(0,v.jsx)("strong",{style:{color:"var(--bs-nav)"},children:"Total Records:"})," ",m.total]})]})]}),(0,v.jsx)(u.A,{open:g,onClose:()=>y(!1),PaperProps:{sx:()=>({borderRadius:4,paddingY:2,backdropFilter:"blur(10px)",background:"white",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"})},children:(0,v.jsxs)(l.A,{p:3,children:[(0,v.jsx)(s.A,{variant:"h6",sx:{color:"var(--bs-nav)",fontSize:"18px"},gutterBottom:!0,children:"Confirm Bulk Payout"}),(0,v.jsxs)(s.A,{variant:"body2",sx:{color:"var(--bs-nav)",fontSize:"14px"},mb:1,children:["Selected File: ",(0,v.jsx)("strong",{children:null===j||void 0===j?void 0:j.name})]}),(0,v.jsx)(s.A,{variant:"body2",sx:{color:"var(--bs-nav)",fontSize:"14px"},mb:2,children:"Are you sure you want to proceed with this file? This action may trigger financial transactions."}),(0,v.jsxs)(d.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,v.jsx)(a.A,{onClick:()=>y(!1),color:"error",variant:"outlined",sx:{borderRadius:2,px:4,width:"150px"},children:"Cancel"}),(0,v.jsx)(a.A,{onClick:async()=>{y(!1),h(null),b(j),n(!0);try{var e,o,t,r,l,a,s,i,d,c,u,v,x,m;const n=new FormData;n.append("excelFile",j);let A=await(0,p.lr1)(n);(0,f.A)(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.error,null===A||void 0===A||null===(o=A.data)||void 0===o?void 0:o.message),h({success:(null===A||void 0===A||null===(t=A.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.successCount)||0,pending:(null===A||void 0===A||null===(l=A.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.pendingCount)||0,failed:(null===A||void 0===A||null===(s=A.data)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.failureCount)||0,refund:(null===A||void 0===A||null===(d=A.data)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.refundCount)||0,total:(null===A||void 0===A||null===(u=A.data)||void 0===u||null===(v=u.data)||void 0===v?void 0:v.totalRecords)||0,totalAmount:(null===A||void 0===A||null===(x=A.data)||void 0===x||null===(m=x.data)||void 0===m?void 0:m.totalAmount)||0})}catch(A){console.error(A)}finally{n(!1),S(null)}},color:"primary",variant:"contained",sx:{backgroundColor:"var(--bs-primary1)",borderRadius:2,px:4,width:"150px"},children:"Proceed"})]})]})})]})}},54358:(e,o,n)=>{n.d(o,{A:()=>r});var t=n(91036);function r(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?t.oR.success(o):t.oR.error(o)}},94516:(e,o,n)=>{n.d(o,{A:()=>m});var t=n(65043),r=n(58387),l=n(54984),a=n(42768),s=n(38222),i=n(98366),d=n(70579);var c=n(79386),u=n(23571),p=n(13375);const f=(0,n(92532).A)("MuiBox",["root"]),v=(0,u.A)(),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:o,defaultTheme:n,defaultClassName:c="MuiBox-root",generateClassName:u}=e,p=(0,l.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(a.A);return t.forwardRef((function(e,t){const l=(0,i.A)(n),{className:a,component:f="div",...v}=(0,s.A)(e);return(0,d.jsx)(p,{as:f,ref:t,className:(0,r.A)(a,u?u(c):c),theme:o&&l[o]||l,...v})}))}({themeId:p.A,defaultTheme:v,defaultClassName:f.root,generateClassName:c.A.generate}),m=x},67807:(e,o,n)=>{n.d(o,{A:()=>S});var t=n(65043),r=n(58387),l=n(19172),a=n(72372),s=n(98610),i=n(66620),d=n(91720),c=n(38222),u=n(52390),p=n(81136),f=n(80883),v=n(70579);const x=(0,u.A)(),m=(0,i.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root});function h(e){return(0,d.A)({props:e,name:"MuiStack",defaultTheme:x})}function A(e,o){const n=t.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,l)=>(e.push(r),l<n.length-1&&e.push(t.cloneElement(o,{key:"separator-".concat(l)})),e)),[])}const b=e=>{let{ownerState:o,theme:n}=e,t={display:"flex",flexDirection:"column",...(0,p.NI)({theme:n},(0,p.kW)({values:o.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e})))};if(o.spacing){const e=(0,f.LX)(n),r=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof o.spacing&&null!=o.spacing[n]||"object"===typeof o.direction&&null!=o.direction[n])&&(e[n]=!0),e)),{}),a=(0,p.kW)({values:o.direction,base:r}),s=(0,p.kW)({values:o.spacing,base:r});"object"===typeof a&&Object.keys(a).forEach(((e,o,n)=>{if(!a[e]){const t=o>0?a[n[o-1]]:"column";a[e]=t}}));const i=(n,t)=>{return o.useFlexGap?{gap:(0,f._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((r=t?a[t]:o.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]))]:(0,f._W)(e,n)}};var r};t=(0,l.A)(t,(0,p.NI)({theme:n},s,i))}return t=(0,p.iZ)(n.breakpoints,t),t};var g=n(34535),y=n(72876);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:o=m,useThemeProps:n=h,componentName:l="MuiStack"}=e,i=o(b),d=t.forwardRef((function(e,o){const t=n(e),d=(0,c.A)(t),{component:u="div",direction:p="column",spacing:f=0,divider:x,children:m,className:h,useFlexGap:b=!1,...g}=d,y={direction:p,spacing:f,useFlexGap:b},j=(0,s.A)({root:["root"]},(e=>(0,a.Ay)(l,e)),{});return(0,v.jsx)(i,{as:u,ownerState:y,ref:o,className:(0,r.A)(j.root,h),...g,children:x?A(m,x):m})}));return d}({createStyledComponent:(0,g.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root}),useThemeProps:e=>(0,y.A)({props:e,name:"MuiStack"})}),S=j},72876:(e,o,n)=>{n.d(o,{A:()=>a});var t=n(91720),r=n(15170),l=n(13375);function a(e){let{props:o,name:n}=e;return(0,t.A)({props:o,name:n,defaultTheme:r.A,themeId:l.A})}},66620:(e,o,n)=>{n.d(o,{A:()=>t});const t=(0,n(33860).Ay)()},52515:(e,o,n)=>{n.d(o,{A:()=>r});var t=n(13030);function r(e){const{theme:o,name:n,props:r}=e;return o&&o.components&&o.components[n]&&o.components[n].defaultProps?(0,t.A)(o.components[n].defaultProps,r):r}},91720:(e,o,n)=>{n.d(o,{A:()=>l});var t=n(52515),r=n(98366);function l(e){let{props:o,name:n,defaultTheme:l,themeId:a}=e,s=(0,r.A)(l);return a&&(s=s[a]||s),(0,t.A)({theme:s,name:n,props:o})}},9417:(e,o,n)=>{function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(o,{A:()=>t})},58168:(e,o,n)=>{function t(){return t=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},t.apply(null,arguments)}n.d(o,{A:()=>t})}}]);
//# sourceMappingURL=8585.04a5d4ad.chunk.js.map