"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[9858],{77583:(e,r,a)=>{a.d(r,{A:()=>b});var i=a(65043),s=a(40794),n=a(67254),t=a(17205),o=a(37070),l=a(73575),c=a(72777),d=a(37912),u=a(33262),g=a(45531),m=a(60648),p=a(56573),h=a(6577),v=a(4137),x=a(58207),f=a(10146),j=a(70579);const y=[{id:"1",image:d},{id:"2",image:u},{id:"3",image:g},{id:"4",image:m},{id:"5",image:p},{id:"6",image:h},{id:"7",image:v},{id:"8",image:x},{id:"9",image:f}];const b=function(e){let{onDailyAuthComplete:r,apiAepsType:a}=e;const[d,u]=(0,i.useState)({latitude:null,longitude:null}),[g,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)({open:!1,message:"",severity:"success"}),[v,x]=(0,i.useState)({accessmodetype:"APP",latitude:"",longitude:"",data:"",ipaddress:"",user_id:""});(0,i.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{u({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(()=>{f("Location not found. Please enable location and refresh the page.","error")})):f("Geolocation is not available in your browser.","error")}),[]);const f=function(e){h({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},b=(e,r)=>{"clickaway"!==r&&h({...p,open:!1})},A=e=>{if(m(!1),console.log("Received data:",e),!e)return console.error("No data received in handleFingerprintResult function"),void f("Error: No data received from fingerprint capture","error");if("object"!==typeof e)return console.error("Invalid data type received:",typeof e),void f("Error: Invalid data received from fingerprint capture","error");const r=e.pid_data;if(!r)return console.error("No pid_data in received data"),void f("Error: Plase Connect L1 device","error");try{var a=new DOMParser;const s=r+"<bookz/>";var i=a.parseFromString(s,"application/xml");if("0"===e.errCode)f("Finger Capture Successful");else if(e.errCode)return void f("Error in finger capture: ".concat(e.errCode),"error");if(!0===e.httpSuccess){const e=window.btoa((new XMLSerializer).serializeToString(i));N(e)}else f("HTTP request was not successful","error")}catch(s){console.error("Error processing fingerprint data:",s),f("Error processing fingerprint data","error")}},N=async e=>{const i={...v,latitude:d.latitude,longitude:d.longitude,data:e,user_id:window.localStorage.getItem("userIdToken"),bank:a};try{var s;m(!0);const e=await(0,l.Vud)(i);var n;if(200===(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))f("Bank registration successful","success"),r&&r();else f((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Bank registration failed","error")}catch(t){console.error("Error during bank registration:",t),f("Error during bank registration","error")}finally{m(!1)}};return(0,j.jsxs)(j.Fragment,{children:[g&&(0,j.jsx)(c.A,{}),(0,j.jsx)("div",{className:"ContentArea",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header Register-header",children:(0,j.jsx)("span",{children:"Bank Register"})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"form-row",children:[(0,j.jsx)("div",{className:"col-lg-6",children:(0,j.jsx)("div",{className:"bankRegister",children:(0,j.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{if(d.latitude&&d.longitude){m(!0);try{console.log("Initializing fingerprint capture"),new o.N("http://127.0.0.1:11100/rd/capture",A)}catch(e){console.error("Error in captureFingerprint:",e),f("Error capturing fingerprint","error"),m(!1)}}else f("Cannot capture fingerprint without location. Please enable location and refresh.","error")},children:(0,j.jsx)("img",{src:t,alt:"Capture Fingerprint",style:{height:"526px"}})})})}),(0,j.jsx)("div",{className:"col-lg-6",children:(0,j.jsx)("div",{className:"row",children:y.map((e=>(0,j.jsx)("div",{className:"col-lg-4 mt-2",children:(0,j.jsx)("div",{className:"deviceImage",children:(0,j.jsx)("img",{src:e.image,alt:"Device ".concat(e.id)})})},e.id)))})})]})})]})}),(0,j.jsx)(s.A,{open:p.open,autoHideDuration:6e3,onClose:b,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,j.jsx)(n.A,{onClose:b,severity:p.severity,sx:{width:"100%"},children:p.message})})]})}},66259:(e,r,a)=>{a.d(r,{A:()=>x});var i=a(65043),s=a(94516),n=a(94496),t=a(53193),o=a(18356),l=a(72221),c=a(91449),d=a(11906),u=a(81637),g=a(40794),m=a(67254),p=a(21338),h=a(73575),v=a(70579);const x=e=>{let{bank1:r,bank2:a,profiledata:x,onDailyAuthComplete:f,apiAepsType:j,merchnadecode:y}=e;const[b,A]=(0,i.useState)(""),[N,k]=(0,i.useState)(!1),[w,C]=(0,i.useState)({open:!1,message:"",severity:"info"}),S=null===x||void 0===x?void 0:x.refer_id,P=(e=>{if(!e)return"";let r=e.startsWith("+91")?e.slice(3):e;return r=r.replace(/\D/g,""),r})(localStorage.getItem("regisNumber")),E=(e,r)=>{"clickaway"!==r&&C({...w,open:!1})};return console.log("payloadtosend1",S),console.log("payloadtosend2",P),(0,v.jsxs)(s.A,{sx:{maxWidth:400,margin:"auto",padding:2},children:[(0,v.jsx)(n.A,{variant:"h5",gutterBottom:!0,children:"AEPS Onboarding Bank Select"}),(0,v.jsxs)(t.A,{fullWidth:!0,margin:"normal",children:[(0,v.jsx)(o.A,{children:"Select Bank"}),(0,v.jsxs)(l.A,{value:b,onChange:e=>{A(e.target.value)},label:"Select Bank",sx:{backgroundColor:"white","&:hover":{backgroundColor:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 0, 0, 0.87)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"},color:"text.primary"},children:[(0,v.jsx)(c.A,{value:"bank2",children:"bank2"}),(0,v.jsx)(c.A,{value:"bank3",children:"bank3"})]})]}),(0,v.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,v.jsx)(p.A,{}),onClick:async()=>{if(b){k(!0);try{var e;const i={merchantcode:y,mobile:P,pipe:b,bank:j},s=await(0,h.AiB)(i);var r,a;if(200==(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.statusCode))C({open:!0,message:(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Check completed successfully",severity:"success"}),f&&f();else C({open:!0,message:(null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||(null===s||void 0===s?void 0:s.message)||"Check failed",severity:"error"})}catch(i){C({open:!0,message:"An error occurred while processing your request",severity:"error"})}finally{k(!1)}}else C({open:!0,message:"Please select a bank",severity:"error"})},disabled:N||!b,sx:{mt:6},children:N?(0,v.jsx)(u.A,{size:24}):"Check"}),(r||a)&&(0,v.jsx)(s.A,{sx:{mt:2,p:1,bgcolor:"background.paper",borderRadius:1},children:(0,v.jsxs)(n.A,{variant:"body2",children:[(0,v.jsx)("strong",{children:"Note:"})," ",r||a]})}),(0,v.jsx)(g.A,{open:w.open,autoHideDuration:6e3,onClose:E,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,v.jsx)(m.A,{onClose:E,severity:w.severity,sx:{width:"100%"},children:w.message})})]})}},65251:(e,r,a)=>{a.d(r,{A:()=>y});var i=a(65043),s=a(40794),n=a(67254),t=a(37070),o=a(73575),l=a(17205),c=a(37912),d=a(33262),u=a(45531),g=a(60648),m=a(56573),p=a(6577),h=a(4137),v=a(58207),x=a(10146),f=a(70579);const j=[{id:"1",image:c,name:"Iris"},{id:"1",image:d,name:"Mantra"},{id:"1",image:u,name:"Mantra L1"},{id:"1",image:g,name:"Morpho"},{id:"1",image:m,name:"Morpho L1"},{id:"1",image:p,name:"Precision"},{id:"1",image:h,name:"Secugen"},{id:"1",image:v,name:"Startrek"},{id:"1",image:x,name:"Startrek L1"}];const y=function(e){let{onDailyAuthComplete:r,apiAepsType:a}=e;const[c,d]=(0,i.useState)({latitude:null,longitude:null}),[u,g]=(0,i.useState)({open:!1,message:"",severity:"success"}),[m,p]=(0,i.useState)(null),[h,v]=(0,i.useState)({accessmodetype:"site",latitude:"",longitude:"",data:"",ipaddress:"",user_id:""});(0,i.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{d({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(()=>{x("Location not found. Please enable location and refresh the page.","error")})):x("Geolocation is not available in your browser.","error")}),[]);const x=function(e){g({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},y=(e,r)=>{"clickaway"!==r&&g({...u,open:!1})},b=e=>{if(console.log("Received data:",e),!e)return console.error("No data received in result function"),void x("Error: No data received from fingerprint capture","error");if("object"!==typeof e)return console.error("Invalid data type received:",typeof e),void x("Error: Invalid data received from fingerprint capture","error");const r=e.pid_data;if(!r)return console.error("No pid_data in received data"),void x("Error: No fingerprint data received","error");try{var a=new DOMParser;const s=r+"<bookz/>";var i=a.parseFromString(s,"application/xml");if("0"===e.errCode)x("Finger Capture Successful");else if(e.errCode)return void x("Error in finger capture: ".concat(e.errCode),"error");if(!0===e.httpSuccess){const e=window.btoa((new XMLSerializer).serializeToString(i));A(e)}else x("HTTP request was not successful","error")}catch(s){console.error("Error processing fingerprint data:",s),x("Error processing fingerprint data","error")}},A=async e=>{const i={...h,latitude:c.latitude,longitude:c.longitude,data:e,user_id:window.localStorage.getItem("userIdToken"),bank:a};try{var s,n,t;const e=await(0,o.K8V)(i);var l,d;if(console.log(e),400==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))x((null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)||"Something went Wrong","error");if("403"==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode))x((null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.message)||"Something went Wrong","error");200==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.statusCode)&&(x("Daily Auth completed successfully"),r&&r())}catch(u){console.error("Error in daily auth:",u),x("An error occurred during daily auth","error")}};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"ContentArea",children:[(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"card-header Register-header",children:(0,f.jsx)("span",{children:"Daily Auth"})}),(0,f.jsx)("div",{className:"card-body",children:(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsx)("div",{className:"col-lg-6",children:(0,f.jsx)("div",{className:"bankResiter",children:(0,f.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{if(c.latitude&&c.longitude)try{new t.N("http://127.0.0.1:11100/rd/capture",b)}catch(e){console.log(e)}else x("Cannot capture fingerprint without location. Please enable location and refresh.","error")},children:(0,f.jsx)("img",{src:l,alt:"Capture Fingerprint",style:{height:"526px"}})})})}),(0,f.jsx)("div",{className:"col-lg-6",children:(0,f.jsx)("div",{className:"row",children:j.map((e=>(0,f.jsx)("div",{className:"col-lg-4 mt-2",children:(0,f.jsxs)("div",{className:"deviceImage ".concat((null===m||void 0===m?void 0:m.id)===e.id?"selected":""),onClick:()=>{return r=e,console.log("Device clicked:",r),void(c.latitude&&c.longitude?(p(r),x("Selected device: ".concat(r.name))):x("Location not found. Please enable location and refresh.","error"));var r},children:[(0,f.jsx)("img",{src:e.image,alt:e.name}),(0,f.jsx)("p",{children:e.name})]})},e.id)))})})]})})]}),(0,f.jsx)(s.A,{open:u.open,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,f.jsx)(n.A,{onClose:y,severity:u.severity,sx:{width:"100%"},children:u.message})})]})})}},69347:(e,r,a)=>{a.d(r,{A:()=>s});var i=a(70579);const s=function(e){let{activeMessage:r,buyMessage:a,head:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"PageHeading",children:(0,i.jsx)("h1",{children:s})}),(0,i.jsx)("div",{className:"ContentArea",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-header",children:[r&&(0,i.jsxs)("p",{className:"alert alert-2 py-1 px-2 d-inline-block",children:[(0,i.jsx)("b",{children:"Note :"})," ",(0,i.jsx)("strong",{children:r})," "]}),a&&(0,i.jsxs)("p",{className:"alert alert-2 py-1 px-2 d-inline-block",children:[(0,i.jsx)("b",{children:"Note :"})," ",(0,i.jsx)("strong",{children:a})," "]})]})})})]})}},55268:(e,r,a)=>{a.d(r,{A:()=>d});var i=a(65043),s=a(11906),n=a(81637),t=a(40794),o=a(67254),l=a(73575),c=a(70579);const d=function(e){let{merchnadecode:r,setbankverify:a,permissionAeps:d,apiAepsType:u}=e;console.log("merchnadecode",r);const[g,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),[f,j]=(0,i.useState)(!1),y=((e=>{if(!e)return"";let r=e.startsWith("+91")?e.slice(3):e;r=r.replace(/\D/g,"")})(localStorage.getItem("regisNumber")),(e,r)=>{"clickaway"!==r&&(h(null),j(!1))});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"ContentArea",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("span",{children:"Onboarding  AEPS4 Document Requirement"})}),(0,c.jsx)("div",{className:"card-body",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-lg-12",children:[(0,c.jsx)("div",{className:"alert alert-info mt-4",children:(0,c.jsx)("blockquote",{className:"blockquote text-center mb-0",children:(0,c.jsx)("p",{className:"mb-0",children:'"For now, we need an L1/L0 device for AEPS for a few days because we will provide you with options for all devices after a few days. Thank you"'})})}),(0,c.jsx)("div",{className:"btn-section",children:(0,c.jsx)(s.A,{variant:"contained",color:"success",onClick:async()=>{m(!0),h(null),j(!1);try{const e=await(0,l.Elx)(u);"200"==e.data.statusCode?(j(!0),x(e.data.message),d&&setTimeout((()=>{d()}),1e3)):"007"==e.data.statusCode?(j(!0),x(e.data.message),a(!0)):h(e.data.message||"An error occurred during onboarding")}catch(i){var e,r;console.error("Error during onboarding:",i),h((null===(e=i.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"An unexpected error occurred")}finally{m(!1)}},disabled:g,children:g?(0,c.jsx)(n.A,{size:24}):"Proceed"})})]})})})]})}),(0,c.jsx)(t.A,{open:!!p||f,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,c.jsxs)(o.A,{onClose:y,severity:p?"error":"success",sx:{width:"100%"},children:[p,v]})})]})}},70929:(e,r,a)=>{a.d(r,{A:()=>n});a(65043);var i=a(55268),s=a(70579);const n=function(e){let{onBoardingApiCall:r,isInstantpayOnBoarded:a,merchnadecode:n,setbankverify:t,permissionAeps:o,apiAepsType:l}=e;return console.log("isInstantpayOnBoarded",a),(0,s.jsx)(s.Fragment,{children:!0===a?(0,s.jsx)(i.A,{merchnadecode:n,setbankverify:t,permissionAeps:o,apiAepsType:l}):(0,s.jsx)("div",{className:"ContentArea",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("span",{children:"Onboarding Document Requirement"})}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-lg-12",children:[(0,s.jsx)("div",{className:"suggest-point",children:(0,s.jsx)("h2",{children:"Onboarding Document Requirement"})}),(0,s.jsxs)("div",{className:"suggest-point",children:[(0,s.jsx)("p",{children:"1- Merchant Original Pancard image."}),(0,s.jsx)("p",{children:"2- Merchant Original AADHAR IMAGE image."}),(0,s.jsx)("p",{children:"3- Onboarding STATE SHOULD match Aadhar address."})]}),(0,s.jsx)("div",{className:"alert alert-info mt-4",children:(0,s.jsx)("blockquote",{className:"blockquote text-center mb-0",children:(0,s.jsx)("p",{className:"mb-0",children:'"For now, we need an L1/L0 device for AEPS for a few days because we will provide you with options for all devices after a few days. Thank you"'})})}),(0,s.jsx)("div",{className:"btn-section",children:(0,s.jsx)("button",{type:"button",className:"btn btn-success",onClick:r,children:"Proceed"})})]})})})]})})})}},80878:(e,r,a)=>{a.d(r,{A:()=>p});var i=a(65043),s=a(25284),n=a(73722),t=a(91719),o=a(14282),l=a(27417),c=a(40794),d=a(17392),u=a(74802),g=a(73575),m=a(70579);const p=function(e){let{show:r,onHide:a,permissionAeps:p,apiAepsType:h}=e;const[v,x]=(0,i.useState)(""),[f,j]=(0,i.useState)(!1),[y,b]=(0,i.useState)(""),[A,N]=(0,i.useState)(!1),[k,w]=(0,i.useState)(0),[C,S]=(0,i.useState)(!1),[P,E]=(0,i.useState)({open:!1,message:"",severity:"success"}),T=(e=>{if(!e)return"";let r=e.startsWith("+91")?e.slice(3):e;return r=r.replace(/\D/g,""),r})(localStorage.getItem("regisNumber"));(0,i.useEffect)((()=>{let e;return k>0?e=setTimeout((()=>w(k-1)),1e3):N(!1),()=>clearTimeout(e)}),[k]);const O=(e,r)=>{"clickaway"!==r&&E({...P,open:!1})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(s.A,{show:r,onHide:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"otp-customer",children:[(0,m.jsx)(s.A.Header,{closeButton:!0,children:(0,m.jsx)(s.A.Title,{id:"contained-modal-title-vcenter",children:"OTP Verification"})}),(0,m.jsxs)(s.A.Body,{children:[(0,m.jsx)(n.A,{children:(0,m.jsxs)(n.A.Group,{controlId:"otpInput",children:[(0,m.jsx)(n.A.Label,{children:"Enter OTP"}),(0,m.jsx)(n.A.Control,{type:"text",placeholder:"Enter 6-digit OTP",value:v,onChange:e=>{const r=e.target.value.replace(/\D/g,"").slice(0,6);x(r),b("")},isInvalid:!!y,maxLength:6}),(0,m.jsx)(n.A.Control.Feedback,{type:"invalid",children:y})]})}),y&&(0,m.jsx)(t.A,{variant:"danger",className:"mt-3",children:y})]}),(0,m.jsxs)(s.A.Footer,{children:[(0,m.jsx)(o.A,{variant:"secondary",onClick:a,children:"Close"}),(0,m.jsx)(o.A,{variant:"primary",onClick:async()=>{if(6===v.length){j(!0),b("");try{var e;const n=await(0,g._X5)({mobile:T,user_id:window.localStorage.getItem("userIdToken"),otp:v,bank:h});var r,i,s;if(200===(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.statusCode))E({open:!0,message:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,severity:"success"}),p&&setTimeout((()=>{p()}),1e3),a();else console.log("dshhjsdhjsdh"),E({open:!0,message:(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Verification failed",severity:"error"}),b((null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Verification failed")}catch(y){b("An error occurred. Please try again."),E({open:!0,message:"An error occurred. Please try again.",severity:"error"})}finally{j(!1)}}else b("Please enter a 6-digit OTP")},disabled:f||6!==v.length,children:f?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.A,{animation:"border",size:"sm"})," Verifying..."]}):"Verify OTP"})]})]}),(0,m.jsx)(c.A,{anchorOrigin:{vertical:"top",horizontal:"left"},open:P.open,autoHideDuration:6e3,onClose:O,message:P.message,action:(0,m.jsx)(d.A,{size:"small","aria-label":"close",color:"inherit",onClick:O,children:(0,m.jsx)(u.A,{fontSize:"small"})})})]})}},37912:(e,r,a)=>{e.exports=a.p+"static/media/iris.7815c2241d235d0e09e7.png"},33262:(e,r,a)=>{e.exports=a.p+"static/media/mantra.6c398cd6eba242d3496c.png"},45531:(e,r,a)=>{e.exports=a.p+"static/media/mantral1.cdc67b4cc75a0d886924.png"},60648:(e,r,a)=>{e.exports=a.p+"static/media/morpho.3d2243f00963167fc971.png"},56573:(e,r,a)=>{e.exports=a.p+"static/media/morphol1.1d9cca64ce0bd3399131.png"},6577:(e,r,a)=>{e.exports=a.p+"static/media/precision.bc7d5ca50f7f6227e698.png"},4137:(e,r,a)=>{e.exports=a.p+"static/media/sequgen.91463d52e65a91c44667.png"},58207:(e,r,a)=>{e.exports=a.p+"static/media/startrek.a6a704265d590008c71c.png"},10146:(e,r,a)=>{e.exports=a.p+"static/media/startrekl1.af847db98c53f9fa33a7.png"},17205:(e,r,a)=>{e.exports=a.p+"static/media/finger_success.1cae1bfaf912b6dcb6b3.gif"}}]);
//# sourceMappingURL=9858.be667283.chunk.js.map