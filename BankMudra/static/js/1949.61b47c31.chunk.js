"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[1949],{21964:(e,o,n)=>{n.r(o),n.d(o,{default:()=>x});var t=n(65043),r=n(72777),l=(n(91036),n(78161),n(94516)),i=n(11906),a=n(94496),s=n(61596),c=n(67807),d=n(43845),u=n(90035),v=n(73575),p=n(54358),f=n(70579);const m=e=>{let{children:o}=e;return(0,f.jsx)(l.A,{sx:{width:"100%",mx:"auto",my:1,px:3,py:4,pb:6,bgcolor:"white",borderRadius:1,boxShadow:0},children:o})},x=()=>{const e=(0,t.useRef)(),[o,n]=(0,t.useState)(!1),[x,h]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[A,b]=(0,t.useState)(!1),[S,j]=(0,t.useState)(null);return(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsx)(r.A,{}),(0,f.jsx)("div",{className:"PageHeading",children:(0,f.jsx)("h1",{children:"Bulk Payout Service"})}),(0,f.jsxs)(m,{children:[(0,f.jsx)(l.A,{mt:2,textAlign:"right",children:(0,f.jsx)(i.A,{variant:"outlined",onClick:()=>{const e=document.createElement("a");e.href="/sample-format.xlsx",e.download="Bulk_Payout_Format.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e)},sx:{color:"var(--bs-primary1)",borderColor:"var(--bs-primary1)",fontSize:14,textTransform:"none",mb:2},children:"Download Excel Format"})}),(0,f.jsxs)(l.A,{sx:{position:"relative",width:"100%",height:200,borderRadius:2,overflow:"hidden",bgcolor:"grey.200",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",border:"1px solid var(--bs-nav)"},children:[(0,f.jsx)("input",{ref:e,type:"file",accept:".xls,.xlsx",hidden:!0,onClick:e=>e.target.value=null,onChange:e=>{const o=e.target.files[0];if(!o)return;if(!["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(o.type))return(0,p.A)(!0,"Only Excel files (.xls, .xlsx) are allowed."),void(e.target.value=null);e.target.value=null,j(o),b(!0)}}),(0,f.jsx)(i.A,{variant:"outlined",sx:{color:"#fff",bgcolor:"#6C757D",borderColor:"#000000",fontSize:14,textTransform:"none"},disabled:o,onClick:()=>e.current.click(),children:"Upload Excel File"}),g&&(0,f.jsxs)(a.A,{mt:2,fontSize:13,color:"textSecondary",children:["Selected File: ",(0,f.jsx)("strong",{children:g.name})]})]}),x&&(0,f.jsxs)(s.A,{elevation:0,sx:{mt:4,p:3,bgcolor:"#f9f9f9",borderRadius:2},children:[(0,f.jsx)(a.A,{variant:"subtitle1",fontWeight:600,sx:{color:"var(--bs-nav)",fontSize:16,mb:2},children:"Transaction Summary"}),(0,f.jsxs)(c.A,{direction:"row",spacing:2,mb:2,children:[(0,f.jsx)(d.A,{label:(0,f.jsxs)(a.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Success: ",x.success]}),sx:{bgcolor:"green",px:1.5,py:.5}}),(0,f.jsx)(d.A,{label:(0,f.jsxs)(a.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Pending: ",x.pending]}),sx:{bgcolor:"#f0ad4e",px:1.5,py:.5}}),(0,f.jsx)(d.A,{label:(0,f.jsxs)(a.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Failed: ",x.failed]}),sx:{bgcolor:"#d9534f",px:1.5,py:.5}}),(0,f.jsx)(d.A,{label:(0,f.jsxs)(a.A,{sx:{fontSize:14,color:"#fff",fontWeight:500},children:["Refund: ",x.refund]}),sx:{bgcolor:"#6f42c1",px:1.5,py:.5}})]}),(0,f.jsxs)(a.A,{variant:"body2",fontSize:14,children:[(0,f.jsx)("strong",{style:{color:"var(--bs-nav)"},children:"Total Amount:"})," ",x.totalAmount]}),(0,f.jsxs)(a.A,{variant:"body2",fontSize:14,children:[(0,f.jsx)("strong",{style:{color:"var(--bs-nav)"},children:"Total Records:"})," ",x.total]})]})]}),(0,f.jsx)(u.A,{open:A,onClose:()=>b(!1),PaperProps:{sx:()=>({borderRadius:4,paddingY:2,backdropFilter:"blur(10px)",background:"white",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"})},children:(0,f.jsxs)(l.A,{p:3,children:[(0,f.jsx)(a.A,{variant:"h6",sx:{color:"var(--bs-nav)",fontSize:"18px"},gutterBottom:!0,children:"Confirm Bulk Payout"}),(0,f.jsxs)(a.A,{variant:"body2",sx:{color:"var(--bs-nav)",fontSize:"14px"},mb:1,children:["Selected File: ",(0,f.jsx)("strong",{children:null===S||void 0===S?void 0:S.name})]}),(0,f.jsx)(a.A,{variant:"body2",sx:{color:"var(--bs-nav)",fontSize:"14px"},mb:2,children:"Are you sure you want to proceed with this file? This action may trigger financial transactions."}),(0,f.jsxs)(c.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,f.jsx)(i.A,{onClick:()=>b(!1),color:"error",variant:"outlined",sx:{borderRadius:2,px:4,width:"150px"},children:"Cancel"}),(0,f.jsx)(i.A,{onClick:async()=>{b(!1),h(null),y(S),n(!0);try{var e,o,t,r,l,i,a,s,c,d,u,f,m,x;const n=new FormData;n.append("excelFile",S);let g=await(0,v.lr1)(n);(0,p.A)(null===g||void 0===g||null===(e=g.data)||void 0===e?void 0:e.error,null===g||void 0===g||null===(o=g.data)||void 0===o?void 0:o.message),h({success:(null===g||void 0===g||null===(t=g.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.successCount)||0,pending:(null===g||void 0===g||null===(l=g.data)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.pendingCount)||0,failed:(null===g||void 0===g||null===(a=g.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.failureCount)||0,refund:(null===g||void 0===g||null===(c=g.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.refundCount)||0,total:(null===g||void 0===g||null===(u=g.data)||void 0===u||null===(f=u.data)||void 0===f?void 0:f.totalRecords)||0,totalAmount:(null===g||void 0===g||null===(m=g.data)||void 0===m||null===(x=m.data)||void 0===x?void 0:x.totalAmount)||0})}catch(g){console.error(g)}finally{n(!1),j(null)}},color:"primary",variant:"contained",sx:{backgroundColor:"var(--bs-primary1)",borderRadius:2,px:4,width:"150px"},children:"Proceed"})]})]})})]})}},54358:(e,o,n)=>{n.d(o,{A:()=>r});var t=n(91036);function r(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?t.oR.success(o):t.oR.error(o)}},67807:(e,o,n)=>{n.d(o,{A:()=>j});var t=n(65043),r=n(58387),l=n(19172),i=n(72372),a=n(98610),s=n(66620),c=n(91720),d=n(38222),u=n(52390),v=n(81136),p=n(80883),f=n(70579);const m=(0,u.A)(),x=(0,s.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root});function h(e){return(0,c.A)({props:e,name:"MuiStack",defaultTheme:m})}function g(e,o){const n=t.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,l)=>(e.push(r),l<n.length-1&&e.push(t.cloneElement(o,{key:"separator-".concat(l)})),e)),[])}const y=e=>{let{ownerState:o,theme:n}=e,t={display:"flex",flexDirection:"column",...(0,v.NI)({theme:n},(0,v.kW)({values:o.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e})))};if(o.spacing){const e=(0,p.LX)(n),r=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof o.spacing&&null!=o.spacing[n]||"object"===typeof o.direction&&null!=o.direction[n])&&(e[n]=!0),e)),{}),i=(0,v.kW)({values:o.direction,base:r}),a=(0,v.kW)({values:o.spacing,base:r});"object"===typeof i&&Object.keys(i).forEach(((e,o,n)=>{if(!i[e]){const t=o>0?i[n[o-1]]:"column";i[e]=t}}));const s=(n,t)=>{return o.useFlexGap?{gap:(0,p._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((r=t?i[t]:o.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]))]:(0,p._W)(e,n)}};var r};t=(0,l.A)(t,(0,v.NI)({theme:n},a,s))}return t=(0,v.iZ)(n.breakpoints,t),t};var A=n(34535),b=n(72876);const S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:o=x,useThemeProps:n=h,componentName:l="MuiStack"}=e,s=o(y),c=t.forwardRef((function(e,o){const t=n(e),c=(0,d.A)(t),{component:u="div",direction:v="column",spacing:p=0,divider:m,children:x,className:h,useFlexGap:y=!1,...A}=c,b={direction:v,spacing:p,useFlexGap:y},S=(0,a.A)({root:["root"]},(e=>(0,i.Ay)(l,e)),{});return(0,f.jsx)(s,{as:u,ownerState:b,ref:o,className:(0,r.A)(S.root,h),...A,children:m?g(x,m):x})}));return c}({createStyledComponent:(0,A.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root}),useThemeProps:e=>(0,b.A)({props:e,name:"MuiStack"})}),j=S},72876:(e,o,n)=>{n.d(o,{A:()=>i});var t=n(91720),r=n(15170),l=n(13375);function i(e){let{props:o,name:n}=e;return(0,t.A)({props:o,name:n,defaultTheme:r.A,themeId:l.A})}},59662:(e,o,n)=>{n.d(o,{A:()=>h});var t=n(65043),r=n(58387),l=n(98610),i=n(6803),a=n(34535),s=n(66870),c=n(98206),d=n(92532),u=n(72372);function v(e){return(0,u.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(70579);const f=(0,a.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,"inherit"!==n.color&&o["color".concat((0,i.A)(n.color))],o["fontSize".concat((0,i.A)(n.fontSize))]]}})((0,s.A)((e=>{var o,n,t,r,l,i,a,s,c,d,u,v,p,f,m;let{theme:x}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(o=x.transitions)||void 0===o||null===(n=o.create)||void 0===n?void 0:n.call(o,"fill",{duration:null===(t=(null!==(r=x.vars)&&void 0!==r?r:x).transitions)||void 0===t||null===(t=t.duration)||void 0===t?void 0:t.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(l=x.typography)||void 0===l||null===(i=l.pxToRem)||void 0===i?void 0:i.call(l,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=x.typography)||void 0===a||null===(s=a.pxToRem)||void 0===s?void 0:s.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=x.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=x.vars)&&void 0!==u?u:x).palette).filter((e=>{let[,o]=e;return o&&o.main})).map((e=>{var o,n;let[t]=e;return{props:{color:t},style:{color:null===(o=(null!==(n=x.vars)&&void 0!==n?n:x).palette)||void 0===o||null===(o=o[t])||void 0===o?void 0:o.main}}})),{props:{color:"action"},style:{color:null===(v=(null!==(p=x.vars)&&void 0!==p?p:x).palette)||void 0===v||null===(v=v.action)||void 0===v?void 0:v.active}},{props:{color:"disabled"},style:{color:null===(f=(null!==(m=x.vars)&&void 0!==m?m:x).palette)||void 0===f||null===(f=f.action)||void 0===f?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),m=t.forwardRef((function(e,o){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:a,className:s,color:d="inherit",component:u="svg",fontSize:m="medium",htmlColor:x,inheritViewBox:h=!1,titleAccess:g,viewBox:y="0 0 24 24",...A}=n,b=t.isValidElement(a)&&"svg"===a.type,S={...n,color:d,component:u,fontSize:m,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:b},j={};h||(j.viewBox=y);const w=(e=>{const{color:o,fontSize:n,classes:t}=e,r={root:["root","inherit"!==o&&"color".concat((0,i.A)(o)),"fontSize".concat((0,i.A)(n))]};return(0,l.A)(r,v,t)})(S);return(0,p.jsxs)(f,{as:u,className:(0,r.A)(w.root,s),focusable:"false",color:x,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:o,...j,...A,...b&&a.props,ownerState:S,children:[b?a.props.children:a,g?(0,p.jsx)("title",{children:g}):null]})}));m&&(m.muiName="SvgIcon");const x=m;function h(e,o){function n(n,t){return(0,p.jsx)(x,{"data-testid":"".concat(o,"Icon"),ref:t,...n,children:e})}return n.muiName=x.muiName,t.memo(t.forwardRef(n))}},66620:(e,o,n)=>{n.d(o,{A:()=>t});const t=(0,n(33860).Ay)()},52515:(e,o,n)=>{n.d(o,{A:()=>r});var t=n(13030);function r(e){const{theme:o,name:n,props:r}=e;return o&&o.components&&o.components[n]&&o.components[n].defaultProps?(0,t.A)(o.components[n].defaultProps,r):r}},91720:(e,o,n)=>{n.d(o,{A:()=>l});var t=n(52515),r=n(98366);function l(e){let{props:o,name:n,defaultTheme:l,themeId:i}=e,a=(0,r.A)(l);return i&&(a=a[i]||a),(0,t.A)({theme:a,name:n,props:o})}}}]);
//# sourceMappingURL=1949.61b47c31.chunk.js.map