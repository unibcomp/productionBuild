"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2225],{14722:(e,a,n)=>{n.r(a),n.d(a,{default:()=>c});var i=n(95870),l=n(8860),t=n(65043),s=n(73575),o=n(37070),d=n(91036),r=n(83141),u=n(70579);const c=function(e){let{apiAepsType:a,walletShowHeader:n}=e;console.log("apiAepsType",a);const[c,m]=(0,t.useState)(!1),[v,h]=(0,t.useState)(null),[p,b]=(0,t.useState)(0),[g,x]=(0,t.useState)({latitude:null,longitude:null}),[y,f]=(0,t.useState)(null),[j,A]=(0,t.useState)(),[S,w]=(0,t.useState)(""),[C,N]=(0,t.useState)({accessmodetype:"site",latitude:"",longitude:"",mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Balance Enquiry",user_id:"",is_iris:"NO",data:"",amount:""}),[k,P]=(0,t.useState)({mobilenumber:"",adhaarnumber:"",amount:""}),_=(e,a)=>{const{name:n,value:i}=e.target;N((e=>({...e,[n]:i})));let l={...k};if("mobilenumber"===n&&(10!==i.length?l.mobilenumber="Mobile number must be 10 digits":l.mobilenumber=""),"adhaarnumber"===n&&(12!==i.length?l.adhaarnumber="Aadhaar number must be 12 digits":l.adhaarnumber=""),"amount"===n){const e=parseInt(i);isNaN(e)||e<99||e>1e4?l.amount="Amount must be between 100 and 10000":l.amount=e%50!==0?"Amount must be a multiple of 50":""}P(l)},[E,I]=(0,t.useState)(),[F,M]=(0,t.useState)(!1),D=e=>{const a=(null===e||void 0===e?void 0:e.pid_data)+"<bookz/>";var n=(new DOMParser).parseFromString(a,"application/xml");"0"==(null===e||void 0===e?void 0:e.errCode)&&B("Finger Capture Successfully."),"700"==(null===e||void 0===e?void 0:e.errCode)&&T("Finger Capture Not Successfully."),1==(null===e||void 0===e?void 0:e.httpSuccess)&&A(window.btoa((new XMLSerializer).serializeToString(n)))},B=e=>{d.oR.success("".concat(e),{position:"top-center",autoClose:2e3})},T=e=>{d.oR.error("".concat(e),{position:"top-center",autoClose:2e3})};return(0,t.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){x({latitude:e.coords.latitude,longitude:e.coords.longitude})})):alert("Geolocation is not available in your browser.")}),[]),(0,t.useEffect)((()=>{(async()=>{try{var e,a;const n=await(0,s.cPZ)();console.log(null===n||void 0===n?void 0:n.data);const i=null===n||void 0===n||null===(e=n.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map((e=>({...e,label:e.bankName})));f(i)}catch(n){}})()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"card",children:[(0,u.jsxs)("div",{className:"card-header",children:[(0,u.jsx)("span",{children:"Aadhaar Pay"}),(0,u.jsx)("span",{children:(0,u.jsx)(l.MeW,{})})]}),(0,u.jsx)("div",{className:"card-body",children:(0,u.jsxs)("form",{action:"",method:"post",name:"frmReport",id:"frmReport",children:[(0,u.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Mobile ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"mobilenumber",id:"account_no",className:"form-control ".concat(k.mobilenumber?"is-invalid":""),placeholder:"Enter Customer Mobile",value:C.mobilenumber,onChange:e=>_(e)}),k.mobilenumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:k.mobilenumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Aadhaar ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"adhaarnumber",id:"account_no",className:"form-control ".concat(k.adhaarnumber?"is-invalid":""),placeholder:"Enter Customer Aadhaar",value:C.adhaarnumber,onChange:e=>_(e)}),k.adhaarnumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:k.adhaarnumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Amount ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"amount",id:"account_no",className:"form-control ".concat(k.amount?"is-invalid":""),placeholder:"Enter Amount (100-10000, multiple of 50)",value:C.amount,onChange:_}),k.amount&&(0,u.jsx)("div",{className:"invalid-feedback",children:k.amount})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Select Bank Name ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)(i.Ay,{value:E,name:"showBanak",options:y,className:"games-dropdown-2 customsection",classNamePrefix:"select",onChange:e=>{console.log(e);y.find((a=>(null===a||void 0===a?void 0:a.bankID)==e.bankID));I(e)}},p)]}),(0,u.jsxs)("div",{className:"form-group col-md-3 ml-2",style:{display:"inline-grid"},children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Scan Finger Print ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("button",{type:"button",className:"btn btn-success",disabled:!C.mobilenumber||!C.adhaarnumber||!(null!==E&&void 0!==E&&E.iinno)||!C.amount,onClick:()=>{try{new o.N("http://127.0.0.1:11100/rd/capture",D)}catch(e){console.log(e)}},children:"Capture Finger"})]}),(0,u.jsx)("div",{className:"form-group col-md-12 text-center",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!C.mobilenumber||!C.adhaarnumber||!(null!==E&&void 0!==E&&E.iinno)||!j||!C.amount||F,onClick:async()=>{M(!0);const e={...C,nationalbankidentification:null===E||void 0===E?void 0:E.iinno,latitude:g.latitude,longitude:g.longitude,data:j,user_id:window.localStorage.getItem("userIdToken"),bank:a};try{var i,l;const a=await(0,s.qXu)(e);var t,o;if(1==(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error))d.oR.error((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||(null===a||void 0===a?void 0:a.message)||"transaction failed");if(0==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.error))h(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.data),m(!0),N({accessmodetype:"site",latitude:g.latitude,longitude:g.longitude,mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Balance Enquiry",user_id:"",is_iris:"NO",data:"",amount:""}),n&&n(),I(null),A(null),b((e=>e+1))}catch(r){console.error("Error submitting data:",r),d.oR.error("An error occurred. Please try again.")}finally{M(!1)}},children:F?"Processing...":"Proceed"})})]})]})})]}),(0,u.jsx)(r.A,{show:c,onHide:()=>m(!1),adharPay:"Aadhaar Pay",dataModal:v})]})}},36350:(e,a,n)=>{n.r(a),n.d(a,{default:()=>c});var i=n(95870),l=n(8860),t=n(65043),s=n(91036),o=n(37070),d=n(73575),r=n(83141),u=n(70579);const c=function(e){let{active:a,walletShowHeader:n,apiAepsType:c}=e;console.log("apiAepsType",c);const[m,v]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[b,g]=(0,t.useState)({latitude:null,longitude:null}),[x,y]=(0,t.useState)(null),[f,j]=(0,t.useState)(0),[A,S]=(0,t.useState)(),[w,C]=(0,t.useState)(!0),[N,k]=(0,t.useState)(),[P,_]=(0,t.useState)(!0),[E,I]=(0,t.useState)(!1),[F,M]=(0,t.useState)(!1),[D,B]=(0,t.useState)(!1),[T,O]=(0,t.useState)({accessmodetype:"site",latitude:"",longitude:"",mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Balance Enquiry",user_id:"",is_iris:"NO",amount:"",data:"",merAuthTxnId:""}),[R,q]=(0,t.useState)({mobilenumber:"",adhaarnumber:"",amount:""}),W=(e,a)=>{const n={...T},i=e.target.value,l=e.target.name;let t={...R};if("mobilenumber"===l&&(10!==i.length?t.mobilenumber="Mobile number must be 10 digits long":t.mobilenumber=""),"adhaarnumber"===l&&(12!==i.length?t.adhaarnumber="Aadhaar number must be 12 digits long":t.adhaarnumber=""),"amount"===l){const e=parseInt(i),a=e>=100&&e<=1e4&&e%50===0;I(a),t.amount=a?"":"Amount must be between 100 and 10000, and a multiple of 50"}if(n[l]=i,"mobilenumber"==a&&11==i.length)return;if("adhaarnumber"==a&&13==i.length)return;O(n),q(t);const s=10===n.mobilenumber.length,o=12===n.adhaarnumber.length,d=parseInt(n.amount)>=100&&parseInt(n.amount)<=1e4&&parseInt(n.amount)%50===0;M(s&&o&&d&&void 0!==U)},[U,H]=(0,t.useState)();console.log(U);const z=e=>{s.oR.success("".concat(e),{position:"top-center",autoClose:2e3})},L=e=>{s.oR.error("".concat(e),{position:"top-center",autoClose:2e3})},[K,V]=(0,t.useState)({accessmodetype:"site",latitude:"",longitude:"",data:"",ipaddress:"",user_id:""}),X=e=>{const a=(null===e||void 0===e?void 0:e.pid_data)+"<bookz/>";var n=(new DOMParser).parseFromString(a,"application/xml");"0"==(null===e||void 0===e?void 0:e.errCode)&&(z("Finger Capture Successfully."),C(!1)),"700"==(null===e||void 0===e?void 0:e.errCode)&&L("Finger Capture Not Successfully."),1==(null===e||void 0===e?void 0:e.httpSuccess)&&S(window.btoa((new XMLSerializer).serializeToString(n)))};return(0,t.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){g({latitude:e.coords.latitude,longitude:e.coords.longitude})})):alert("Geolocation is not available in your browser.")}),[]),(0,t.useEffect)((()=>{(async()=>{try{var e,a;const n=await(0,d.cPZ)();console.log(null===n||void 0===n?void 0:n.data);const i=null===n||void 0===n||null===(e=n.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map((e=>({...e,label:e.bankName})));y(i)}catch(n){}})();const e=e=>{console.log("Component is exiting. Run cleanup code here."),e.returnValue=""};return console.log("Component is exiting."),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"card",children:[(0,u.jsxs)("div",{className:"card-header",children:[(0,u.jsx)("span",{children:"Cash Withdrawal (Min: 100, Max: 10000)"}),(0,u.jsx)("span",{children:(0,u.jsx)(l.MeW,{})})]}),(0,u.jsx)("div",{className:"card-body",children:(0,u.jsxs)("form",{action:"",method:"post",name:"frmReport",id:"frmReport",children:[(0,u.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Mobile ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"mobilenumber",id:"account_no",className:"form-control ".concat(T.mobilenumber&&(10===T.mobilenumber.length?"":"is-invalid")),placeholder:"Enter Customer Mobile",value:T.mobilenumber,onChange:e=>W(e,"mobilenumber"),maxLength:"10"}),R.mobilenumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:R.mobilenumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Aadhaar ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"adhaarnumber",id:"account_no",className:"form-control ".concat(T.adhaarnumber&&(12===T.adhaarnumber.length?"is-valid":"is-invalid")),placeholder:"Enter Customer Aadhaar",value:T.adhaarnumber,onChange:e=>W(e,"adhaarnumber"),maxLength:"12"}),R.adhaarnumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:R.adhaarnumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Amount ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"amount",id:"account_no",className:"form-control ".concat(T.amount&&(E?"is-valid":"is-invalid")),placeholder:"Enter Amount (100-10000, multiple of 50)",value:T.amount,onChange:W}),R.amount&&(0,u.jsx)("div",{className:"invalid-feedback",children:R.amount})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Select Bank Name ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)(i.Ay,{value:U,name:"showBanak",options:x,className:"games-dropdown-2 customsection",classNamePrefix:"select",onChange:e=>{console.log(e);x.find((a=>(null===a||void 0===a?void 0:a.bankID)==e.bankID));H(e);const a=10===T.mobilenumber.length,n=12===T.adhaarnumber.length,i=T.amount>=100&&T.amount<=1e4&&T.amount%50===0;M(a&&n&&i&&void 0!==e)}},f)]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Finger Print ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("button",{type:"button",disabled:!E||!F,className:"btn btn-success",onClick:()=>{try{new o.N("http://127.0.0.1:11100/rd/capture",X)}catch(e){console.log(e)}},children:"Customer Capture Finger"})]}),(0,u.jsx)("div",{className:"form-group col-md-12 text-center ml-2",children:(0,u.jsx)("button",{type:"button",disabled:!T.amount||!T.mobilenumber||!T.adhaarnumber||!(null!==U&&void 0!==U&&U.iinno)||!E||w||D,className:"btn btn-primary",onClick:async()=>{B(!0);const e={...T,nationalbankidentification:null===U||void 0===U?void 0:U.iinno,latitude:b.latitude,longitude:b.longitude,data:A,merAuthTxnId:N,user_id:window.localStorage.getItem("userIdToken"),bank:c};try{var a,i;const s=await(0,d.Dxy)(e);var l,t;if(1==(null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error))L((null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||(null===s||void 0===s?void 0:s.message)||"Transction failed");if(0==(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error))z(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message),p(null===s||void 0===s?void 0:s.data),v(!0),n&&n(),O({accessmodetype:"site",latitude:b.latitude,longitude:b.longitude,mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Balance Enquiry",user_id:"",is_iris:"NO",amount:"",data:"",merAuthTxnId:""}),H(""),C(!0),_(!0),j((e=>e+1))}catch(s){L("An error occurred. Please try again.")}finally{B(!1)}},children:D?"Processing...":"Proceed"})})]})]})})]}),(0,u.jsx)(r.A,{show:m,onHide:()=>v(!1),adharPay:"Cash Withdrawal",dataModal:h})]})}},69108:(e,a,n)=>{n.r(a),n.d(a,{default:()=>c});var i=n(65043),l=n(95870),t=n(33865),s=n(73575),o=n(37070),d=n(91036),r=n(83141),u=n(70579);const c=function(e){let{apiAepsType:a}=e;const[n,c]=(0,i.useState)(!1),[m,v]=(0,i.useState)({latitude:null,longitude:null}),[h,p]=(0,i.useState)(null),[b,g]=(0,i.useState)(null),[x,y]=(0,i.useState)(),[f,j]=(0,i.useState)(),[A,S]=(0,i.useState)(0),[w,C]=(0,i.useState)(!1),[N,k]=(0,i.useState)({accessmodetype:"site",latitude:"",longitude:"",mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Mini Statement",user_id:"",is_iris:"NO",data:""}),[P,_]=(0,i.useState)({mobilenumber:"",adhaarnumber:""}),E=e=>{const{name:a,value:n}=e.target;k((e=>({...e,[a]:n}))),"mobilenumber"===a&&(10!==n.length?_((e=>({...e,mobilenumber:"Mobile number must be 10 digits"}))):_((e=>({...e,mobilenumber:""})))),"adhaarnumber"===a&&(12!==n.length?_((e=>({...e,adhaarnumber:"Aadhaar number must be 12 digits"}))):_((e=>({...e,adhaarnumber:""}))))},I=e=>{if("0"===(null===e||void 0===e?void 0:e.errCode)){if(F("Finger Capture Successfully."),null!==e&&void 0!==e&&e.httpSuccess){const n=(null===e||void 0===e?void 0:e.pid_data)+"<bookz/>";var a=(new DOMParser).parseFromString(n,"application/xml");y(window.btoa((new XMLSerializer).serializeToString(a)))}}else"700"===(null===e||void 0===e?void 0:e.errCode)&&M("Finger Capture Not Successful.")},F=e=>{d.oR.success(e,{position:"top-center",autoClose:2e3})},M=e=>{d.oR.error(e,{position:"top-center",autoClose:2e3})},D=()=>{k({accessmodetype:"site",latitude:m.latitude,longitude:m.longitude,mobilenumber:"",adhaarnumber:"",nationalbankidentification:"",requestremarks:"Aeps Mini Statement",user_id:"",is_iris:"NO",data:""}),j(null),y(null),S((e=>e+1))};return(0,i.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){v({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){console.error("Error getting location:",e)})):console.log("Geolocation is not supported by your browser."),(async()=>{try{var e,a;const n=await(0,s.cPZ)(),i=null===n||void 0===n||null===(e=n.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map((e=>({...e,label:e.bankName})));g(i)}catch(n){console.error("Error fetching bank list:",n),M("Error fetching bank list. Please try again.")}})()}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"card",children:[(0,u.jsxs)("div",{className:"card-header",children:[(0,u.jsx)("span",{children:"Mini Statement"}),(0,u.jsx)("span",{children:(0,u.jsx)(t.yQZ,{})})]}),(0,u.jsx)("div",{className:"card-body",children:(0,u.jsxs)("form",{action:"",method:"post",name:"frmReport",id:"frmReport",children:[(0,u.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,u.jsxs)("div",{className:"form-row",children:[(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Mobile ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"mobilenumber",id:"account_no",className:"form-control ".concat(P.mobilenumber?"is-invalid":""),placeholder:"Enter Customer Mobile",value:N.mobilenumber,onChange:E}),P.mobilenumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:P.mobilenumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Customer Aadhaar ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("input",{type:"number",name:"adhaarnumber",id:"account_no",className:"form-control ".concat(P.adhaarnumber?"is-invalid":""),placeholder:"Enter Customer Aadhaar",value:N.adhaarnumber,onChange:E}),P.adhaarnumber&&(0,u.jsx)("div",{className:"invalid-feedback",children:P.adhaarnumber})]}),(0,u.jsxs)("div",{className:"form-group col-md-6",children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Select Bank Name ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)(l.Ay,{value:f,name:"showBanak",options:b,className:"games-dropdown-2 customsection",classNamePrefix:"select",onChange:e=>{j(e)}},A)]}),(0,u.jsxs)("div",{className:"form-group col-md-3 ml-2",style:{display:"inline-grid"},children:[(0,u.jsxs)("label",{htmlFor:"txtUserId",children:["Scan Finger Print ",(0,u.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,u.jsx)("button",{type:"button",className:"btn btn-success",disabled:!(10===N.mobilenumber.length&&12===N.adhaarnumber.length&&(null===f||void 0===f?void 0:f.iinno)),onClick:()=>{if(m.latitude&&m.longitude)try{new o.N("http://127.0.0.1:11100/rd/capture",I)}catch(e){console.error("Error capturing fingerprint:",e),M("Error capturing fingerprint. Please try again.")}else M("Location data is not available. Please enable location and refresh the page.")},children:"Capture Finger"})]}),(0,u.jsx)("div",{className:"form-group col-md-12 text-center",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!N.mobilenumber||!N.adhaarnumber||!(null!==f&&void 0!==f&&f.iinno)||!x||w,onClick:async()=>{if(!m.latitude||!m.longitude)return void M("Location data is not available. Please enable location and refresh the page.");C(!0);const e={...N,nationalbankidentification:null===f||void 0===f?void 0:f.iinno,latitude:m.latitude,longitude:m.longitude,data:x,user_id:window.localStorage.getItem("userIdToken"),bank:a};try{var n;const a=await(0,s.vMi)(e);var i;if(null!==a&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.error)M(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message);else p(null===a||void 0===a?void 0:a.data),c(!0),D()}catch(l){console.error("Error submitting data:",l),M("Error submitting data. Please try again.")}finally{C(!1)}},children:w?"Processing...":"Proceed"})})]})]})})]}),(0,u.jsx)(r.A,{show:n,onHide:()=>c(!1),adharPay:"Mini Statement",dataModal:h})]})}},25847:(e,a,n)=>{n.r(a),n.d(a,{default:()=>_});var i=n(65043),l=n(70929),t=n(70579);var s=n(73575),o=n(69347),d=(n(91036),n(66259)),r=n(77583),u=n(65251),c=n(79422),m=n(5328),v=n(76796),h=n(36350),p=n(69108),b=n(14722),g=n(29716);const x=function(e){let{balanceEnquiryPermission:a,cashWithdrawalPermission:n,miniStatementPermission:l,aadhaarPayPermission:s,walletShowHeader:o,isInstantpayOnBoarded:d,apiAepsType:r}=e;console.log("CompleteOnBoarding Props:",{balanceEnquiryPermission:a,cashWithdrawalPermission:n,miniStatementPermission:l,aadhaarPayPermission:s});const[u,x]=(0,i.useState)(!0),[y,f]=(0,i.useState)();return(0,i.useEffect)((()=>{s&&f("Aadhaar Pay"),l&&f("Mini Statement"),n&&f("Cash Withdrawal"),a&&f("Balance Enquiry")}),[s,l,n,a]),console.log(u),(0,t.jsx)(t.Fragment,{children:s||l||n||a?(0,t.jsx)("div",{className:"ContentArea",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("span",{children:"AEPS Services"})}),(0,t.jsx)("div",{className:"row p-4",children:(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"aeps-tab-section",children:(0,t.jsxs)(c.A,{activeKey:y,id:"uncontrolled-tab-example",className:"mb-3",onSelect:e=>{f(e),x(!1)},children:[a&&(0,t.jsx)(m.A,{eventKey:"Balance Enquiry",title:"Balance Enquiry ",onChange:()=>{x(!1)},children:(0,t.jsx)(v.default,{active:u,apiAepsType:r,walletShowHeader:o})}),n&&(0,t.jsx)(m.A,{eventKey:"Cash Withdrawal",title:"Cash Withdrawal",onChange:()=>{x(!1)},children:(0,t.jsx)(h.default,{active:u,walletShowHeader:o,apiAepsType:r})}),l&&(0,t.jsx)(m.A,{eventKey:"Mini Statement",title:"Mini Statement",onChange:()=>{x(!1)},children:(0,t.jsx)(p.default,{apiAepsType:r})}),s&&(0,t.jsx)(m.A,{eventKey:"Aadhaar Pay",title:"Aadhaar Pay",onChange:()=>{x(!1)},children:(0,t.jsx)(b.default,{apiAepsType:r,walletShowHeader:o})})]})})})})]})}):(0,t.jsx)(g.A,{message:"Services is Disable by Admin",type:"warning",showIcon:!0})})};var y=n(72777),f=n(80878),j=(n(55268),n(40794)),A=n(17392),S=n(74802),w=n(53193),C=n(51292),N=n(57972),k=n(74605),P=n(14256);const _=function(e){var a,n,c,m,v;let{walletShowHeader:h,profiledata:p}=e;const[b,_]=(0,i.useState)(!1),[E,I]=(0,i.useState)(""),F="Aeps2"===E?"aeps2":"Aeps4"===E?"aeps4":"",[M,D]=(0,i.useState)(!1),[B,T]=(0,i.useState)(!1),[O,R]=(0,i.useState)(!1),[q,W]=(0,i.useState)(),[U,H]=(0,i.useState)(),[z,L]=(0,i.useState)(null),[K,V]=(0,i.useState)({}),[X,Z]=(0,i.useState)(1),[G,Y]=(0,i.useState)({Aeps2:{isPlanPurchased:!1,isOnboarded:!1,hasBankPermission:!1,isAuthRegistered:!1,hasDailyAuth:!1,permissions:{balanceEnquiry:!1,cashWithdrawal:!1,miniStatement:!1,aadhaarPay:!1}},Aeps4:{isPlanPurchased:!1,isOnboarded:!1,hasBankPermission:!1,isAuthRegistered:!1,hasDailyAuth:!1,permissions:{balanceEnquiry:!1,cashWithdrawal:!1,miniStatement:!1,aadhaarPay:!1}}}),[Q,J]=(0,i.useState)({show:!1,message:"",type:"error"}),$=()=>{J({...Q,show:!1})},ee=function(e){J({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"})},ae=(e,a)=>!(null===e||void 0===e||!e.bankActiveStatus)&&("Aeps2"===a?e.bankActiveStatus.Bank2||e.bankActiveStatus.Bank3:e.bankActiveStatus.Bank4),ne=async()=>{_(!0);try{var e,a,n;const[_,Q,ie,le]=await Promise.all([(0,s.Ug7)(),(0,s.YVd)(207),(0,s.YVd)(208),(0,s.sCV)()]);if(L(_.data.data.merchantCode),200==(null===_||void 0===_||null===(e=_.data)||void 0===e?void 0:e.statusCode)){var i,l,t,o,d,r,u,c,m,v,h,p,b,g,x,y,f,j,A,S,w,C,N,k,P,E,I,F,M,D,B,O,q,W,U,H,z,K,V,X,Z,G;!function(e){J({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})}((null===_||void 0===_||null===(i=_.data)||void 0===i?void 0:i.message)||(null===_||void 0===_?void 0:_.message)||"Permissions fetched successfully");const e=null===_||void 0===_||null===(l=_.data)||void 0===l?void 0:l.data;if(!e)throw new Error("Invalid response data");const a={Aeps2:{isPlanPurchased:e.is_active&&e.is_buy,isOnboarded:(null===(t=e.Aeps2)||void 0===t?void 0:t.is_onboarding)||!1,hasBankPermission:ae(e.Aeps2,"Aeps2"),isAuthRegistered:(null===(o=e.Aeps2)||void 0===o?void 0:o.authRegistered)||!1,hasDailyAuth:(null===(d=e.Aeps2)||void 0===d?void 0:d.dailyAuth)||!1,permissions:{balanceEnquiry:e.is_active&&e.is_buy&&(null===le||void 0===le||null===(r=le.data)||void 0===r||null===(u=r.data)||void 0===u?void 0:u.some((e=>"aeps2"===e.bank&&"BE"===e.slug&&e.status))),miniStatement:e.is_active&&e.is_buy&&(null===le||void 0===le||null===(c=le.data)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.some((e=>"aeps2"===e.bank&&"MS"===e.slug&&e.status))),cashWithdrawal:(null===Q||void 0===Q||null===(v=Q.data)||void 0===v||null===(h=v.data)||void 0===h?void 0:h.is_active)&&(null===Q||void 0===Q||null===(p=Q.data)||void 0===p||null===(b=p.data)||void 0===b?void 0:b.is_buy)&&(null===Q||void 0===Q||null===(g=Q.data)||void 0===g||null===(x=g.data)||void 0===x?void 0:x.is_buy)&&(null===le||void 0===le||null===(y=le.data)||void 0===y||null===(f=y.data)||void 0===f?void 0:f.some((e=>"aeps2"===e.bank&&"CW"===e.slug&&e.status))),aadhaarPay:(null===ie||void 0===ie||null===(j=ie.data)||void 0===j||null===(A=j.data)||void 0===A?void 0:A.is_active)&&(null===ie||void 0===ie||null===(S=ie.data)||void 0===S||null===(w=S.data)||void 0===w?void 0:w.is_buy)&&(null===le||void 0===le||null===(C=le.data)||void 0===C||null===(N=C.data)||void 0===N?void 0:N.some((e=>"aeps2"===e.bank&&"CD"===e.slug&&e.status)))}},Aeps4:{isPlanPurchased:e.is_active&&e.is_buy,isOnboarded:(null===(k=e.Aeps4)||void 0===k?void 0:k.is_onboarding)||!1,hasBankPermission:ae(e.Aeps4,"Aeps4"),isAuthRegistered:(null===(P=e.Aeps4)||void 0===P?void 0:P.authRegistered)||!1,hasDailyAuth:(null===(E=e.Aeps4)||void 0===E?void 0:E.dailyAuth)||!1,permissions:{balanceEnquiry:e.is_active&&e.is_buy&&(null===le||void 0===le||null===(I=le.data)||void 0===I||null===(F=I.data)||void 0===F?void 0:F.some((e=>"aeps4"===e.bank&&"BE"===e.slug&&e.status))),miniStatement:e.is_active&&e.is_buy&&(null===le||void 0===le||null===(M=le.data)||void 0===M||null===(D=M.data)||void 0===D?void 0:D.some((e=>"aeps4"===e.bank&&"MS"===e.slug&&e.status))),cashWithdrawal:(null===Q||void 0===Q||null===(B=Q.data)||void 0===B||null===(O=B.data)||void 0===O?void 0:O.is_active)&&(null===Q||void 0===Q||null===(q=Q.data)||void 0===q||null===(W=q.data)||void 0===W?void 0:W.is_buy)&&(null===le||void 0===le||null===(U=le.data)||void 0===U||null===(H=U.data)||void 0===H?void 0:H.some((e=>"aeps4"===e.bank&&"CW"===e.slug&&e.status))),aadhaarPay:(null===ie||void 0===ie||null===(z=ie.data)||void 0===z||null===(K=z.data)||void 0===K?void 0:K.is_active)&&(null===ie||void 0===ie||null===(V=ie.data)||void 0===V||null===(X=V.data)||void 0===X?void 0:X.is_buy)&&(null===le||void 0===le||null===(Z=le.data)||void 0===Z||null===(G=Z.data)||void 0===G?void 0:G.some((e=>"aeps4"===e.bank&&"CD"===e.slug&&e.status)))}}};console.log(a,"NewData"),console.log(a,"updateAepsData"),Y(a),!a.Aeps2.isOnboarded&&a.Aeps4.isOnboarded}else if("00127"==(null===_||void 0===_||null===(a=_.data)||void 0===a?void 0:a.statusCode))R(!0);else if("007"==(null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.statusCode)){var $;T(!0),ee((null===_||void 0===_||null===($=_.data)||void 0===$?void 0:$.message)||(null===_||void 0===_?void 0:_.message))}else{var ne;ee((null===_||void 0===_||null===(ne=_.data)||void 0===ne?void 0:ne.message)||"Failed to fetch permissions")}}catch(Q){ee(Q.message||"Failed to fetch permissions")}finally{_(!1)}},ie=async()=>{_(!0);try{var e;const i={user_id:localStorage.getItem("userIdToken"),bank:F},l=await(0,s.hWt)(i);var a,n;if(200!==(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.statusCode))throw new Error((null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message)||"Onboarding failed");window.open(l.data.data.url,"_blank"),ee((null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||(null===l||void 0===l?void 0:l.message)||"Onboarding successful","success"),await ne()}catch(Q){ee(Q.message)}finally{_(!1)}};(0,i.useEffect)((()=>{ne(),le()}),[]),console.log("apiAepsType",F);const le=async()=>{try{var e,a,n,i,l,t;let o=await(0,s.MhF)();V(null===o||void 0===o?void 0:o.data);let d="aeps2"===(null===o||void 0===o||null===(e=o.data)||void 0===e||null===(a=e.data)||void 0===a||null===(n=a.defaultAepsApiObj)||void 0===n?void 0:n.slug)?"Aeps2":null!==o&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&null!==(t=l.defaultAepsApiObj)&&void 0!==t&&t.slug?"Aeps4":"";console.log(d,"ativvetype"),I(d),"aeps4"===d&&D(!0),"aeps2"===d&&D(!1)}catch(Q){}};return(0,t.jsxs)("div",{className:"aeps-onboarding",children:[b&&(0,t.jsx)(y.A,{}),""!=E&&(0,t.jsx)("div",{className:"aeps-type-selector",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"2%"},children:(0,t.jsxs)(w.A,{component:"fieldset",style:{width:"100%",maxWidth:"400px"},children:[(0,t.jsx)(C.A,{children:"Select AEPS Type"}),(0,t.jsxs)(N.A,{value:E,onChange:e=>{const a=e.target.value;I(a),D("Aeps4"===a)},style:{display:"flex",justifyContent:"space-between"},children:[(null===K||void 0===K||null===(a=K.data)||void 0===a||null===(n=a.aepsApi)||void 0===n?void 0:n.some((e=>"aeps2"===(null===e||void 0===e?void 0:e.slug))))&&(0,t.jsx)(k.A,{value:"Aeps2",control:(0,t.jsx)(P.A,{}),label:(0,t.jsxs)(t.Fragment,{children:["AEPS 2",(null===G||void 0===G||null===(c=G.Aeps2)||void 0===c?void 0:c.isOnboarded)&&(0,t.jsx)("span",{style:{color:"green",marginLeft:"8px"},children:"\u2714 (Onboarded)"})]})}),(null===K||void 0===K||null===(m=K.data)||void 0===m||null===(v=m.aepsApi)||void 0===v?void 0:v.some((e=>"aeps4"===(null===e||void 0===e?void 0:e.slug))))&&(0,t.jsx)(k.A,{value:"Aeps4",control:(0,t.jsx)(P.A,{}),label:(0,t.jsxs)(t.Fragment,{children:["AEPS 4",G.Aeps4.isOnboarded&&(0,t.jsx)("span",{style:{color:"green",marginLeft:"8px"},children:"\u2714 (Onboarded)"})]})})]})]})}),(()=>{if(""===E)return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(g.A,{message:"Services is Disable by Admin",type:"warning",showIcon:!0})});const e=G[E];return null!==e&&void 0!==e&&e.isPlanPurchased?null!==e&&void 0!==e&&e.isOnboarded?null!==e&&void 0!==e&&e.hasBankPermission?null!==e&&void 0!==e&&e.isAuthRegistered?null!==e&&void 0!==e&&e.hasDailyAuth?(0,t.jsx)(x,{balanceEnquiryPermission:e.permissions.balanceEnquiry,cashWithdrawalPermission:e.permissions.cashWithdrawal,miniStatementPermission:e.permissions.miniStatement,aadhaarPayPermission:e.permissions.aadhaarPay,walletShowHeader:h,apiAepsType:F,isInstantpayOnBoarded:M}):(0,t.jsx)(u.A,{onDailyAuthComplete:()=>ne(),apiAepsType:F}):(0,t.jsx)(r.A,{apiAepsType:F,onDailyAuthComplete:()=>ne()}):(0,t.jsx)(d.A,{profiledata:p,onDailyAuthComplete:()=>ne(),apiAepsType:F,merchnadecode:z}):(0,t.jsx)(l.A,{onBoardingApiCall:ie,apiAepsType:F,isInstantpayOnBoarded:M,permissionAeps:ne,setbankverify:T,merchnadecode:z}):(0,t.jsx)(o.A,{})})(),(0,t.jsx)(f.A,{show:B,onHide:()=>T(!1),permissionAeps:ne}),O&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"#ffcccc",borderRadius:"5px",margin:"20px auto",maxWidth:"400px"},children:[(0,t.jsx)("h2",{style:{color:"#cc0000"},children:"Bank Server is Down"}),(0,t.jsx)("p",{children:"We apologize for the inconvenience. Please try again later."})]}),(0,t.jsx)(j.A,{open:Q.show,autoHideDuration:6e3,onClose:$,message:Q.message,action:(0,t.jsx)(A.A,{size:"small",onClick:$,children:(0,t.jsx)(S.A,{})})})]})}}}]);
//# sourceMappingURL=2225.b18c9dc9.chunk.js.map