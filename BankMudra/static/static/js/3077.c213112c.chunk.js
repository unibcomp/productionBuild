"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[3077],{25780:(e,i,r)=>{r.d(i,{A:()=>t});var l=r(65043),a=r(25284),o=r(14282),n=r(70579);const t=e=>{let{show:i,handleClose:r,onSave:t}=e;const[d,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!1),[v,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(0),[b,g]=(0,l.useState)(null),[y,x]=(0,l.useState)(!0),[j,f]=(0,l.useState)(null),A=(0,l.useRef)(null),C=(0,l.useRef)(null),_=(0,l.useRef)(null),k=(0,l.useRef)([]);(0,l.useEffect)((()=>{i&&new Promise((e=>{navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((i=>{e(i.some((e=>"videoinput"===e.kind)))})).catch((()=>{e(!1)})):e(!1)})).then((e=>{f("result",e),e||g("No webcam detected. Please connect a webcam and try again.")}))}),[i]),(0,l.useEffect)((()=>{let e;return d&&!u?e=setInterval((()=>{p((e=>e+1))}),1e3):clearInterval(e),()=>clearInterval(e)}),[d,u]);const S=(0,l.useCallback)((()=>{j?navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((e=>{A.current.srcObject=e,_.current=e,C.current=new MediaRecorder(e),C.current.ondataavailable=I,C.current.onstop=N,C.current.start(1e3),s(!0),c(!1),p(0),k.current=[],g(null)})).catch((e=>{console.error("Error accessing media devices:",e),"NotAllowedError"===e.name?g("Please give permission to allow camera access and refresh page."):"NotFoundError"===e.name?g("System does not have a camera or camera is not responding. Please use another system to record video."):g("An error occurred while trying to access the camera. Please try again.")})):g("No webcam detected. Please connect a webcam and try again.")}),[j]),w=(0,l.useCallback)((()=>{C.current&&"inactive"!==C.current.state&&(C.current.stop(),_.current.getTracks().forEach((e=>e.stop())))}),[]),P=(0,l.useCallback)((()=>{C.current&&"recording"===C.current.state&&(C.current.pause(),c(!0))}),[]),M=(0,l.useCallback)((()=>{C.current&&"paused"===C.current.state&&(C.current.resume(),c(!1))}),[]),I=(0,l.useCallback)((e=>{let{data:i}=e;i.size>0&&k.current.push(i)}),[]),N=(0,l.useCallback)((()=>{const e=new Blob(k.current,{type:"video/webm"}),i=URL.createObjectURL(e);m(i),s(!1),c(!1)}),[]),T=()=>{_.current&&_.current.getTracks().forEach((e=>e.stop())),m(null),s(!1),c(!1),p(0),g(null),x(!0),r()};return(0,n.jsxs)(a.A,{show:i,onHide:T,centered:!0,size:"lg",children:[(0,n.jsx)(a.A.Header,{closeButton:!0,children:(0,n.jsx)(a.A.Title,{children:"Record Video"})}),(0,n.jsx)(a.A.Body,{className:"text-center",children:!1===j?(0,n.jsx)("div",{className:"alert alert-danger",children:"No webcam detected. Please connect a webcam and try again."}):b?(0,n.jsx)("div",{className:"alert alert-danger",children:b}):(0,n.jsxs)(n.Fragment,{children:[(!d||!v)&&(0,n.jsx)("video",{ref:A,width:"100%",height:"auto",autoPlay:!0,muted:d,style:{display:v?"none":"block",background:v?"":"black"}}),v&&!d&&(0,n.jsx)("video",{src:v,controls:!0,style:{width:"100%",maxWidth:"30rem"}}),(0,n.jsxs)("div",{className:"mt-3",children:[d&&(0,n.jsxs)("div",{children:["Recording Time: ",(e=>{const i=Math.floor(e/60),r=e%60;return"".concat(i.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))})(h)]}),!d&&!v&&(0,n.jsx)(o.A,{variant:"primary",onClick:S,children:"Start Recording"}),d&&!u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{variant:"warning",onClick:P,className:"me-2",children:"Pause"}),(0,n.jsx)(o.A,{variant:"danger",onClick:w,children:"Stop Recording"})]}),d&&u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{variant:"success",onClick:M,className:"me-2",children:"Resume"}),(0,n.jsx)(o.A,{variant:"danger",onClick:w,children:"Stop Recording"})]}),v&&!d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{variant:"success",style:{backgroundColor:"var(--bs-primary1)",border:"none"},onClick:()=>{t(v),r()},className:"me-2 mt-2",children:"Save Video"}),(0,n.jsx)(o.A,{variant:"secondary",onClick:()=>{m(null),p(0)},className:"mt-2",children:"Retake"})]})]})]})}),(0,n.jsx)(a.A.Footer,{children:(0,n.jsx)(o.A,{variant:"secondary",onClick:T,children:"Cancel"})})]})}},93077:(e,i,r)=>{r.r(i),r.d(i,{default:()=>be});var l=r(65043),a=r(12816),o=r(68903),n=r(12110),t=r(94496),d=r(67784),s=r(11906),u=r(94516),c=r(81045),v=r(67807),m=r(27108),h=r(91449),p=r(90035),b=r(26600),g=r(35316),y=r(29347),x=r(83625),j=r(24056),f=r(63516),A=r(80899),C=r(73575),_=r(63471),k=r(17392),S=r(61596),w=r(74605),P=r(51962),M=r(53193),I=r(18356),N=r(72221),T=r(54358),W=(r(91036),r(70579));const q=(0,l.createContext)(),O=e=>{let{children:i}=e;const[r,a]=(0,l.useState)(null),[o,n]=(0,l.useState)(""),[t,d]=(0,l.useState)({}),[s,u]=(0,l.useState)([""]),[c,v]=(0,l.useState)([""]),[m,h]=(0,l.useState)([""]),[p,b]=(0,l.useState)([""]),[g,y]=(0,l.useState)({pincode:"",weight:"",invoiceValue:"",insurance:!1,paymode:"Prepaid",ewayBill:"",appointmentDelivery:!1});return(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(q.Provider,{value:{city:o,setCity:n,shippingCharges:t,setShippingCharges:d,formData:g,setFormData:y,height:p,setHeight:b,qty:s,setQty:u,length:c,setLength:v,width:m,setWidth:h,warehouseDetails:r,setWarehouseDetails:a},children:i})})},B=()=>(0,l.useContext)(q);var E=r(73216);const D=e=>{let{hide:i=!1,...r}=e;return(0,W.jsx)(d.A,{variant:"outlined",size:"small",InputLabelProps:{shrink:!0,style:{fontSize:"16px"}},sx:{display:i?"none":"block","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"var(--bs-primary2)"},"&:hover fieldset":{borderColor:"var(--bs-primary2)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"},"& input":{color:"var(--bs-primary2) !important "}},"& .MuiInputLabel-root":{color:"var(--bs-primary2)"}},...r})},L=e=>{let{title:i,children:r}=e;return(0,W.jsx)(S.A,{sx:{padding:3,borderRadius:2,border:"1px solid #ccc",marginTop:4,color:"var(--bs-primary2)",backgroundColor:"var(--bs-primary1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,W.jsxs)(u.A,{sx:{px:2,py:1,backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:[i&&(0,W.jsx)(t.A,{variant:"h6",gutterBottom:!0,sx:{paddingBottom:2,fontWeight:"600",fontSize:"18px",color:"var(--bs-primary2)"},children:i}),(0,W.jsx)(u.A,{children:r})]})})},F=e=>{let{title:i,value:r}=e;return(0,W.jsxs)(u.A,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,W.jsx)(t.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"14px",color:"var(--bs-primary2)"},children:i}),(0,W.jsx)(t.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"14px",opacity:.8,color:"var(--bs-primary2)"},children:r})]})},R=e=>{let{setCheckWareHouse:i}=e;const[r,c]=(0,l.useState)(!1),{setWarehouseDetails:v}=B(),[m,h]=(0,l.useState)({name:"",city:"",state:"",pincode:"",address:""}),p=async e=>{var r,l,a;let o=await(0,C.W2S)({warehouseName:e.name,business_Address:null===e||void 0===e?void 0:e.address});if(null===o||void 0===o||null===(r=o.data)||void 0===r||!r.error){await(async()=>{try{var e;let l=await(0,C.qXS)();var r;200===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.statusCode)&&(v(null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.data),c(!0),i(!0))}catch(l){}})()}(0,T.A)(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.error,null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)};(0,l.useEffect)((()=>{(async()=>{try{var e;let i=await(0,C.JC2)();!1===(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.error)&&h((e=>{var r,l,a,o,n,t,d,s;return{...e,city:null===i||void 0===i||null===(r=i.data)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.business_city,state:null===i||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.business_state,pincode:null===i||void 0===i||null===(n=i.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.business_pincode,address:null===i||void 0===i||null===(d=i.data)||void 0===d||null===(s=d.data)||void 0===s?void 0:s.business_Address}}))}catch(i){}})()}),[]);const b=A.Ik({name:A.Yj().required("Warehouse name is required"),address:A.Yj().required("Warehouse address is required")});return(0,W.jsx)(a.A,{maxWidth:"lg",style:{marginTop:"2rem"},children:(0,W.jsx)(o.Ay,{container:!0,spacing:4,children:(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsxs)(n.A,{style:{padding:"2rem",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[(0,W.jsx)(t.A,{variant:"h5",align:"center",gutterBottom:!0,children:"Create a Warehouse"}),(0,W.jsx)(f.l1,{initialValues:m,enableReinitialize:!0,validationSchema:b,onSubmit:async(e,i)=>{let{setSubmitting:r}=i;await p(e),r(!1)},children:e=>{let{getFieldProps:i,touched:l,errors:a,values:n,setFieldValue:c,isSubmitting:v}=e;return(0,W.jsxs)(f.lV,{children:[(0,W.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,W.jsx)(o.Ay,{item:!0,xs:6,children:(0,W.jsx)(d.A,{label:"Name",variant:"outlined",fullWidth:!0,margin:"normal",...i("name"),error:l.name&&Boolean(a.name),helperText:l.name&&a.name,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:6,children:(0,W.jsx)(d.A,{label:"Address",variant:"outlined",fullWidth:!0,margin:"normal",...i("address"),error:l.address&&Boolean(a.address),helperText:l.address&&a.address,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary2)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}})}),Object.keys(m).filter((e=>!["name","address"].includes(e))).map((e=>(0,W.jsx)(o.Ay,{item:!0,xs:6,children:(0,W.jsx)(d.A,{label:e.charAt(0).toUpperCase()+e.slice(1),...i(e),error:l[e]&&Boolean(a[e]),helperText:l[e]&&a[e],disabled:!0,variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary2)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}})},e)))]}),(0,W.jsx)(t.A,{variant:"caption",color:"textSecondary",sx:{marginLeft:"0px",marginTop:"-4px"},children:"\ud83d\udccc Address Format : Shop No, Street/Colony, Landmark , City, Pincode (\u0926\u0941\u0915\u093e\u0928 \u0938\u0902\u0916\u094d\u092f\u093e, \u0917\u0932\u0940 \u092f\u093e \u0915\u0949\u0932\u094b\u0928\u0940 \u0915\u093e \u0928\u093e\u092e, \u0928\u091c\u0926\u0940\u0915\u0940 \u091a\u093f\u0928\u094d\u0939, \u0936\u0939\u0930 \u0915\u093e \u0928\u093e\u092e, \u092a\u093f\u0928\u0915\u094b\u0921)"}),(0,W.jsx)(u.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,justifyContent:"center",alignItems:"center",mt:3,children:(0,W.jsx)(s.A,{type:"submit",variant:"outlined",color:"primary",disabled:r||v,sx:{width:{xs:"100%",sm:"200px"},borderColor:"var(--bs-primary2)",color:"var(--bs-primary2)"},children:v?"Creating....":"Create Warehouse"})})]})}})]})})})})},U=e=>{let{setProcessStart:i}=e;const[r,u]=(0,l.useState)("");return(0,W.jsx)(a.A,{maxWidth:"sm",style:{marginTop:"2rem"},children:(0,W.jsx)(o.Ay,{container:!0,spacing:4,children:(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsxs)(n.A,{style:{padding:"2rem",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[(0,W.jsx)(t.A,{variant:"h6",align:"center",gutterBottom:!0,sx:{px:1,py:0,fontWeight:"600",fontSize:"20px",color:"var(--bs-primary2)"},children:"Check Pincode Service"}),(0,W.jsx)(d.A,{label:"Pincode",variant:"outlined",fullWidth:!0,value:r,onChange:e=>{const i=e.target.value;/^\d{0,6}$/.test(i)&&u(i)},inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},margin:"normal",required:!0,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary2)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}}),(0,W.jsx)(s.A,{variant:"contained",color:"primary",disabled:6!=(null===r||void 0===r?void 0:r.length),sx:{borderColor:"var(--bs-primary2)",marginTop:"15px",backgroundColor:"var(--bs-primary1)",color:"white"},fullWidth:!0,onClick:async()=>{var e,l,a,o;let n=await(0,C.blG)({pincode:r});null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.error||200!==(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.statusCode)||i(!0),(0,T.A)(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error,null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)},children:"Check Pincode"})]})})})})},Y=()=>{const[e,i]=(0,l.useState)({}),[r,a]=(0,l.useState)(!1),[n,d]=(0,l.useState)("NON ESSENTIALS"),c=(0,E.Zp)(),[v,m]=(0,l.useState)({}),[p,b]=(0,l.useState)(!0),[g,y]=(0,l.useState)(!1),[x,j]=(0,l.useState)(""),{warehouseDetails:f}=B(),[A,S]=(0,l.useState)([{productName:"",sku:"",unitPrice:"",quantity:"",productDiscount:"",taxRate:"",hsnCode:""}]),[q,O]=(0,l.useState)([{productName:"",unitPrice:"",quantity:"",sku:""}]),[R,U]=(0,l.useState)({}),Y=(e,r)=>{["invoice_number","billingPincode","billingMobile","deliveryMobile","deliveryPincode","deliveryAlternateMobile"].includes(e)&&""!==r&&!/^[0-9\b]+$/.test(r)||(m((i=>({...i,[e]:r}))),i((i=>({...i,[e]:""}))),"deliveryPincode"===e&&6===r.length&&(async e=>{var i;let r=await(0,C.tzY)(e);!1===(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)&&m((e=>{var i,l,a,o;return{...e,deliveryCity:null===(i=r.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.city,deliveryState:null===r||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.state}}))})(r))},z=()=>{var e,r,l,a,o,n,t;const d={},s=e=>/^[6-9]\d{9}$/.test(e),u=e=>/^\d{6}$/.test(e);var c,m,h,b,g,y,x;((null===v||void 0===v||!v.invoice_number||Number(v.invoice_number)<1)&&(d.invoice_number="Invoice value should greater than 1"),v.invoice_number>=5e4)&&(""===(null===v||void 0===v||null===(c=v.ewaybill_no)||void 0===c?void 0:c.trim())?d.ewaybill_no="E-Way Bill is required":12!==(null===v||void 0===v||null===(m=v.ewaybill_no)||void 0===m?void 0:m.length)&&(d.ewaybill_no="Enter your 12 Digit E-Way Bill"));(null!==(e=v.reseller_name)&&void 0!==e&&e.trim()||(d.reseller_name="Sender name is required"),null!==(r=v.company_name)&&void 0!==r&&r.trim()||(d.company_name="Brand name is required"),v.deliveryMobile&&s(v.deliveryMobile)||(d.deliveryMobile="Enter a valid 10-digit mobile number"),null!==(l=v.shipping_customer_name)&&void 0!==l&&l.trim()||(d.shipping_customer_name="Receiver First name is required"),null!==(a=v.shipping_last_name)&&void 0!==a&&a.trim()||(d.shipping_last_name="Receiver Last name is required"),null!==(o=v.deliveryAddress)&&void 0!==o&&o.trim()||(d.deliveryAddress="Complete address is required"),v.deliveryPincode&&u(v.deliveryPincode)||(d.deliveryPincode="Enter a valid 6-digit pincode"),null!==(n=v.deliveryCity)&&void 0!==n&&n.trim()||(d.deliveryCity="City is required"),null!==(t=v.deliveryState)&&void 0!==t&&t.trim()||(d.deliveryState="State is required"),v.customer_gstin&&!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(v.customer_gstin)&&(d.customer_gstin="Enter a valid GSTIN number"),v.deliveryAlternateMobile&&!s(v.deliveryAlternateMobile)&&(d.deliveryAlternateMobile="Enter a valid alternate mobile number"),v.deliveryEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.deliveryEmail)&&(d.deliveryEmail="Enter a valid email address"),p)||(v.billingMobile&&s(v.billingMobile)||(d.billingMobile="Enter a valid 10-digit mobile number"),null!==(h=v.billing_customer_name)&&void 0!==h&&h.trim()||(d.billing_customer_name="First name is required"),null!==(b=v.billing_last_name)&&void 0!==b&&b.trim()||(d.billing_last_name="Last name is required"),null!==(g=v.billingAddress)&&void 0!==g&&g.trim()||(d.billingAddress="Billing address is required"),v.billingPincode&&u(v.billingPincode)||(d.billingPincode="Enter a valid 6-digit billing pincode"),null!==(y=v.billingCity)&&void 0!==y&&y.trim()||(d.billingCity="Billing city is required"),null!==(x=v.billingState)&&void 0!==x&&x.trim()||(d.billingState="Billing state is required"),v.billingEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.billingEmail)&&(d.billingEmail="Enter a valid billing email"));return console.log(d,"errors"),i(d),0===Object.keys(d).length};(0,l.useEffect)((()=>{p&&m((e=>({...e,billing_customer_name:e.shipping_customer_name,billing_last_name:e.shipping_last_name,billingMobile:e.deliveryMobile,billingAddress:e.deliveryAddress,billingPincode:e.deliveryPincode,billingCity:e.deliveryCity,billingState:e.deliveryState,billingLandmark:e.deliveryLandmark,billingEmail:e.deliveryEmail})))}),[p,v]);const V=(e,i,r)=>{const l=[...A];l[e][i]=r,S(l),$(e,i,r)},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l=[...q],a=(e,i,r)=>{let a="";switch(i){case"productName":null!==r&&void 0!==r&&r.trim()||(a="Product Name is required.");break;case"sku":null!==r&&void 0!==r&&r.trim()||(a="Product SKU is required.");break;case"unitPrice":!r||isNaN(r)?a="Enter a valid number.":Number(r)<1&&(a="Product Price must be at least 1.");break;case"quantity":!r||isNaN(r)?a="Enter a valid number.":Number(r)<1&&(a="Quantity must be at least 1.");break;default:a=""}l[e]||(l[e]={}),l[e][i]=a};return null!==e&&null!==i?a(e,i,r):A.forEach(((e,i)=>{a(i,"sku",e.sku),a(i,"productName",e.productName),a(i,"unitPrice",e.unitPrice),a(i,"quantity",e.quantity)})),O(l),l.every((e=>Object.values(e).every((e=>!e))))},[H,Z]=(0,l.useState)({deadWeight:"",length:"",breadth:"",height:"",volumetricWeight:"0"}),[G,K]=(0,l.useState)({}),Q=(e,i)=>{isNaN(i)||Number(i)<0||(Z((r=>({...r,[e]:i}))),K((i=>({...i,[e]:""}))))},J=()=>{var e,i;const r={};return(null===H||void 0===H||!H.deadWeight||Number(null===H||void 0===H?void 0:H.deadWeight)<=0)&&(r.deadWeight="Dead weight must be more than 0"),null===(e=["length","breadth","height"])||void 0===e||e.forEach((e=>{(!H[e]||Number(H[e])<=.5)&&(r[e]="".concat(e.charAt(0).toUpperCase()+e.slice(1)," must be greater than 0.5 cm"))})),K(r),0===(null===(i=Object.keys(r))||void 0===i?void 0:i.length)};(0,l.useEffect)((()=>{const{deadWeight:e,length:i,breadth:r,height:l}=H;Number(e)>0&&Number(i)>.5&&Number(r)>.5&&Number(l)>.5?X():Z((e=>({...e,volumetricWeight:"0"})))}),[H.deadWeight,H.length,H.breadth,H.height]);const X=async()=>{if(!J())return;const{length:e,breadth:i,height:r}=H,l=(e*i*r/5e3).toFixed(2);Z((e=>({...e,volumetricWeight:l})))},ee=(0,l.useMemo)((()=>null===A||void 0===A?void 0:A.reduce(((e,i)=>e+((null===i||void 0===i?void 0:i.unitPrice)||0)*(null===i||void 0===i?void 0:i.quantity)||0),0)),[A]),ie=(Number(null===R||void 0===R?void 0:R.shippingCharges)||0)+(Number(null===R||void 0===R?void 0:R.giftwrap)||0)+(Number(null===R||void 0===R?void 0:R.transactionCharges)||0),re=(e,i)=>{["pincode"].includes(e)&&""!==i&&!/^[0-9\b]+$/.test(i)||(j(i),"pincode"===e&&(i.length<6&&y(!1),6===i.length&&(async e=>{let i={pickup_postcode:null===f||void 0===f?void 0:f.pincode,delivery_postcode:e,weight:12,cod:!1};try{var r,l,a,o;let e=await(0,C.nG7)(i);null!==e&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.error||200!==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.statusCode)?y(!1):y(!0),(0,T.A)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message)}catch(n){y(!1)}})(i)))},le=async()=>{a(!0);const e={pickup_location:null===f||void 0===f?void 0:f.warehouse_name,reseller_name:null===v||void 0===v?void 0:v.reseller_name,company_name:null===v||void 0===v?void 0:v.company_name,billing_customer_name:null===v||void 0===v?void 0:v.billing_customer_name,billing_last_name:null===v||void 0===v?void 0:v.billing_last_name,billing_address:null===v||void 0===v?void 0:v.billingAddress,billing_city:null===v||void 0===v?void 0:v.billingCity,billing_pincode:null===v||void 0===v?void 0:v.billingPincode,billing_state:null===v||void 0===v?void 0:v.billingState,billing_country:"India",billing_email:null===v||void 0===v?void 0:v.billingEmail,billing_phone:null===v||void 0===v?void 0:v.billingMobile,billing_alternate_phone:null===v||void 0===v?void 0:v.deliveryAlternateMobile,shipping_is_billing:p,shipping_customer_name:null===v||void 0===v?void 0:v.shipping_customer_name,shipping_last_name:null===v||void 0===v?void 0:v.shipping_last_name,shipping_address:null===v||void 0===v?void 0:v.deliveryAddress,shipping_city:null===v||void 0===v?void 0:v.deliveryCity,shipping_pincode:null===v||void 0===v?void 0:v.deliveryPincode,shipping_state:null===v||void 0===v?void 0:v.deliveryState,shipping_country:"India",shipping_email:null===v||void 0===v?void 0:v.deliveryEmail,shipping_phone:null===v||void 0===v?void 0:v.deliveryMobile,order_items:A.map((e=>({name:null===e||void 0===e?void 0:e.productName,sku:(null===e||void 0===e?void 0:e.sku)||"",units:null===e||void 0===e?void 0:e.quantity,selling_price:null===e||void 0===e?void 0:e.unitPrice,discount:(null===e||void 0===e?void 0:e.productDiscount)||0,tax:(null===e||void 0===e?void 0:e.taxRate)||0,hsn:(null===e||void 0===e?void 0:e.hsnCode)||""}))),payment_method:"Prepaid",shipping_charges:(null===R||void 0===R?void 0:R.shippingCharges)||0,giftwrap_charges:(null===R||void 0===R?void 0:R.giftwrap)||0,transaction_charges:(null===R||void 0===R?void 0:R.transactionCharges)||0,total_discount:(null===R||void 0===R?void 0:R.totalDiscount)||0,sub_total:ee,length:null===H||void 0===H?void 0:H.length,breadth:null===H||void 0===H?void 0:H.breadth,height:null===H||void 0===H?void 0:H.height,weight:null===H||void 0===H?void 0:H.deadWeight,ewaybill_no:null===v||void 0===v?void 0:v.ewaybill_no,customer_gstin:null===v||void 0===v?void 0:v.customer_gstin,invoice_number:null===v||void 0===v?void 0:v.invoiceValue,order_type:n};try{var i,r;let l=await(0,C.Zmr)(e);return(0,T.A)(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error,null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message),l}catch(l){}finally{a(!1)}};return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(L,{title:"Pickup & Destination Details",children:(0,W.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,display:"none",children:(0,W.jsx)(D,{fullWidth:!0,label:"Pickup Area Pincode",value:null===f||void 0===f?void 0:f.pincode,disabled:!0,required:!0,hide:!0})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,sx:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:(0,W.jsx)(D,{fullWidth:!0,label:"Deliver Area Pincode",value:x,onChange:e=>re("pincode",e.target.value),inputProps:{maxLength:6},required:!0})})]})}),(0,W.jsxs)(L,{title:"Seller & Delivery Details ",children:[(0,W.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Sender Name",required:!0,value:v.reseller_name,onChange:e=>Y("reseller_name",e.target.value),error:!!e.reseller_name,helperText:e.reseller_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Brand Name",required:!0,value:v.company_name,onChange:e=>Y("company_name",e.target.value),error:!!e.company_name,helperText:e.company_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Mobile Number",required:!0,value:v.deliveryMobile,onChange:e=>Y("deliveryMobile",e.target.value),inputProps:{maxLength:"10"},error:!!e.deliveryMobile,helperText:e.deliveryMobile})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Receiver First Name",required:!0,value:v.shipping_customer_name,onChange:e=>Y("shipping_customer_name",e.target.value),error:!!e.shipping_customer_name,helperText:e.shipping_customer_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Receiver Last Name",required:!0,value:v.shipping_last_name,onChange:e=>Y("shipping_last_name",e.target.value),error:!!e.shipping_last_name,helperText:e.shipping_last_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,display:"none",children:(0,W.jsx)(D,{fullWidth:!0,label:"Customer GSTIN",value:v.customer_gstin,onChange:e=>Y("customer_gstin",e.target.value),error:!!e.customer_gstin,helperText:e.customer_gstin})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsx)(D,{fullWidth:!0,label:"Complete Address",required:!0,value:v.deliveryAddress,onChange:e=>Y("deliveryAddress",e.target.value),error:!!e.deliveryAddress,helperText:e.deliveryAddress})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Landmark (Optional)",value:v.deliveryLandmark,onChange:e=>Y("deliveryLandmark",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Pincode",required:!0,value:v.deliveryPincode,onChange:e=>Y("deliveryPincode",e.target.value),inputProps:{maxLength:"6"},error:!!e.deliveryPincode,helperText:e.deliveryPincode})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"City",required:!0,value:v.deliveryCity,onChange:e=>Y("deliveryCity",e.target.value),error:!!e.deliveryCity,helperText:e.deliveryCity})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"State",required:!0,value:v.deliveryState,onChange:e=>Y("deliveryState",e.target.value),error:!!e.deliveryState,helperText:e.deliveryState})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Alternate Mobile Number (Optional)",value:v.deliveryAlternateMobile,onChange:e=>Y("deliveryAlternateMobile",e.target.value),inputProps:{maxLength:"10"}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Email ID (Optional)",value:v.deliveryEmail,onChange:e=>Y("deliveryEmail",e.target.value)})})]}),(0,W.jsx)(o.Ay,{container:!0,spacing:3,children:(0,W.jsx)(u.A,{mt:4,ml:3,children:(0,W.jsx)(w.A,{control:(0,W.jsx)(P.A,{checked:p,onChange:e=>b(e.target.checked)}),label:"Billing Details are same as Delivery Details"})})}),!p&&(0,W.jsxs)(o.Ay,{container:!0,mt:1,spacing:3,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing Mobile Number",required:!0,value:v.billingMobile||"",inputProps:{maxLength:"10"},error:!!e.billingMobile,helperText:e.billingMobile,onChange:e=>Y("billingMobile",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"First Name",required:!0,value:v.billing_customer_name||"",onChange:e=>Y("billing_customer_name",e.target.value),error:!!e.billing_customer_name,helperText:e.billing_customer_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Last Name",required:!0,value:v.billing_last_name||"",onChange:e=>Y("billing_last_name",e.target.value),error:!!e.billing_last_name,helperText:e.billing_last_name})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing Address",required:!0,value:v.billingAddress||"",error:!!e.billingAddress,helperText:e.billingAddress,onChange:e=>Y("billingAddress",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing Landmark (Optional)",value:v.billingLandmark||"",onChange:e=>Y("billingLandmark",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing Pincode",required:!0,inputProps:{maxLength:"6"},value:v.billingPincode||"",error:!!e.billingPincode,helperText:e.billingPincode,onChange:e=>Y("billingPincode",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing City",required:!0,value:v.billingCity||"",error:!!e.billingCity,helperText:e.billingCity,onChange:e=>Y("billingCity",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing State",required:!0,value:v.billingState||"",error:!!e.billingState,helperText:e.billingState,onChange:e=>Y("billingState",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Billing Email (Optional)",value:v.billingEmail||"",onChange:e=>Y("billingEmail",e.target.value)})})]})]}),(0,W.jsxs)(L,{title:"Product Details",children:[A.map(((e,i)=>{var r,l,a,n,t,d,s,c;return(0,W.jsx)(u.A,{mb:4,children:(0,W.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Product Name",required:!0,value:e.productName,onChange:e=>V(i,"productName",e.target.value),error:Boolean(null===(r=q[i])||void 0===r?void 0:r.productName),helperText:null===(l=q[i])||void 0===l?void 0:l.productName})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Product SKU",required:!0,value:e.sku,onChange:e=>V(i,"sku",e.target.value),error:Boolean(null===(a=q[i])||void 0===a?void 0:a.sku),helperText:null===(n=q[i])||void 0===n?void 0:n.sku})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Product Value",required:!0,type:"number",value:e.unitPrice,onChange:e=>V(i,"unitPrice",e.target.value),error:Boolean(null===(t=q[i])||void 0===t?void 0:t.unitPrice),helperText:null===(d=q[i])||void 0===d?void 0:d.unitPrice})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Quantity",required:!0,type:"number",value:e.quantity,onChange:e=>V(i,"quantity",e.target.value),error:Boolean(null===(s=q[i])||void 0===s?void 0:s.quantity),helperText:null===(c=q[i])||void 0===c?void 0:c.quantity})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,display:"none",children:(0,W.jsx)(D,{fullWidth:!0,label:"Product Discount (%)",type:"number",value:e.productDiscount,onChange:e=>V(i,"productDiscount",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,display:"none",children:(0,W.jsx)(D,{fullWidth:!0,label:"Tax Rate (%)",type:"number",value:e.taxRate,onChange:e=>V(i,"taxRate",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,display:"none",children:(0,W.jsx)(D,{fullWidth:!0,label:"HSN Code",value:e.hsnCode,onChange:e=>V(i,"hsnCode",e.target.value)})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:2.4,display:"flex",alignItems:"center",children:0!==i&&(0,W.jsx)(k.A,{onClick:()=>(e=>{const i=[...A],r=[...q];i.splice(e,1),r.splice(e,1),S(i),O(r)})(i),color:"error",children:(0,W.jsx)(_.A,{})})})]})},i)})),(0,W.jsx)(u.A,{mt:2,display:"flex",justifyContent:"flex-end",children:(0,W.jsx)(s.A,{variant:"outlined",color:"var(--bs-primary2)",backgroundColor:"var(--bs-primary3)",onClick:()=>{S([...A,{productName:"",unitPrice:"",quantity:"",productDiscount:"",taxRate:"",hsnCode:""}]),O([...q,{productName:"",unitPrice:"",quantity:""}])},children:"+ Add More Product"})}),(0,W.jsx)(o.Ay,{container:!0,spacing:3,mt:1,p:1,children:(0,W.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:12,children:(0,W.jsx)(F,{title:"Total Product Value",value:"\u20b9 ".concat(ee+ie-(Number(null===R||void 0===R?void 0:R.totalDiscount)||0))})})})]}),(0,W.jsx)(L,{title:"Package Details",children:(0,W.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Dead Weight (kg)",value:H.deadWeight,onChange:e=>Q("deadWeight",e.target.value),error:!!G.deadWeight,helperText:G.deadWeight})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Length (cm)",value:H.length,onChange:e=>Q("length",e.target.value),error:!!G.length,helperText:G.length})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Breadth (cm)",value:H.breadth,onChange:e=>Q("breadth",e.target.value),error:!!G.breadth,helperText:G.breadth})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Height (cm)",value:H.height,onChange:e=>Q("height",e.target.value),error:!!G.height,helperText:G.height})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,W.jsx)(D,{fullWidth:!0,label:"Volumetric Weight (kg)",value:H.volumetricWeight,InputProps:{readOnly:!0}})}),(0,W.jsx)(u.A,{sx:{p:2},children:(0,W.jsxs)(t.A,{variant:"h6",gutterBottom:!0,sx:{paddingBottom:2,fontWeight:"600",fontSize:"18px",color:"var(--bs-primary2)"},children:["Aplicable Weight"," ",Number(H.volumetricWeight)>Number(null===H||void 0===H?void 0:H.deadWeight)?H.volumetricWeight:null===H||void 0===H?void 0:H.deadWeight]})})]})}),(0,W.jsxs)(L,{children:[(0,W.jsxs)(u.A,{mt:3,children:[(0,W.jsx)(t.A,{variant:"h6",gutterBottom:!0,sx:{paddingBottom:1,fontWeight:"600",fontSize:"16px",color:"var(--bs-primary2)"},children:"Mode & Invoice Details"}),(0,W.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsxs)(M.A,{fullWidth:!0,size:"small",children:[(0,W.jsx)(I.A,{sx:{fontSize:"16px",color:"var(--bs-primary2)","&.Mui-focused":{color:"var(--bs-primary2)"},"&.Mui-disabled":{color:"var(--bs-primary2) !important"}},children:"Payment Mode"}),(0,W.jsxs)(N.A,{label:"Payment Mode",value:n,onChange:e=>d(e.target.value),sx:{fontSize:"14px",backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2) !important","& .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"&.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2) !important"},"& .MuiSelect-select":{color:"var(--bs-primary2) !important",backgroundColor:"var(--bs-primary1)"},"& .MuiSvgIcon-root":{color:"var(--bs-primary2)"}},MenuProps:{PaperProps:{sx:{backgroundColor:"var(--bs-primary1)","& .MuiMenuItem-root":{color:"var(--bs-primary2)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},"&.Mui-selected:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"}}}}},children:[(0,W.jsx)(h.A,{value:"Prepaid",children:"Prepaid"}),(0,W.jsx)(h.A,{value:"cod",children:"Cash on Delivery"})]})]})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsxs)(M.A,{fullWidth:!0,size:"small",children:[(0,W.jsx)(I.A,{sx:{fontSize:"16px",color:"var(--bs-primary2)","&.Mui-focused":{color:"var(--bs-primary2)"},"&.MuiFormLabel-root":{color:"var(--bs-primary2)"},"&.Mui-error":{color:"var(--bs-primary2) !important"}},children:"Order Type"}),(0,W.jsxs)(N.A,{label:"Order Type",value:n,onChange:e=>d(e.target.value),sx:{fontSize:"14px",color:"var(--bs-primary2)","& .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary2)"},"& .MuiSvgIcon-root":{color:"var(--bs-primary2)"}},MenuProps:{PaperProps:{sx:{backgroundColor:"var(--bs-primary1)","& .MuiMenuItem-root":{color:"var(--bs-primary2)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},"&.Mui-selected:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"}}}}},children:[(0,W.jsx)(h.A,{value:"ESSENTIALS",children:"ESSENTIALS"}),(0,W.jsx)(h.A,{value:"NON ESSENTIALS",children:"NON ESSENTIALS"})]})]})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(D,{fullWidth:!0,label:"Invoice Value",value:v.invoice_number||"",onChange:e=>Y("invoice_number",e.target.value),error:!!e.invoice_number,helperText:e.invoice_number,inputProps:{maxLength:6},required:!0})})]})]}),(0,W.jsx)(u.A,{mt:3,children:(0,W.jsx)(o.Ay,{container:!0,spacing:2,alignItems:"center",children:(null===v||void 0===v?void 0:v.invoice_number)>=5e4&&(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(D,{fullWidth:!0,label:"E-Way Value",value:v.ewaybill_no||"",onChange:e=>Y("ewaybill_no",e.target.value),error:!!e.ewaybill_no,helperText:e.ewaybill_no,inputProps:{maxLength:12},required:!0})})})}),(0,W.jsxs)(u.A,{mt:3,display:"flex",columnGap:4,children:[(0,W.jsx)(s.A,{variant:"outlined",onClick:async()=>{const e=z(),i=J(),r=$();if(e&&i&&r){var l;let e=await le();if(!1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error)){var a,o;let i=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)||{};c("/order-ship/?delivery_postcode=".concat(null===i||void 0===i||null===(o=i.shipping_address)||void 0===o?void 0:o.shipping_pincode,"&order_id=").concat(null===i||void 0===i?void 0:i.shipRocket_order_id))}}else console.log("Form has errors.")},disabled:!g||r,sx:{borderColor:"var(--bs-primary2)",color:"var(--bs-primary2)",width:"200px","&:hover":{borderColor:"var(--bs-primary2)",backgroundColor:"var(--bs-primary1)"},"&.Mui-disabled":{borderColor:"var(--bs-primary2)",color:"var(--bs-primary2)",opacity:.5}},children:"Ship Order"}),(0,W.jsx)(s.A,{variant:"contained",color:"success",onClick:async()=>{const e=z(),i=J(),r=$();if(e&&i&&r){var l;let e=await le();!1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error)&&setTimeout((()=>c("/order-details")),1e3)}else console.log("Form has errors.")},disabled:!g||r,sx:{borderColor:"var(--bs-primary2)",color:"var(--bs-primary2)",width:"200px","&:hover":{borderColor:"var(--bs-primary2)",backgroundColor:"var(--bs-primary1)"},"&.Mui-disabled":{borderColor:"var(--bs-primary2)",color:"var(--bs-primary2)",opacity:.5}},children:"Create Order"})]})]})]})},z=()=>{const[e,i]=(0,l.useState)(!0),{setWarehouseDetails:r}=B(),[o,n]=(0,l.useState)(!1),[t,d]=(0,l.useState)("add-order"),[s,u]=(0,l.useState)(!0),c="true"===new URLSearchParams(window.location.search).get("edit");return(0,l.useEffect)((()=>{(async()=>{try{var e;let l=await(0,C.qXS)();var i;200===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.statusCode)&&(r(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data),n(!0))}catch(l){}finally{u(!1)}})()}),[]),(0,l.useEffect)((()=>{console.log(c,"editbool"),c&&d("add-order")}),[]),!0===s?null:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"PageHeading",children:(0,W.jsx)("h1",{children:"Courier"})}),(0,W.jsx)(a.A,{sx:{backgroundColor:"var(--bs-primary1)"},children:e?o?(0,W.jsx)(W.Fragment,{children:"add-order"===t&&(0,W.jsx)(Y,{})}):(0,W.jsx)(R,{setCheckWareHouse:n}):(0,W.jsx)(U,{setProcessStart:i})})]})};var V=r(57972),$=r(14256),H=r(81673),Z=r(51292),G=r(96423),K=r(35717),Q=r(77739),J=r(72429),X=r(51387);const ee=()=>{const[e,i]=(0,l.useState)("");return{ImageUpload:r=>{let{index:l=0,title:a="No Image",editBool:o=!0}=r;return(0,W.jsxs)(u.A,{sx:{position:"relative",width:"100%",height:250,borderRadius:2,overflow:"hidden",bgcolor:"grey.200",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{var i;return!e&&(null===(i=document.getElementById("image-upload-".concat(l)))||void 0===i?void 0:i.click())},children:[e?(0,W.jsx)(c.A,{src:(0,K.q)(e),variant:"rounded",sx:{width:"100%",height:"100%"},onClick:e=>e.stopPropagation()}):(0,W.jsx)(t.A,{color:"textSecondary",children:a}),(0,W.jsx)("input",{accept:"image/*",style:{display:"none"},id:"image-upload-".concat(l),type:"file",onChange:e=>(async e=>{const r=e.target.files[0];if(r&&["image/jpeg","image/png","image/gif"].includes(r.type))try{const e=new FormData;e.append("image",r);let l=await(0,C.zGb)(e);setTimeout((()=>{var e,r;i(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.url)}),750)}catch(l){console.error("Image upload failed:",l)}})(e)}),!e&&(0,W.jsx)(Q.A,{title:"Upload Image",children:(0,W.jsx)(k.A,{component:"span",onClick:e=>{var i;e.stopPropagation(),null===(i=document.getElementById("image-upload-".concat(l)))||void 0===i||i.click()},sx:{position:"absolute",bottom:8,right:8,bgcolor:"white"},children:(0,W.jsx)(J.A,{})})}),e&&o&&(0,W.jsx)(Q.A,{title:"Remove Image",children:(0,W.jsx)(k.A,{onClick:e=>{e.stopPropagation(),i("")},sx:{position:"absolute",top:8,right:8,bgcolor:"white"},children:(0,W.jsx)(X.A,{})})})]})},imageUrl:e,setImageUrl:i}};var ie=r(25780),re=r(8751),le=r(94414),ae=r(35475),oe=r(85369);const ne=()=>(0,W.jsx)(a.A,{maxWidth:"lg",className:"mt-4 d-flex align-items-center justify-content-center",children:(0,W.jsxs)(u.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:2,boxShadow:3,padding:4,backgroundColor:"white"},children:[(0,W.jsx)(oe.A7C,{className:"confirmation-icon mb-4"}),(0,W.jsx)(t.A,{variant:"h3",fontSize:"20px",color:"var(--bs-nav)",gutterBottom:!0,children:"Congratulations!"}),(0,W.jsxs)(t.A,{variant:"body1",color:"textSecondary",sx:{textAlign:"left",marginBottom:4},fontSize:"14px",children:["KYC Verification in Progress",(0,W.jsx)("br",{}),"Thank you for submitting your KYC documents. Your verification is currently under review. Please bear with us for a moment while we process your details. You will be notified as soon as your KYC is approved via an OTP. In the meantime, please feel free to reach out if you have any questions."]}),(0,W.jsx)(s.A,{variant:"contained",size:"large",color:"primary",sx:{textTransform:"none",backgroundColor:"var(--bs-primary1)",color:"white"},children:(0,W.jsx)(ae.N_,{to:"/dashboard",style:{textDecoration:"none",color:"white"},children:(0,W.jsx)("span",{style:{color:"#fff"},children:"Back to Dashboard"})})})]})});var te=r(72777);const de=/^[6-9]\d{9}$/,se=A.Ik().shape({name:A.Yj(),pincode:A.Yj().matches(/^[0-9]{6}$/,"Pincode must be exactly 6 digits").required("Enter your pincode."),city:A.Yj().trim().required("City Name is required"),state:A.Yj().trim().required("State Name is required"),fatherName:A.Yj().trim().required("Father's Name is required"),education:A.Yj().trim().required("Education is required"),permanentAddress:A.Yj().trim().required("Permanent Address is required"),aadharNumber:A.Yj(),panNumber:A.Yj().matches(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Invalid PAN Number").required("PAN Number is required"),firmName:A.Yj().trim().required("Firm Name is required"),businessAddress:A.Yj().required("Business Address is required"),businessMobileNumber:A.Yj().matches(/^[0-9]{10}$/,"Invalid Mobile Number").required("Business Mobile Number is required"),businessMailId:A.Yj().email("Invalid email").required("Business Mail Id is required"),shopNearbyLocation:A.Yj().trim().required("Shop Nearby Location is required"),yearOfBusinessPlace:A.ai().typeError("Must be a number").required("Year of Business Place is required"),businessPlaceType:A.Yj().oneOf(["Owned","Rented"],"Select a valid option").required("Business Place Type is required"),bank_type:A.Yj().oneOf(["savings","current"],"Select a valid option").required("Bank Type is required"),workingTime:A.Yj().required("Working Time is required"),workingDays:A.Yj().oneOf(["1","2","3","4","5","6","7"],"Select a valid option").required("Working Days is required"),otp:A.Yj(),bank_id:A.Yj().required("Please select a bank"),ifsc:A.Yj().trim().required("IFSC Code is required"),account_number:A.Yj().trim().required("Please enter bank account number"),businessType:A.Yj().oneOf(["Proprietor","Individual","OPC","Private Limited","Public Limited"],"Select a valid Business Type").required("Business Type is required")}),ue=e=>{let{setUser:i,sponserUser:r,setSponserUser:m,setProcessStart:h,setShowSponsorTab:p}=e;const[b,g]=(0,l.useState)(""),[y,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),[A,_]=(0,l.useState)(""),[k,S]=(0,l.useState)(!1),[w,P]=(0,l.useState)(!1),M=(0,re.A)((async(e,i)=>{let r={sponcer_mobile:"+91".concat(b),lat:e,long:i,sponcer:!0};f(!0);try{var l,a,o;let e=await(0,C.sks)(r);var n,t;if((0,T.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message),null===e||void 0===e||null===(o=e.data)||void 0===o||!o.error)S(!0),m(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.sponsorData),_("")}catch(d){console.error("Error sending OTP:",d)}finally{f(!1)}})),I=(0,re.A)((async(e,r)=>{let l={sponcer_mobile:"+91".concat(b),otp:A};f(!0);try{var a,o,n;let e=await(0,C.Jex)(l);var t;if((0,T.A)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message),null===e||void 0===e||null===(n=e.data)||void 0===n||!n.error)i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),P(!0)}catch(d){console.error("Error verifying OTP:",d)}finally{f(!1)}})),N=(0,re.A)((async(e,r)=>{let l={sponcer_mobile:"+91".concat(b),lat:e,long:r,sponcer:!1};f(!0);try{var a,o,n;let e=await(0,C.sks)(l);var t;if((0,T.A)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message),null===e||void 0===e||null===(n=e.data)||void 0===n||!n.error)i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),p(!1),h(!0)}catch(d){console.error("Error sending OTP:",d)}finally{f(!1)}})),q=()=>{N()};return(0,W.jsx)(a.A,{maxWidth:"sm",style:{marginTop:"2rem"},children:(0,W.jsx)(o.Ay,{container:!0,spacing:4,children:(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsxs)(n.A,{style:{padding:"2rem",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[(0,W.jsx)(t.A,{variant:"h5",align:"center",gutterBottom:!0,style:{color:"var(--bs-primary1)"},children:"Enter Sponsor Details"}),(0,W.jsx)(d.A,{label:"Mobile Number",variant:"outlined",fullWidth:!0,value:b,disabled:w||k,onChange:e=>{const i=e.target.value.replace(/\D/g,"").slice(0,10);g(i),x(!de.test(i))},error:y,helperText:y?"Enter a valid 10-digit mobile number":"",margin:"normal",required:!0,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}},"& label.Mui-focused":{color:"var(--bs-nav)"}}}),k?(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(s.A,{variant:"outlined",color:"primary",fullWidth:!0,onClick:()=>{S(!1)},disabled:w,sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},children:"Reset"})}):(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(s.A,{variant:"contained",color:"primary",fullWidth:!0,onClick:M,disabled:!de.test(b)||w||j,sx:{backgroundColor:"var(--bs-primary1)",color:"white"},children:"Send OTP"})}),k&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(d.A,{label:"Enter OTP",variant:"outlined",fullWidth:!0,value:A,onChange:e=>_(e.target.value),disabled:w,margin:"normal",required:!0,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}},"& label.Mui-focused":{color:"var(--bs-nav)"}}}),(0,W.jsx)(s.A,{variant:"contained",color:"success",fullWidth:!0,onClick:I,disabled:A.length<4||w||j,sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Verify OTP"})]}),k&&(null===r||void 0===r?void 0:r.adhaar_name)&&(0,W.jsx)(o.Ay,{sx:{marginTop:"2rem"},item:!0,xs:12,children:(0,W.jsxs)(n.A,{style:{padding:"1rem",marginBottom:"1rem",backgroundColor:"white",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[(0,W.jsx)(u.A,{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,W.jsx)(c.A,{src:(0,K.q)(null===r||void 0===r?void 0:r.profile),sx:{width:60,height:60,bgcolor:"var(--bs-secondary2)",marginBottom:"0.5rem"}})}),(0,W.jsxs)(u.A,{style:{marginLeft:"1rem",marginTop:"1rem",marginBottom:"3rem"},children:[(0,W.jsxs)(t.A,{variant:"body1",children:[(0,W.jsxs)("span",{children:[(0,W.jsx)("b",{children:"Name"})," :"]})," ",null===r||void 0===r?void 0:r.adhaar_name," "]}),(0,W.jsxs)(t.A,{variant:"body2",children:[(0,W.jsxs)("span",{children:[(0,W.jsx)("b",{children:"Address"})," :"]})," ",null===r||void 0===r?void 0:r.business_Address]}),(0,W.jsxs)(t.A,{variant:"body2",children:[(0,W.jsxs)("span",{children:[(0,W.jsx)("b",{children:"Phone"})," :"]})," ",null===r||void 0===r?void 0:r.mobile]})]})]})}),w&&(0,W.jsxs)(v.A,{spacing:2,direction:"column",mt:2,children:[(0,W.jsx)(s.A,{variant:"outlined",color:"success",sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},fullWidth:!0,onClick:()=>{p(!0),h(!0)},children:"Start with Sponsor"}),(0,W.jsx)(s.A,{variant:"outlined",color:"success",sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},fullWidth:!0,onClick:q,children:"Start with without Sponsor"})]}),!k&&(0,W.jsx)(s.A,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:q,style:{marginTop:"1rem"},sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},children:"Start without Sponsor"})]})})})})},ce=e=>{let{walletShowHeader:i,setpageLoader:r,user:a,onComplete:n}=e;console.log(a,"user");const[t,u]=(0,l.useState)(null),[c,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(null),[y,x]=(0,l.useState)(!1),[j,A]=(0,l.useState)(!1),[_,k]=(0,l.useState)([]),[S,P]=(0,l.useState)(""),[I,N]=(0,l.useState)("");(0,l.useEffect)((()=>{var e;const i={pincode:"",city:"",state:"",fatherName:"",education:"",permanentAddress:null===a||void 0===a?void 0:a.presentAddr,aadharNumber:null===a||void 0===a?void 0:a.adhaar_number,panNumber:null===a||void 0===a?void 0:a.pan_number,firmName:"",businessAddress:null===a||void 0===a?void 0:a.business_Address,businessMobileNumber:null===a||void 0===a||null===(e=a.mobile)||void 0===e?void 0:e.slice(3),businessMailId:null===a||void 0===a?void 0:a.email,account_number:"",bank_id:"",ifsc:"",bank_type:"current",shopNearbyLocation:"",yearOfBusinessPlace:"",businessPlaceType:"",workingTime:"",workingDays:"",businessType:""};u((e=>({...e,...i}))),x(!1),(async e=>{let i={pan:e,user_id:window.localStorage.getItem("userToken")};try{let e=await(0,C.wyo)(i);u((i=>{var r,l;return{...i,name:null===e||void 0===e||null===(r=e.data)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.name}}))}catch(r){}})(null===a||void 0===a?void 0:a.pan_number)}),[]);const q=[{key:"businessAddress",label:"Business Address"},{key:"education",label:"Education"},{key:"firmName",label:"Firm Name"},{key:"businessMobileNumber",label:"Business Mobile Number"},{key:"businessMailId",label:"Business Mail ID"},{key:"shopNearbyLocation",label:"Shop Nearby Location"},{key:"yearOfBusinessPlace",label:"Year of Business Place"}];(0,l.useEffect)((()=>{(async()=>{try{var e,i;const r=await(0,C.gzd)(),l=null===r||void 0===r||null===(e=r.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map((e=>({value:e,label:e.bank_name})));k(l)}catch(r){console.error("Error fetching bank list:",r)}})()}),[]);const O=(0,re.A)((async(e,i,l)=>{if(!y)return(0,T.A)(!0,"Please Verify Your Aadhar Number");if(!j||!S)return(0,T.A)(!0,"Please Verify Your Bank Account");const o={name:null===l||void 0===l?void 0:l.name,father_name:l.fatherName,email:null===a||void 0===a?void 0:a.email,Business_mail:null===l||void 0===l?void 0:l.businessMailId,profile:null===a||void 0===a?void 0:a.profile,shopNearbyLocatio:l.shopNearbyLocation,yearOfBusinessPlace:l.yearOfBusinessPlace,businessPlaceType:l.businessPlaceType,workingTime:l.workingTime,workingDays:l.workingDays,bankDetailesId:S,mobile:null===a||void 0===a?void 0:a.mobile,business_mobile:l.businessMobileNumber,sponsor_id:(null===a||void 0===a?void 0:a.sponcerId)||"",latitude:e,longitude:i,adhaar_number:null===a||void 0===a?void 0:a.adhaar_number,pan_number:null===a||void 0===a?void 0:a.pan_number,country:null===a||void 0===a?void 0:a.country,state:null===a||void 0===a?void 0:a.state,presentAddr:l.permanentAddress,pinCode:a.pincode,pan_name:l.name,adhaar_name:null===a||void 0===a?void 0:a.adhaar_name,shop_name:l.firmName,business_pincode:l.pincode,business_city:l.city,business_state:l.state,business_Address:(null===a||void 0===a?void 0:a.business_Address)||"",businessType:l.businessType,educationQualification:(null===l||void 0===l?void 0:l.education)||""};r(!0);try{var t,d;let e=await(0,C.b3Y)(o);(0,T.A)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error,null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.message),null!==e&&void 0!==e&&e.data.error||n()}catch(s){}finally{r(!1)}}));if(!t)return(0,W.jsx)("p",{children:"Loading..."});const B=[{value:"9AM - 6PM",label:"9AM - 6PM"},{value:"10AM - 5PM",label:"10AM - 5PM"},{value:"10AM - 6PM",label:"10AM - 6PM"},{value:"10AM - 7PM",label:"10AM - 7PM"},{value:"11AM - 8PM",label:"11AM - 8PM"}];return(0,W.jsx)(f.l1,{initialValues:t,enableReinitialize:!0,validationSchema:se,onSubmit:e=>{O(e)},children:e=>{let{validateField:l,setFieldTouched:n,values:t,setFieldValue:u,errors:b,touched:g,setErrors:k,isSubmitting:S}=e;return(0,W.jsx)(f.lV,{children:(0,W.jsxs)(o.Ay,{container:!0,spacing:2,style:{marginBottom:"4rem"},children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"name",as:d.A,InputLabelProps:{shrink:!0},label:"Name",variant:"outlined",fullWidth:!0,margin:"normal",disabled:!0})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"fatherName",as:d.A,InputLabelProps:{shrink:!0},label:"Father Name",variant:"outlined",fullWidth:!0,margin:"normal",error:g.fatherName&&Boolean(b.fatherName),helperText:g.fatherName&&b.fatherName,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"panNumber",as:d.A,label:"Pan Number",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},disabled:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:7,children:(0,W.jsx)(f.D0,{name:"aadharNumber",as:d.A,label:"Aadhar Number",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},disabled:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:5,children:(0,W.jsx)(s.A,{variant:"contained",color:"secondary",onClick:()=>(async(e,i)=>{i("otp","");let l={adhaarNumber:e,user_id:window.localStorage.getItem("userToken")};r(!0);try{var a,o,n;let e=await(0,C.VdE)(l);var t,d;(0,T.A)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.error||(p(!0),N(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(d=t.data)||void 0===d?void 0:d.ref_id))}catch(s){}finally{r(!1)}})(t.aadharNumber,u),disabled:y,sx:{marginTop:"25px",backgroundColor:"var(--bs-primary1)",color:"white"},children:"ReValidate"})})]})}),c&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"otp",as:d.A,label:"OTP",variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(s.A,{variant:"contained",color:"secondary",onClick:()=>(async(e,i)=>{try{var l,a,o;if(!e)return void i({otp:"OTP cannot be empty."});r(!0);let n={otp:e,ref_id:I},t=await(0,C.Abf)(n);(0,T.A)(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.error,null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.error||(x(!0),p(!1),N(null))}catch(n){i({otp:"Error verifying OTP"})}finally{r(!1)}})(t.otp),disabled:!t.otp,sx:{marginTop:"25px",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Verify Aadhar OTP"})})]}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(m.A,{options:_,getOptionLabel:e=>(null===e||void 0===e?void 0:e.label)||"",value:t.bank||null,isOptionEqualToValue:(e,i)=>{var r;return e.value.bankID===(null===i||void 0===i||null===(r=i.value)||void 0===r?void 0:r.bankID)},onChange:(e,i)=>{var r,a;u("bank",i||null),u("bank_id",(null===i||void 0===i||null===(r=i.value)||void 0===r?void 0:r.bankID)||""),u("ifsc",(null===i||void 0===i||null===(a=i.value)||void 0===a?void 0:a.ifsc_code)||""),n("bank_id",!0),n("ifsc",!0),setTimeout((()=>{l("bank_id"),l("ifsc")}),0)},disabled:j,renderInput:e=>(0,W.jsx)(d.A,{...e,label:"Select Bank",error:Boolean(g.bank_id&&b.bank_id),helperText:g.bank_id&&b.bank_id}),sx:{"& label.Mui-focused":{color:"var(--bs-nav)"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}},mt:2}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"ifsc",as:d.A,label:"Enter IFSC",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"normal",disabled:j,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.ifsc&&Boolean(b.ifsc),helperText:g.ifsc&&b.ifsc})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"account_number",as:d.A,label:"Enter Account Number",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"normal",error:g.account_number&&Boolean(b.account_number),helperText:g.account_number&&b.account_number,disabled:j,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsxs)(v.A,{direction:"row",spacing:2,marginTop:2,alignItems:"center",children:[(0,W.jsxs)(M.A,{component:"fieldset",error:g.bank_type&&Boolean(b.bank_type),disabled:j,children:[(0,W.jsx)(f.D0,{name:"bank_type",children:e=>{let{field:i}=e;return(0,W.jsxs)(V.A,{...i,row:!0,children:[(0,W.jsx)(w.A,{value:"savings",sx:{"& .MuiTypography-root":{fontSize:"14px"}},control:(0,W.jsx)($.A,{}),label:"Savings"}),(0,W.jsx)(w.A,{value:"current",sx:{"& .MuiTypography-root":{fontSize:"14px"}},control:(0,W.jsx)($.A,{}),label:"Current"})]})}}),g.bank_type&&b.bank_type&&(0,W.jsx)(H.A,{children:b.bank_type})]}),(0,W.jsx)(s.A,{variant:"contained",color:"secondary",onClick:()=>(async(e,l)=>{console.log(e,"value");try{var o,n,t,d;let c={};if(null!==e&&void 0!==e&&e.bank_id||(c.bank_id="Please select a bank"),null!==e&&void 0!==e&&e.account_number||(c.account_number="Bank account number is required"),null!==e&&void 0!==e&&e.ifsc?/^[A-Z]{4}0[A-Z0-9]{6}$/.test(e.ifsc)||(c.ifsc="Invalid IFSC Code"):c.ifsc="IFSC Code is required",Object.keys(c).length>0)return void l(c);let v={bank_name:null===e||void 0===e||null===(o=e.bank)||void 0===o?void 0:o.label,name:null===a||void 0===a?void 0:a.pan_name,bankAccount:null===e||void 0===e?void 0:e.account_number,ifsc:null===e||void 0===e?void 0:e.ifsc,bank_id:null===e||void 0===e?void 0:e.bank_id,account_type:null===e||void 0===e?void 0:e.bank_type};r(!0);let m=await(0,C.$P3)(v);var s,u;null!==m&&void 0!==m&&null!==(n=m.data)&&void 0!==n&&n.error||(A(!0),P(null===m||void 0===m||null===(s=m.data)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.bankDetailesId),i()),(0,T.A)(null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.error,null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.message)}catch(c){}finally{r(!1)}})(t,k),disabled:String((null===t||void 0===t?void 0:t.account_number)||"").length<8&&!(null!==t&&void 0!==t&&t.ifsc)&&!(null!==t&&void 0!==t&&t.bank_id)||(null===b||void 0===b?void 0:b.account_number)||(null===b||void 0===b?void 0:b.ifsc)||(null===b||void 0===b?void 0:b.bank_id)||j,sx:{backgroundColor:"var(--bs-primary1)",color:"white",whiteSpace:"nowrap"},children:"Verify"})]})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"permanentAddress",as:d.A,label:"Permanent Address",variant:"outlined",fullWidth:!0,margin:"normal",disabled:!0,InputLabelProps:{shrink:!0}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"pincode",as:d.A,label:"Pincode",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:6},margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.pincode&&Boolean(b.pincode),helperText:g.pincode&&b.pincode,onChange:e=>{const i=e.target.value.replace(/\D/g,"").slice(0,6);u("pincode",i),6===i.length&&(async(e,i,r)=>{try{var l;if(!e)return void r({pincode:"Pincode is required"});if(!/^[0-9]{6}$/.test(e))return void r({pincode:"Pincode must be exactly 6 digits"});r({});const d=await(0,C.sal)(e);var a,o,n,t;null!==d&&void 0!==d&&null!==(l=d.data)&&void 0!==l&&l.error?r({pincode:"Invalid Pincode or not found"}):(i("city",(null===(a=d.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.city)||""),i("state",(null===(n=d.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.state)||""))}catch(d){console.error("Error fetching pincode details:",d),r({pincode:"Something went wrong. Please try again."})}})(i,u,k)}})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"city",as:d.A,label:"City",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.city&&Boolean(b.city),helperText:g.city&&b.city})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"state",as:d.A,label:"State",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.state&&Boolean(b.state),helperText:g.state&&b.state})}),null===q||void 0===q?void 0:q.map((e=>(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:null===e||void 0===e?void 0:e.key,as:d.A,InputLabelProps:{shrink:!0},label:null===e||void 0===e?void 0:e.label,variant:"outlined",fullWidth:!0,margin:"normal",error:g[null===e||void 0===e?void 0:e.key]&&Boolean(b[null===e||void 0===e?void 0:e.key]),helperText:g[null===e||void 0===e?void 0:e.key]&&b[null===e||void 0===e?void 0:e.key],sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}})},null===e||void 0===e?void 0:e.key))),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"businessType",as:d.A,select:!0,label:"Business Type",variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.businessType&&Boolean(b.businessType),helperText:g.businessType&&b.businessType,children:["Proprietor","Individual","OPC","Private Limited","Public Limited"].map((e=>(0,W.jsx)(h.A,{value:e,children:e},e)))})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"businessPlaceType",as:d.A,select:!0,label:"Business Place Type",variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.businessPlaceType&&Boolean(b.businessPlaceType),helperText:g.businessPlaceType&&b.businessPlaceType,children:["Owned","Rented"].map((e=>(0,W.jsx)(h.A,{value:e,children:e},e)))})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"workingTime",as:d.A,select:!0,label:"Working Time",variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.workingTime&&Boolean(b.workingTime),helperText:g.workingTime&&b.workingTime,children:B.map((e=>(0,W.jsx)(h.A,{value:e.value,children:e.label},e.value)))})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,W.jsx)(f.D0,{name:"workingDays",as:d.A,select:!0,label:"Working Days",variant:"outlined",fullWidth:!0,margin:"normal",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},error:g.workingDays&&Boolean(b.workingDays),helperText:g.workingDays&&b.workingDays,children:["1","2","3","4","5","6","7"].map((e=>(0,W.jsx)(h.A,{value:e,children:e},e)))})}),(0,W.jsx)(o.Ay,{item:!0,xs:12,children:(0,W.jsx)(s.A,{type:"submit",variant:"contained",color:"primary",sx:{borderColor:"var(--bs-primary1)",width:"200px",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Next"})})]})})}})},ve=e=>{let{onComplete:i}=e;const r=ee(),a=ee(),o=ee(),n=ee(),t=ee(),d=ee(),u=ee(),c=ee(),m=ee(),h=ee(),[p,b]=(0,l.useState)(""),g=[r,a,o,n,t,d,u,c,m,h],y=["Shop Inner Image","Shop Outer Image","Shop Left of Outer","Shop Right of Outer","Shop Front","Shop Nearby Image","Aadhaar Front Image","Aadhaar Back Image","Pancard Image","Bank Proof Image"];(0,l.useEffect)((()=>{(async()=>{try{var e;let p=await(0,C.o3B)();var i,r,l,a,o,n,t,d,s,u,c,v,m,h,b,y,x,j,f,A;!1===(null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.error)&&(g[0].setImageUrl(null===p||void 0===p||null===(i=p.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.shopInnerImg),g[1].setImageUrl(null===p||void 0===p||null===(l=p.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.shopOuterImg),g[2].setImageUrl(null===p||void 0===p||null===(o=p.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.shopLeftOfOuter),g[3].setImageUrl(null===p||void 0===p||null===(t=p.data)||void 0===t||null===(d=t.data)||void 0===d?void 0:d.shopRightOfOuter),g[4].setImageUrl(null===p||void 0===p||null===(s=p.data)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.shopFront),g[5].setImageUrl(null===p||void 0===p||null===(c=p.data)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.shopNearByImage),g[6].setImageUrl(null===p||void 0===p||null===(m=p.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.adhaarImgFront),g[7].setImageUrl(null===p||void 0===p||null===(b=p.data)||void 0===b||null===(y=b.data)||void 0===y?void 0:y.adhaarImgBack),g[8].setImageUrl(null===p||void 0===p||null===(x=p.data)||void 0===x||null===(j=x.data)||void 0===j?void 0:j.panImg),g[9].setImageUrl(null===p||void 0===p||null===(f=p.data)||void 0===f||null===(A=f.data)||void 0===A?void 0:A.bankImg))}catch(p){}})()}),[]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:"container",children:(0,W.jsx)("div",{className:"row g-4",children:g.map(((e,i)=>(0,W.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:(0,W.jsx)(e.ImageUpload,{index:i,title:y[i]})},i)))})}),p&&(0,W.jsx)("p",{style:{color:"red",textAlign:"center",marginTop:"10px"},children:p}),(0,W.jsx)(v.A,{spacing:3,alignItems:"center",marginTop:4,children:(0,W.jsx)(s.A,{type:"submit",variant:"contained",color:"primary",onClick:async()=>{if(g.some((e=>{let{imageUrl:i}=e;return!i})))return void b("Please upload all images before proceeding.");b("");const e={shopInnerImg:g[0].imageUrl,shopOuterImg:g[1].imageUrl,shopLeftOfOuter:g[2].imageUrl,shopRightOfOuter:g[3].imageUrl,shopFront:g[4].imageUrl,shopNearByImage:g[5].imageUrl,adhaarImgFront:g[6].imageUrl,adhaarImgBack:g[7].imageUrl,panImg:g[8].imageUrl,bankImg:g[9].imageUrl};try{var r,l,a;let o=await(0,C.DOF)(e);(0,T.A)(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.error,null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message),null!==o&&void 0!==o&&null!==(a=o.data)&&void 0!==a&&a.error||i()}catch(p){console.error("Error submitting images:",p)}},sx:{borderColor:"var(--bs-primary1)",width:"200px",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Next"})})]})},me=e=>{let{onComplete:i}=e;const[r,a]=(0,l.useState)(!1),[o,n]=(0,l.useState)(null),[t,d]=(0,l.useState)(!1);return(0,W.jsxs)("div",{className:"container text-center",children:[o?(0,W.jsxs)("div",{className:"mt-3",children:[(0,W.jsx)("video",{src:o,controls:!0,style:{width:"100%",maxWidth:"500px"}}),(0,W.jsx)(v.A,{spacing:3,alignItems:"center",marginTop:4,children:(0,W.jsx)(s.A,{type:"submit",variant:"contained",color:"primary",sx:{borderColor:"var(--bs-primary1)",width:"200px",backgroundColor:"var(--bs-primary1)",color:"white"},onClick:async()=>{if(o){var e;const r=await(null===(e=fetch(o))||void 0===e?void 0:e.then((e=>e.blob())));console.log(r,"videoBlob"),await(async e=>{d(!0);const r=new FormData;r.append("video",e,"recorded_video.webm"),r.append("user_id",window.localStorage.getItem("userIdToken")),console.log(r,"video");try{var l,a,o;let e=await(0,C.aud)(r);(0,T.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.error||i()}catch(n){}finally{d(!1)}})(r)}},disabled:t,children:"Next"})})]}):(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(u.A,{sx:{position:"relative",width:"100%",height:350,borderRadius:2,overflow:"hidden",bgcolor:"grey.200",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,W.jsx)(s.A,{variant:"outlined",color:"textSecondary",onClick:()=>a(!0),children:"Video KYC"})})}),(0,W.jsx)(ie.A,{show:r,handleClose:()=>a(!1),onSave:e=>{n(e),a(!1)}})]})},he=e=>{let{setCurrentPage:i,onComplete:r}=e;const[o,d]=(0,l.useState)(""),[u,c]=(0,l.useState)(!1),v=async()=>{var e;let l=await(0,C.CoV)({is_courierAgreement:!0});!1===(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.error)&&(r(),c(!1),i("onboarding-pending-page"))};return(0,l.useEffect)((()=>{let e;return(async()=>{try{let i=await(0,C.qdT)();setTimeout((()=>{e=URL.createObjectURL(i.data),d(e)}),50)}catch(i){console.error(i)}})(),()=>{e&&URL.revokeObjectURL(e)}}),[]),(0,W.jsxs)(a.A,{maxWidth:"sm",children:[(0,W.jsxs)(n.A,{style:{padding:"2rem",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[(0,W.jsx)(t.A,{variant:"h5",align:"center",gutterBottom:!0,children:"Agreement"}),(0,W.jsx)("iframe",{src:o,width:"100%",height:"600px"}),(0,W.jsx)(s.A,{variant:"contained",color:"success",fullWidth:!0,onClick:()=>{c(!0)},style:{marginTop:"1rem"},sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Submit"})]}),(0,W.jsxs)(p.A,{open:u,onClose:v,children:[(0,W.jsx)(b.A,{sx:{color:"var(--bs-primary1)"},children:"Thank You!"}),(0,W.jsx)(g.A,{children:(0,W.jsx)(t.A,{sx:{color:"var(--bs-nav)"},children:"Your application has been received, and our onboarding team will provide an update on its status soon."})}),(0,W.jsx)(y.A,{children:(0,W.jsx)(s.A,{onClick:v,color:"primary",variant:"contained",style:{marginTop:"1rem"},sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Close"})})]})]})},pe=e=>{let{showSponsorTab:i,setPaymentComplete:r}=e;const[o,u]=(0,l.useState)(null),[c,v]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,b]=(0,l.useState)(),[g,y]=(0,l.useState)(!1),[x,j]=(0,l.useState)(!0);(0,l.useEffect)((()=>{(async()=>{j(!0);try{var e,i,l,a;let o=await(0,C.ZkJ)();b(null===o||void 0===o||null===(e=o.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.amt),!0===(null===o||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.paymentStatus)&&r(!0)}catch(m){}finally{j(!1)}})()}),[]);const f=(0,re.A)((async(e,i)=>{if(4!==c.length)return void h("Enter a valid 4-digit TPIN");h("");let l={tpin:c,latitude:e,longitude:i};y(!0);try{var a,o,n;let e=await(0,C.Qcd)(l);(0,T.A)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error,null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.message),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.error||r(!0)}catch(m){console.error("Error sending OTP:",m)}finally{y(!1)}})),A=(0,re.A)((async(e,i)=>{y(!0);let l={latitude:e,longitude:i};try{let e=await(0,C.ztu)(l);var a;if(!e.error)(async e=>{if(console.log(e,"body"),!await(0,G.k)("https://checkout.razorpay.com/v1/checkout.js"))return void alert("Razorpay SDK failed to load. Please check your internet connection.");const i={key:le.gm,amount:e.amount,currency:"INR",name:"Needu",description:"Payment for Onboarding",order_id:null===e||void 0===e?void 0:e.id,handler:async function(e){var i,l,a;let o=await(0,C.s4Y)(e);(0,T.A)(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error,null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message),y(!1),null!==o&&void 0!==o&&null!==(a=o.data)&&void 0!==a&&a.error||r(!0)},prefill:{name:"User Name",email:"user@example.com",contact:"9999999999"},theme:{color:"#3399cc"}},l=new window.Razorpay(i);l.on("payment.failed",(async function(e){var i,r;let l=await(0,C.s4Y)(null===e||void 0===e?void 0:e.error);(0,T.A)(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error,null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message),y(!1)})),l.open()})(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)}catch(m){}}));return x?(0,W.jsx)(W.Fragment,{}):(0,W.jsx)(a.A,{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:(0,W.jsxs)(n.A,{style:{padding:"2rem",maxWidth:"500px",width:"100%",boxShadow:"0px 4px 15px rgba(0,0,0,0.1)",borderRadius:"10px"},children:[(0,W.jsx)(t.A,{variant:"h5",align:"center",gutterBottom:!0,style:{color:"var(--bs-primary1)"},children:"Select Payment Method"}),(0,W.jsxs)(t.A,{variant:"body1",align:"center",gutterBottom:!0,style:{color:"var(--bs-primary1)"},children:["You Have Choosen to Start ",i?"With Sponsor":"Without Sponsor"]}),(0,W.jsxs)(M.A,{component:"fieldset",style:{width:"100%",marginBottom:"1rem"},children:[(0,W.jsx)(Z.A,{component:"legend",style:{fontWeight:"bold",marginBottom:"0.5rem",color:"var(--bs-primary1)"},children:"Choose an option:"}),(0,W.jsxs)(V.A,{"aria-label":"payment-method",name:"payment-method",value:o,onChange:e=>{u(e.target.value),v(""),h("")},children:[(0,W.jsx)(w.A,{value:"gateway",control:(0,W.jsx)($.A,{color:"primary"}),label:"Payment Gateway",style:{backgroundColor:"gateway"===o?"#f0f0f0":"transparent",borderRadius:"8px",padding:"0.5rem",transition:"0.3s"}}),(0,W.jsx)(w.A,{value:"wallet",control:(0,W.jsx)($.A,{color:"secondary"}),label:"Wallet",style:{backgroundColor:"wallet"===o?"#f0f0f0":"transparent",borderRadius:"8px",padding:"0.5rem",transition:"0.3s"}})]})]}),o&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(t.A,{variant:"h6",align:"center",style:{marginTop:"1rem",color:"var(--bs-primary1)"},children:"Confirm Payment"}),"wallet"===o&&(0,W.jsx)(d.A,{label:"Enter 4-digit TPIN",variant:"outlined",fullWidth:!0,margin:"normal",type:"password",value:c,onChange:e=>v(e.target.value.replace(/\D/g,"").slice(0,4)),error:!!m,helperText:m,required:!0,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}}}),(0,W.jsxs)(s.A,{onClick:"wallet"===o?f:A,variant:"contained",color:"primary",fullWidth:!0,disabled:g,sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},style:{marginTop:"1rem",padding:"0.8rem",fontSize:"1rem",fontWeight:"bold"},children:["Pay ",p]})]})]})})},be=e=>{let{walletShowHeader:i}=e;const[r,o]=(0,l.useState)(0),[t,d]=(0,l.useState)(!1),[s,u]=(0,l.useState)(""),[c,v]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[p,b]=(0,l.useState)(!1),[g,y]=(0,l.useState)(!1),[f,A]=(0,l.useState)({}),[_,k]=(0,l.useState)({}),[S,w]=(0,l.useState)(!1),[P,M]=(0,l.useState)(!0),[I,N]=(0,l.useState)(!1),T=()=>{y((e=>!e))};return(0,l.useEffect)((()=>{(async()=>{N(!0);try{var e;let M=await(0,C.mQ9)();if(!1===(null===M||void 0===M||null===(e=M.data)||void 0===e?void 0:e.error)){var i,r,l,a,n,s,c,v,m,h,p,b,g,y,x,j,f,A,_,k,S,P,I,T,W,q,O,B,E,D,L,F;if(!1===(null===M||void 0===M||null===(i=M.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.is_courierSingup))return o(0),u("onboarding-page"),void t(!1);if(!0===(null===M||void 0===M||null===(l=M.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.is_courierSingup)&&d(!0),!1===(null===M||void 0===M||null===(n=M.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.is_courierDoc))return o(1),void u("onboarding-page");if(!1===(null===M||void 0===M||null===(c=M.data)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.is_courierVideo))return o(2),void u("onboarding-page");if(!1===(null===M||void 0===M||null===(m=M.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.is_courierAgreement))return o(3),void u("onboarding-page");if(!0===(null===M||void 0===M||null===(p=M.data)||void 0===p||null===(b=p.data)||void 0===b?void 0:b.is_courierSingup)&&!0===(null===M||void 0===M||null===(g=M.data)||void 0===g||null===(y=g.data)||void 0===y?void 0:y.is_courierDoc)&&!0===(null===M||void 0===M||null===(x=M.data)||void 0===x||null===(j=x.data)||void 0===j?void 0:j.is_courierVideo)&&!0===(null===M||void 0===M||null===(f=M.data)||void 0===f||null===(A=f.data)||void 0===A?void 0:A.is_courierAgreement)&&!1===(null===M||void 0===M||null===(_=M.data)||void 0===_||null===(k=_.data)||void 0===k?void 0:k.is_courierOnboarding))return void u("onboarding-pending-page");if(!0===(null===M||void 0===M||null===(S=M.data)||void 0===S||null===(P=S.data)||void 0===P?void 0:P.is_courierSingup)&&!0===(null===M||void 0===M||null===(I=M.data)||void 0===I||null===(T=I.data)||void 0===T?void 0:T.is_courierDoc)&&!0===(null===M||void 0===M||null===(W=M.data)||void 0===W||null===(q=W.data)||void 0===q?void 0:q.is_courierVideo)&&!0===(null===M||void 0===M||null===(O=M.data)||void 0===O||null===(B=O.data)||void 0===B?void 0:B.is_courierAgreement)&&!0===(null===M||void 0===M||null===(E=M.data)||void 0===E||null===(D=E.data)||void 0===D?void 0:D.is_courierOnboarding))return u("courier-page"),void w(null===M||void 0===M||null===(L=M.data)||void 0===L||null===(F=L.data)||void 0===F?void 0:F.is_courierOnboarding)}}catch(R){}finally{M(!1),N(!1)}})()}),[g]),P?null:"courier-page"===s&&!0===S?(0,W.jsx)(O,{children:(0,W.jsx)(z,{})}):(0,W.jsxs)(W.Fragment,{children:[I&&(0,W.jsx)(te.A,{}),(0,W.jsx)("div",{className:"PageHeading",children:(0,W.jsx)("h1",{children:"Courier"})}),"onboarding-pending-page"===s&&(0,W.jsx)(ne,{}),"onboarding-page"===s&&(0,W.jsx)(a.A,{style:{marginTop:"2rem"},children:t?m?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(x.A,{value:r,onChange:(e,i)=>o(i),centered:!0,children:[(0,W.jsx)(j.A,{label:"Signup Form",disabled:!0}),(0,W.jsx)(j.A,{label:"Upload Business Images",disabled:!0}),(0,W.jsx)(j.A,{label:"Upload Self Declaration Video",disabled:!0}),(0,W.jsx)(j.A,{label:"Agreement",disabled:!0})]}),(0,W.jsxs)(n.A,{style:{padding:"2rem",marginTop:"1rem",boxShadow:"0px 4px 10px rgba(0,0,0,0.1)"},children:[0===r&&(0,W.jsx)(ce,{setpageLoader:N,walletShowHeader:i,user:_,onComplete:T}),1===r&&(0,W.jsx)(ve,{onComplete:T}),2===r&&(0,W.jsx)(me,{onComplete:T}),3===r&&(0,W.jsx)(he,{setCurrentPage:u,onComplete:T})]})]}):(0,W.jsx)(pe,{setPaymentComplete:h,showSponsorTab:c}):(0,W.jsx)(ue,{setProcessStart:d,setShowSponsorTab:v,setSponserUser:A,sponserUser:f,setUser:k})})]})}},35717:(e,i,r)=>{r.d(i,{q:()=>a});var l=r(94414);const a=e=>l.cu+(e||"")},89349:(e,i,r)=>{r.d(i,{g:()=>l});const l=()=>new Promise(((e,i)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((i=>{e({latitude:i.coords.latitude,longitude:i.coords.longitude})}),(e=>{e.code===e.PERMISSION_DENIED&&alert("Please Enable Location to Proceed"),i(e)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):i(new Error("Geolocation is not supported"))}))},96423:(e,i,r)=>{r.d(i,{k:()=>l});const l=e=>new Promise(((i,r)=>{const l=document.createElement("script");l.src=e,l.async=!0,l.onload=()=>i(!0),l.onerror=()=>r(new Error("Failed to load script: ".concat(e))),document.body.appendChild(l)}))},54358:(e,i,r)=>{r.d(i,{A:()=>a});var l=r(91036);function a(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?l.oR.success(i):l.oR.error(i)}},8751:(e,i,r)=>{r.d(i,{A:()=>a});var l=r(89349);const a=e=>async function(){try{let{latitude:o,longitude:n}=await(0,l.g)();if(!o||!n)return alert("Please Enable Location");for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return await e(o,n,...r)}catch(o){console.error("Error fetching location:",o)}}}}]);
//# sourceMappingURL=3077.c213112c.chunk.js.map