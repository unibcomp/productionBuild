"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[4831],{20925:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(65043),s=a(14282),n=a(25284),o=a(70579);const i=function(e){var t,a;const[i,d]=(0,l.useState)(""),[r,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1);(0,l.useEffect)((()=>{h(e.updateInitialMemberHistory.pin),p()}),[e.updateInitialMemberHistory]);const p=()=>{const{pin:t,status:a,authority_remark:l}=e.updateInitialMemberHistory,s=r&&a&&"Select Status"!==a&&l&&""!==l.trim();u(s)},h=e=>{e?4!==e.length?(d("TPIN should be of four digits"),c(!1)):(d(""),c(!0)):(d("TPIN is required"),c(!1))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.A,{...e,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,o.jsx)(n.A.Header,{closeButton:!0,children:(0,o.jsx)(n.A.Title,{id:"contained-modal-title-vcenter",className:"text-align-center",children:"Fund request By Member"})}),(0,o.jsx)(n.A.Body,{children:(0,o.jsxs)("div",{className:"row g-3",children:[" ",(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"txtDate",className:"form-label",children:"Date :"}),(0,o.jsx)("input",{className:"form-control",id:"txtDate",type:"text",name:"date",value:null===(t=e.updateInitialMemberHistory)||void 0===t?void 0:t.createdAt,disabled:!0})]})}),(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"txtAmount",className:"form-label",children:"Amount :"}),(0,o.jsx)("input",{className:"form-control",id:"txtAmount",type:"number",name:"amount",value:e.updateInitialMemberHistory.amount,disabled:!0})]})}),(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"txtMemberRemark",className:"form-label",children:"Member Remarks :"}),(0,o.jsx)("input",{className:"form-control",id:"txtMemberRemark",type:"text",name:"remark",value:e.updateInitialMemberHistory.remark,disabled:!0})]})}),(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"txtAuthorityRemark",className:"form-label",children:"Authority Remarks :"}),(0,o.jsx)("input",{className:"form-control",id:"txtAuthorityRemark",type:"text",name:"authority_remark",value:e.updateInitialMemberHistory.authority_remark||"",onChange:e.handleChangeUpdate,placeholder:"Enter authority remarks",required:!0})]})}),(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"txtPin",className:"form-label",children:"TPin :"}),(0,o.jsx)("input",{className:"form-control",id:"txtPin",type:"password",name:"pin",placeholder:"Enter TPin",value:(null===(a=e.updateInitialMemberHistory)||void 0===a?void 0:a.pin)||"",onChange:t=>{const a=t.target.value.replace(/\D/g,"");a.length<=4&&e.handleChangeUpdate({target:{name:"pin",value:a}}),h(a)},maxLength:4,required:!0}),i&&(0,o.jsx)("div",{className:"text-danger small mt-1",children:i})]})}),(0,o.jsx)("div",{className:"col-lg-6 mb-3",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"ddlStatus",className:"form-label",children:"Select Status :"}),(0,o.jsxs)("select",{className:"form-select",id:"ddlStatus",name:"status",value:e.updateInitialMemberHistory.status||"",onChange:e.handleChangeUpdate,required:!0,children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Select Status"}),(0,o.jsx)("option",{value:"Pending",children:"Pending"}),(0,o.jsx)("option",{value:"Approved",children:"Approved"}),(0,o.jsx)("option",{value:"Rejected",children:"Rejected"})]})]})})]})}),(0,o.jsxs)(n.A.Footer,{children:[(0,o.jsx)(s.A,{variant:"secondary",onClick:e.onHide,children:"Close"}),(0,o.jsx)(s.A,{variant:"primary",onClick:e.updateData,disabled:!m,children:"Update"})]})]})})}},80701:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var l=a(65043),s=a(73575),n=a(22019),o=a(76245),i=a(72777),d=a(95702),r=(a(55953),a(53816),a(6901),a(20925),a(35475)),c=a(42609),m=a(70579);const u=function(){const[e,t]=(0,l.useState)(!1),[a,u]=(0,l.useState)(10),[p,h]=(0,l.useState)(0),[v,x]=(0,l.useState)(null),[b,g]=(0,l.useState)(null),[j,y]=(0,l.useState)(null),[N,w]=(0,l.useState)(!1),[S,f]=(0,l.useState)(""),_=(new Date).toISOString().split("T")[0],[T,A]=(0,l.useState)({user_id:"",count:"",page:"",min_amt:0,max_amt:0,end_date:_,start_date:_,status:"",sortType:"",sortKey:""});(0,l.useEffect)((()=>{k()}),[p,a]);const I=e=>{const t={...T},a=e.target.value;t[e.target.name]=a,A(t)},k=async()=>{t(!0),console.log("...filterInitial",T);const e={...T,count:a,page:p,min_amt:+T.min_amt,max_amt:+T.max_amt,user_id:window.localStorage.getItem("userIdToken")};console.log("clone for response",e);try{var l,n,o,i;const t=await(0,s.ya9)(e);x(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.totalCount),g(null===t||void 0===t||null===(o=t.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.requestList)}catch(d){console.error("Something went wrong")}t(!1)},[C,D]=(0,l.useState)(),[R,F]=(0,l.useState)(1),q=async e=>{F("asc"===C?1:-1),D("asc"===C?"desc":"asc"),t(!0);const l={...T,count:a,page:p,sortType:+R,sortKey:e,user_id:window.localStorage.getItem("userIdToken")};try{var n,o,i,d;const e=await(0,s.ya9)(l);x(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.totalCount),g(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(d=i.data)||void 0===d?void 0:d.requestList)}catch(r){console.error("Something went wrong")}t(!1)},M=localStorage.getItem("userType");return(0,m.jsxs)(m.Fragment,{children:[e&&(0,m.jsx)(i.A,{}),(0,m.jsx)("div",{className:"PageHeading",children:"reseller partner api user"===M?(0,m.jsx)("h1",{children:"Fund request to Sponsor"}):(0,m.jsx)("h1",{children:"Fund request to ZSM/ASM/SD/DS"})}),(0,m.jsxs)("div",{className:"ContentArea",children:[(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:" "}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("form",{action:"",method:"post",name:"frmReport",id:"frmReport",children:[(0,m.jsx)("input",{type:"hidden",id:"hidID",name:"hidID"}),(0,m.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,m.jsxs)("div",{className:"form-group col-md-4",children:[(0,m.jsx)("label",{htmlFor:"txtUserId",children:"Start Date"}),(0,m.jsx)("input",{type:"date",name:"start_date",id:"account_no",max:T.end_date,className:"form-control",value:T.start_date,onChange:I})]}),(0,m.jsxs)("div",{className:"form-group col-md-4",children:[(0,m.jsx)("label",{htmlFor:"txtUserId",children:"End Date"}),(0,m.jsx)("input",{type:"date",name:"end_date",id:"account_no",max:(new Date).toISOString().substr(0,10),className:"form-control",value:T.end_date,onChange:I})]}),(0,m.jsxs)("div",{className:"form-group col-md-4",children:[(0,m.jsx)("label",{htmlFor:"ddldb",children:"Status"}),(0,m.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"status",value:T.status,onChange:I,children:[(0,m.jsx)("option",{selected:!0,children:"Select Status"}),(0,m.jsx)("option",{value:"Pending",children:"Pending"}),(0,m.jsx)("option",{value:"Approved",children:"Approved"}),(0,m.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,m.jsxs)("div",{className:"form-group col-md-2",children:[(0,m.jsx)("label",{children:"\xa0"}),(0,m.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>k(),children:"Search"}),(0,m.jsx)("button",{type:"button",className:"btn btn-light",onClick:async()=>{t(!0);const e={count:10,page:0,min_amt:0,max_amt:0,end_date:"",start_date:"",status:"",sortType:"",sortKey:"",user_id:window.localStorage.getItem("userIdToken")};try{var a,l,n,o;const t=await(0,s.ya9)(e);g(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.requestList),x(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.totalCount),A({min_amt:0,max_amt:0,end_date:"",start_date:"",status:""}),h(0),u(10)}catch(i){console.error("Something went wrong")}t(!1)},children:"Reset"})]})]})]})})]}),(0,m.jsx)("div",{className:"card mt-4",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,m.jsx)("div",{className:"d-flex  justify-content-end ",children:(0,m.jsxs)("div",{className:"dataTables_length mb-2",id:"myTable_length",children:[(0,m.jsx)("button",{onClick:async()=>{t(!0);const e={...T,count:a,page:p,user_id:window.localStorage.getItem("userIdToken")};try{var l,o;const a=await(0,s.LYy)(e),i=null===a||void 0===a||null===(l=a.data)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.requestList;if(!i||0===i.length)return n.Ay.error("No data available to export."),void t(!1);y(i),setTimeout((()=>{document.getElementById("test-table-xls-button-1").click(),t(!1),n.Ay.success("Excel file download initiated.")}),100)}catch(i){console.error("Error preparing data for export:",i),n.Ay.error("Failed to prepare data for export. Please try again."),t(!1)}},disabled:e,style:{backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"10px 24px",fontSize:"15px",fontWeight:"600",cursor:"pointer",minWidth:"160px",height:"42px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:e?.7:1,transform:e?"none":"translateY(0)",":hover":{backgroundColor:"#059669",transform:"translateY(-1px)"},":active":{transform:"translateY(0)"},":disabled":{backgroundColor:"#9ca3af",cursor:"not-allowed"}},children:e?"Loading...":"Download Excel"}),(0,m.jsx)(d.A,{id:"test-table-xls-button-1",className:"download-table-xls-button d-none",table:"table-to-xlsx",filename:"Payment_Request  Report",sheet:"Sheet1",buttonText:"Download Excel"})]})})}),(0,m.jsx)("div",{id:"myTable_wrapper",className:"dataTables_wrapper no-footer",style:{overflow:"auto"},children:(0,m.jsxs)("table",{className:"table table-striped table-bordered table-hover display dataTable no-footer dtr-inline collapsed",id:"",role:"grid","aria-describedby":"myTable_info",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{role:"row",children:[(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"169.4px"},onClick:()=>q("createdAt"),children:"S.No"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"169.4px"},onClick:()=>q("createdAt"),children:"Request Date"}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"User Name"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"User Type"})]}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"Mobile No."}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"Amount"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"Remarks"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"76.4px"},"aria-label":"Status: activate to sort column ascending",children:"Status"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"76.4px"},"aria-label":"Status: activate to sort column ascending",children:"Transaction Dispute"})]})}),(0,m.jsx)("tbody",{children:b&&(null===b||void 0===b?void 0:b.map(((e,t)=>{var l,s,n,o,i,d,u;return(0,m.jsxs)("tr",{className:"odd",children:[(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:t+1+p*a}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:new Date(null===e||void 0===e?void 0:e.createdAt).getDate()+"/"+Number(new Date(null===e||void 0===e?void 0:e.createdAt).getMonth()+1)+"/"+new Date(null===e||void 0===e?void 0:e.createdAt).getFullYear()+","+new Date(null===e||void 0===e?void 0:e.createdAt).getHours()+":"+new Date(null===e||void 0===e?void 0:e.createdAt).getMinutes()}),"Retailer"===M?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e||null===(l=e.requestTo)||void 0===l?void 0:l.name}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:(0,c.N)(null===e||void 0===e||null===(s=e.requestTo)||void 0===s||null===(n=s.user_type_id)||void 0===n?void 0:n.user_type)})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e||null===(o=e.requestTo)||void 0===o?void 0:o.name}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:(0,c.N)(null===e||void 0===e||null===(i=e.requestTo)||void 0===i||null===(d=i.user_type_id)||void 0===d?void 0:d.user_type)})]}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e||null===(u=e.requestTo)||void 0===u?void 0:u.mobile}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.amount}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.remark}),(0,m.jsxs)("td",{valign:"top",className:"dataTables_empty",children:["Pending"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{style:{width:"140px"},class:"btn btn-warning",children:null===e||void 0===e?void 0:e.status}):"","Approved"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{style:{width:"140px"},class:"btn btn-success",children:null===e||void 0===e?void 0:e.status}):"","Rejected"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{style:{width:"140px"},class:"btn btn-danger",children:null===e||void 0===e?void 0:e.status}):"","In progress"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{style:{width:"140px"},class:"btn btn-warning",children:null===e||void 0===e?void 0:e.status}):""]}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:(0,m.jsxs)(r.N_,{className:"btn btn-primary",to:"/add-ticket/".concat(null===e||void 0===e?void 0:e._id),state:{item:e,serviceId:"65f9484a26eb74e182c640fc"},children:["  ",(0,m.jsx)("span",{style:{color:"#fff"},children:"Dispute"})]})})]},null===e||void 0===e?void 0:e._id)})))})]})}),(0,m.jsxs)("div",{className:"dataTables_paginate paging_simple_numbers d-flex justify-content-between align-items-center",id:"myTable_paginate",children:[(0,m.jsxs)("div",{className:"dataTables_info",id:"myTable_info",role:"status","aria-live":"polite",children:["Total ",v,"  entries"]}),(0,m.jsx)("div",{children:(0,m.jsx)(o.A,{onChange:(e,t)=>{h(e-1),u(t)},current:p+1,total:v,pageSize:a})})]})]})}),(0,m.jsxs)("table",{className:"table table-striped table-bordered table-hover display dataTable no-footer dtr-inline collapsed d-none",id:"table-to-xlsx",role:"grid","aria-describedby":"myTable_info",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{role:"row",children:[(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"169.4px"},onClick:()=>q("createdAt"),children:"Request Date"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"169.4px"},onClick:()=>q("createdAt"),children:"Name"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"169.4px"},onClick:()=>q("createdAt"),children:"Mobile Number"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"Amount"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"131.4px"},"aria-label":"Bill Amount: activate to sort column ascending",children:"Remarks"}),(0,m.jsx)("th",{className:"sorting",tabIndex:0,"aria-controls":"myTable",rowSpan:1,colSpan:1,style:{width:"76.4px"},"aria-label":"Status: activate to sort column ascending",children:"Status"})]})}),(0,m.jsx)("tbody",{children:j&&(null===j||void 0===j?void 0:j.map((e=>{var t,a;return(0,m.jsxs)("tr",{className:"odd",children:[(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:new Date(null===e||void 0===e?void 0:e.createdAt).getDate()+"/"+Number(new Date(null===e||void 0===e?void 0:e.createdAt).getMonth()+1)+"/"+new Date(null===e||void 0===e?void 0:e.createdAt).getFullYear()+","+new Date(null===e||void 0===e?void 0:e.createdAt).getHours()+":"+new Date(null===e||void 0===e?void 0:e.createdAt).getMinutes()}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e||null===(t=e.requestTo)||void 0===t?void 0:t.name}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e||null===(a=e.requestTo)||void 0===a?void 0:a.mobile}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.amount}),(0,m.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.remark}),(0,m.jsxs)("td",{valign:"top",className:"dataTables_empty",children:["Pending"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{class:"btn btn-warning",children:null===e||void 0===e?void 0:e.status}):"","Approved"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{class:"btn btn-success",children:null===e||void 0===e?void 0:e.status}):"","Reject"==(null===e||void 0===e?void 0:e.status)?(0,m.jsx)("button",{class:"btn btn-danger",children:null===e||void 0===e?void 0:e.status}):""]})]},null===e||void 0===e?void 0:e._id)})))})]})]})]})};const p=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u,{})})}},42609:(e,t,a)=>{a.d(t,{N:()=>l});const l=e=>"reseller"===e.toLowerCase()?"Sponsor":e},6901:(e,t,a)=>{e.exports=a.p+"static/media/image4.6c2e81d319a597cbd094.jpeg"}}]);
//# sourceMappingURL=4831.44091297.chunk.js.map