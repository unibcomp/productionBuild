"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[6515,523],{13847:(e,i,a)=>{a.d(i,{e:()=>n});var t=a(65043),r=a(44332);const n=e=>{let{wadhValue:i}=e;const[a,n]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1);return{fingerprintData:a,loading:o,captureFingerprint:async e=>{l(!0);try{const a=null===r.R||void 0===r.R?void 0:r.R.find((i=>i.name.toLowerCase()===e.toLowerCase()));if(!a)throw new Error("Device config not found");const t=(e=>{const i=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("Resp")[0],a=null===i||void 0===i?void 0:i.getAttribute("errCode"),t=null===i||void 0===i?void 0:i.getAttribute("errInfo"),r=null===i||void 0===i?void 0:i.getAttribute("qScore");if("0"!==a)throw new Error(t||"Unknown capture error");return{status:"Captured",captureSuccess:!0,errCode:a,qScore:r,pidData:e}})((await(async(e,a,t)=>{for(let n of e)for(let e of a)try{const a="".concat(n,":").concat(e).concat(t),r=await fetch(a,{method:"CAPTURE",headers:{"Content-Type":"text/xml"},body:"<?xml version='1.0'?><PidOptions ver='1.0'><Opts fCount='1' fType='2' iCount='0' pCount='0' format='0' pidVer='2.0' timeout='10000' posh='UNKNOWN' env='P' wadh=\"".concat(i,'" /><CustOpts></CustOpts></PidOptions>')});if(r.ok)return{success:!0,data:await r.text(),url:a}}catch(r){continue}throw new Error("No available host/port for fingerprint capture.")})(a.hosts,a.ports,a.path)).data);return n(t),t}catch(a){throw a}finally{l(!1)}}}}},90523:(e,i,a)=>{a.r(i),a.d(i,{default:()=>l,useBankTransfer:()=>o});var t=a(65043),r=a(70579);const n=(0,t.createContext)(),o=()=>(0,t.useContext)(n),l=e=>{let{walletCall:i,children:a}=e;const[o,l]=(0,t.useState)(),[s,d]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[v,m]=(0,t.useState)(""),[h,p]=(0,t.useState)({}),[b,x]=(0,t.useState)([]),[g,y]=(0,t.useState)("money-transfer"),[f,j]=(0,t.useState)("");return(0,r.jsx)(n.Provider,{value:{walletCall:i,invoiceId:f,setInvoiceId:j,setWadhValue:d,wadhValue:s,globalLoader:c,setGlobalLoader:u,mobile:v,setMobile:m,currentPage:g,setCurrentPage:y,setCustomer:p,customer:h,selectedBank:o,setSelectedBank:l,allBank:b,setAllBank:x},children:a})}},56515:(e,i,a)=>{a.r(i),a.d(i,{default:()=>ce});var t=a(65043),r=a(67784),n=a(94516),o=a(11906),l=a(90035),s=a(26600),d=a(94496),c=a(35316),u=a(29347),v=a(68903),m=a(17392),h=a(81045),p=a(81637),b=a(39336),x=a(12110),g=a(26494),y=a(57972),f=a(74605),j=a(14256),A=a(36591),C=a(2828),k=a(27108),S=a(95870),_=a(66360),w=a(68641),N=a(51387),T=a(44533),I=a(27149),P=a(34960),W=a(1281),B=a(73575),D=a(98606),M=a(73216),z=a(90523),O=(a(91036),a(54358)),E=a(8751),F=a(63516),L=a(80899),V=a(72777),q=(a(17205),a(37912),a(33262)),R=a(45531),Y=a(60648),$=(a(56573),a(6577),a(4137),a(58207),a(10146),a(44332),a(13847)),G=a(93141),K=a(90074),U=a.n(K),H=a(6901),Z=a(70579);const J=e=>/^[6-9]\d{9}$/.test(e),X=e=>(0,Z.jsx)(r.A,{variant:"outlined",size:"small",InputLabelProps:{shrink:!0},sx:{"& label.Mui-focused":{color:"var(--bs-nav)"},"& .MuiOutlinedInput-root":{height:40,"& .MuiOutlinedInput-input":{py:0},"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},...e}),Q=e=>(0,Z.jsx)(r.A,{variant:"outlined",size:"small",InputLabelProps:{shrink:!0},className:"send-moeny-input",InputProps:{sx:{"&::placeholder":{fontSize:"8px"}}},sx:{"& .MuiOutlinedInput-root":{height:40,"& .MuiOutlinedInput-input":{py:0},"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},...e}),ee=e=>(0,Z.jsx)(r.A,{variant:"outlined",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{height:44,"& .MuiOutlinedInput-input":{py:0},"&:hover fieldset":{borderColor:"var(--bs-primary1)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary1)"}}},...e}),ie=e=>{let{children:i}=e;return(0,Z.jsx)(n.A,{sx:{width:"100%",mx:"auto",my:1,px:3,py:4,pb:6,backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)",borderRadius:1,boxShadow:"none","& .MuiTextField-root":{"& .MuiInputLabel-root":{color:"var(--bs-primary2)"},"& .MuiOutlinedInput-input":{color:"var(--bs-primary2) !important"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"var(--bs-primary2)"},"&:hover fieldset":{borderColor:"var(--bs-primary2)"},"&.Mui-focused fieldset":{borderColor:"var(--bs-primary2)"}}}},children:i})},ae=e=>{let{otpResponse:i,setOtpResponse:a,amount:r,transferMode:v,otpSent:m,open:h,onClose:p,recipient:b}=e;const{setInvoiceId:x,setCurrentPage:g,walletCall:y,setGlobalLoader:f,customer:j,selectedBank:A,allBank:C}=(0,z.useBankTransfer)(),[k,S]=((0,M.Zp)(),(0,t.useState)("")),[_,w]=(0,t.useState)(""),[N,T]=(0,t.useState)(""),[I,P]=(0,t.useState)(!1),[W,D]=(0,t.useState)(""),[F,L]=(0,t.useState)(""),[V,q]=(0,t.useState)(!1),[R,Y]=(0,t.useState)(!1),$=(null===j||void 0===j||j.total_limit,null===j||void 0===j||j.used_limit,C.find((e=>(null===e||void 0===e?void 0:e._id)===A))),G=(null===$||void 0===$?void 0:$.name)||"",K=()=>{const e=(i=_)?/^\d{6}$/.test(i)?"":"OTP must be 6 digits":"OTP is required";var i;T(e),e||P(!0)},U=(0,E.A)((async(e,t)=>{const n=(o=W)?/^\d{4}$/.test(o)?"":"PIN must be 4 digits":"PIN is required";var o;if(L(n),!n){Y(!0);let n={recipient_id:b.recipient_id,amount:r,customer_mobile:b.recipient_mobile,channel:v,beneficiary_name:(null===b||void 0===b?void 0:b.bank_account_name)||(null===b||void 0===b?void 0:b.recipient_name),bank_name:b.bank,ifsc_code:b.ifsc,account_number:b.account,customer_name:null===j||void 0===j?void 0:j.name,api_id:A,user_id:window.localStorage.getItem("userIdToken"),latlong:"".concat(e,",").concat(t),tpin:W};"bank1"===G&&(n.otp=_,n.value=i);try{var l,s,d,c,u,h;const e=await(0,B.Nk1)(n);var f,C,k;if((0,O.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message),"200"===(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.statusCode)||"127"===(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.statusCode))x(null===e||void 0===e||null===(f=e.data)||void 0===f||null===(C=f.data)||void 0===C||null===(k=C[0])||void 0===k?void 0:k.batchId),g("invoice"),y();"400"===(null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.statusCode)&&setTimeout((()=>{p()}),400),"405"===(null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.statusCode)&&(p(),a(""),P(!1),m(!1)),setTimeout((()=>{D("")}),500)}catch(S){}finally{Y(!1)}}}));return(0,Z.jsxs)(l.A,{open:h,maxWidth:"sm",fullWidth:!0,onClose:()=>{},disableEscapeKeyDown:!0,disableBackdropClick:!0,PaperProps:{onClick:e=>e.stopPropagation()},children:[(0,Z.jsx)(s.A,{align:"center",sx:{fontWeight:"bold",color:"var(--bs-primary2)"},children:"Send Money"}),(0,Z.jsxs)(d.A,{align:"center",color:"var(--bs-primary1)",fontWeight:"bold",mt:-2,children:[m&&!I&&"Please enter your otp",m&&I&&"Please enter your Tpin"]}),(0,Z.jsx)(c.A,{children:(0,Z.jsx)(n.A,{mt:2,children:(()=>{const e="bank1"===G&&m&&!I,i="bank1"===G&&I||"bank2"===G&&m;return(0,Z.jsxs)(Z.Fragment,{children:[e&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(X,{fullWidth:!0,label:"Enter OTP",placeholder:"Enter 6 Digit Otp",value:_,onChange:e=>{const i=e.target.value;/^\d{0,6}$/.test(i)&&w(i)},inputProps:{maxLength:6},error:!!N,helperText:N,size:"small",className:"mt-3"}),(0,Z.jsx)(o.A,{fullWidth:!0,variant:"contained",onClick:K,sx:{mt:2,borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},disabled:!_||6!=_.length,children:"Submit OTP"})]}),i&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(X,{fullWidth:!0,label:"4-digit PIN",type:"password",value:W,onChange:e=>{const i=e.target.value;/^\d{0,4}$/.test(i)&&D(i)},inputProps:{maxLength:4},error:!!F,helperText:F,size:"small",className:"mt-3"}),(0,Z.jsx)(o.A,{fullWidth:!0,variant:"contained",onClick:U,sx:{mt:2,borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},disabled:4!=W.length||R,children:R?"Sending...":"Send Money"})]})]})})()})}),(0,Z.jsx)(u.A,{sx:{justifyContent:"end",pb:2,pr:4},children:(0,Z.jsx)(o.A,{variant:"outlined",color:"warning",onClick:p,children:"Cancel"})})]})},te=()=>{var e;const{setGlobalLoader:i,selectedBank:a,customer:r,setCurrentPage:l,allBank:s}=(0,z.useBankTransfer)(),c=s.find((e=>(null===e||void 0===e?void 0:e._id)===a)),u=(null===c||void 0===c?void 0:c.name)||"",A=null===r||void 0===r?void 0:r.total_limit,C=null===r||void 0===r?void 0:r.used_limit,k=A-C,S=C/A*100,[_,D]=(0,t.useState)([]),[M,F]=(0,t.useState)(!1),[L,V]=(0,t.useState)(!1),[q,R]=(0,t.useState)(null),[Y,$]=(0,t.useState)({}),[G,K]=(0,t.useState)({}),[U,H]=(0,t.useState)({}),[J,X]=(0,t.useState)(!1),[ee,te]=(0,t.useState)("1"),[re,ne]=(0,t.useState)(""),[oe,le]=(0,t.useState)(""),se=()=>"bank1"===u?k>5e3?5e3:k:"bank2"===u?25e3:k,de=()=>"bank1"===u?100:"bank2"===u?1e4:0,ce=(e,i)=>{const a=(e=>{const i=Number(e),a=de(),t=se();return e?isNaN(i)?"Amount must be a number":i<a?"Min: \u20b9".concat(a):i>t?"Max: \u20b9".concat(t):i>k?"Only \u20b9".concat(k," available"):"":"Amount is required"})(i);$((a=>({...a,[e]:i}))),K((i=>({...i,[e]:a})))};(0,t.useEffect)((()=>{(async()=>{var e;let i={mobile:null===r||void 0===r?void 0:r.mobile,api_id:a},t=await(0,B.Cyg)(i);D((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[])})()}),[M]);const ue=(0,E.A)((async(e,t,n,o,l)=>{console.log(n,"re"),i(!0);let s={recipient_id:n.recipient_id,amount:o,customer_mobile:n.recipient_mobile,channel:l,beneficiary_name:(null===n||void 0===n?void 0:n.bank_account_name)||(null===n||void 0===n?void 0:n.recipient_name),bank_name:n.bank,ifsc_code:n.ifsc,account_number:n.account,customer_name:null===r||void 0===r?void 0:r.name,api_id:a,user_id:window.localStorage.getItem("userIdToken"),latlong:"".concat(e,",").concat(t)};try{var d,c,u;let e=await(0,B.Ph1)(s);var v,m;if(!1===(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.error))X(!0),V(!0),ne(null===e||void 0===e||null===(v=e.data)||void 0===v||null===(m=v.data)||void 0===m?void 0:m.value);(0,O.A)(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.error,null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)}catch(h){}finally{i(!1)}}));return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(ie,{children:[(0,Z.jsxs)(v.Ay,{container:!0,alignItems:"center",justifyContent:"space-between",pr:4,children:[(0,Z.jsx)(v.Ay,{item:!0,children:(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,children:[(0,Z.jsx)(m.A,{onClick:()=>l("money-transfer"),children:(0,Z.jsx)(w.A,{})}),(0,Z.jsx)(h.A,{sx:{width:40,height:40},children:null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.substring(0,1)}),(0,Z.jsx)(n.A,{children:(0,Z.jsxs)(d.A,{variant:"body2",fontWeight:"bold",fontSize:16,color:"var(--bs-primary2)",children:["Customer Name :",(0,Z.jsx)(d.A,{component:"body2",color:"var(--bs-nav)",sx:{opacity:.8,ml:1},children:null===r||void 0===r?void 0:r.name})]})})]})}),"bank2"===u?(0,Z.jsx)(Z.Fragment,{children:null}):(0,Z.jsx)(v.Ay,{item:!0,children:(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,children:[(0,Z.jsxs)(n.A,{position:"relative",display:"inline-flex",children:[(0,Z.jsx)(p.A,{variant:"determinate",size:96}),(0,Z.jsx)(p.A,{variant:"determinate",value:S,size:96,thickness:2,sx:{color:"error.main",position:"absolute",left:0}}),(0,Z.jsxs)(n.A,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,Z.jsxs)(d.A,{variant:"caption",color:"error.main",fontWeight:"bold",children:["\u20b9",C]}),(0,Z.jsx)(d.A,{variant:"caption",color:"text.secondary",children:"Limit used"})]})]}),(0,Z.jsxs)(n.A,{children:[(0,Z.jsxs)(d.A,{variant:"body2",color:"var(--bs-nav)",fontSize:16,fontWeight:"bold",children:["Available Transfer Limit:"," ",(0,Z.jsxs)(d.A,{component:"body2",color:"var(--bs-nav)",sx:{opacity:.8},children:["\u20b9",k]})]}),(0,Z.jsxs)(d.A,{variant:"body2",color:"var(--bs-nav)",fontSize:16,fontWeight:"bold",children:["Total Transfer Limit:"," ",(0,Z.jsxs)(d.A,{component:"body2",color:"var(--bs-nav)",sx:{opacity:.8},children:["\u20b9",A]})]})]})]})})]}),(0,Z.jsx)(b.A,{sx:{my:2}}),(0,Z.jsxs)(n.A,{children:[(0,Z.jsx)(n.A,{display:"flex",justifyContent:"flex-end",children:(0,Z.jsx)(o.A,{variant:"contained",color:"primary",sx:{height:40,borderColor:"var(--bs-nav)",backgroundColor:"var(--bs-nav)",color:"white"},onClick:()=>l("add-newBeneficiaryPage"),children:"Add New Beneficiary"})}),(0,Z.jsx)(x.A,{sx:{p:0,borderRadius:4,boxShadow:0,backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:(0,Z.jsxs)(g.A,{children:[(0,Z.jsx)(d.A,{variant:"h6",mb:2,children:"Send Money"}),(null===_||void 0===_?void 0:_.length)>0?null===_||void 0===_?void 0:_.map((e=>(0,Z.jsx)(x.A,{sx:{p:0,mb:2,borderRadius:4,boxShadow:0,backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:(0,Z.jsxs)(v.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,Z.jsx)(v.Ay,{item:!0,xs:12,md:3,sx:{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2)"},children:(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,children:[(0,Z.jsx)(h.A,{sx:{bgcolor:"transparent"},children:(0,Z.jsx)(T.A,{})}),(0,Z.jsxs)(n.A,{children:[(0,Z.jsx)(d.A,{fontWeight:"bold",fontSize:14,children:e.recipient_name}),(0,Z.jsx)(d.A,{variant:"body2",fontSize:12,children:e.bank}),(0,Z.jsx)(d.A,{variant:"body2",fontSize:12,children:e.ifsc}),(0,Z.jsxs)(d.A,{variant:"body2",fontSize:12,children:["AC: ",e.account]})]})]})}),(0,Z.jsx)(v.Ay,{item:!0,xs:6,sm:4,md:1.5,children:(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",color:e.isVerified?"green":"gray",children:[e.isVerified?(0,Z.jsx)(I._IM,{style:{fontSize:"14px",fill:"var(--bs-nav)"}}):(0,Z.jsx)(P.oxH,{style:{fontSize:"14px"}}),(0,Z.jsx)(d.A,{ml:.5,fontWeight:"bold",children:e.isVerified?"Verified":"Not Verified"})]})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,md:1.5,children:(0,Z.jsx)(o.A,{variant:"outlined",color:"primary",size:"small",disabled:e.isVerified,onClick:()=>(async e=>{const t={name:e.recipient_name,ifsc:e.ifsc,bankAccount:e.account,phone:e.recipient_mobile,recipient_id:e.recipient_id,bank_id:e.bankId,api_id:a,user_id:window.localStorage.getItem("userIdToken")};i(!0);try{var r,n;const e=await(0,B.ege)(t);(0,O.A)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),F((e=>!e))}catch(o){}finally{i(!1)}})(e),sx:{borderColor:"var(--bs-primary1)",fontSize:"12px",color:"var(--bs-primary1)"},children:"Verify"})}),(0,Z.jsx)(v.Ay,{item:!0,xs:6,sm:4,md:2,children:(0,Z.jsx)(Q,{fullWidth:!0,label:"Amount",placeholder:"\u20b9 Min: ".concat(de()," / Max: ").concat(se()),value:Y[e.recipient_id]||"",onChange:i=>ce(e.recipient_id,i.target.value),error:!!G[e.recipient_id],helperText:G[e.recipient_id],size:"small"})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,Z.jsxs)(y.A,{row:!0,name:"transferType-".concat(e.recipient_id),sx:{justifyContent:"center","& .MuiFormControlLabel-label":{fontSize:10}},value:U[e.recipient_id]||"2",onChange:i=>H((a=>({...a,[e.recipient_id]:i.target.value}))),children:[(0,Z.jsx)(f.A,{value:"2",control:(0,Z.jsx)(j.A,{size:"small"}),label:"IMPS"}),(0,Z.jsx)(f.A,{value:"1",control:(0,Z.jsx)(j.A,{size:"small"}),label:"NEFT"})]})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,Z.jsxs)(n.A,{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"},gap:1,children:[(0,Z.jsx)(o.A,{disabled:!!G[e.recipient_id]||!Y[e.recipient_id],onClick:()=>(e=>{console.log(e);const i=Y[e.recipient_id],a=U[e.recipient_id]||"2";te(a),le(i),"bank1"===u?ue(e,i,a):(X(!0),V(!0)),R(e)})(e),variant:"contained",color:"primary",size:"small",sx:{borderColor:"var(--bs-primary1)",fontSize:"12px",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Send"}),(0,Z.jsx)(W.A,{title:"Delete",description:"Are you sure to Delete ?",onConfirm:()=>(async e=>{let t={customer_mobile:null===r||void 0===r?void 0:r.mobile,recipient_id:null===e||void 0===e?void 0:e.recipient_id,user_id:window.localStorage.getItem("userIdToken"),api_id:a};i(!0);try{var n,o,l;let e=await(0,B.ZWd)(t);200==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)&&F((e=>!e)),(0,O.A)(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.error,null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)}catch(s){}finally{i(!1)}})(e),onCancel:()=>{},okText:"Yes",cancelText:"No",okButtonProps:{className:"popoverconfirm",style:{backgroundColor:"var(--bs-primary1)",borderColor:"var(--bs-primary1)"}},children:(0,Z.jsx)(o.A,{variant:"outlined",color:"error",size:"small",children:(0,Z.jsx)(N.A,{sx:{fill:"red"}})})})]})})]})},e.recipient_id))):(0,Z.jsx)(d.A,{variant:"body2",textAlign:"center",children:"No Benefiaries Found"})]})})]})]}),L&&(0,Z.jsx)(ae,{otpResponse:re,transferMode:ee,amount:oe,otpSent:J,setOtpSent:X,open:L,onClose:()=>V(!1),recipient:q})]})},re=()=>{const{walletCall:e,setGlobalLoader:i,customer:a,selectedBank:r,setCurrentPage:h}=(0,z.useBankTransfer)(),[b,x]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[f,j]=(0,t.useState)(""),[A,C]=(0,t.useState)([]),[k,_]=(0,t.useState)(null),[N,T]=(0,t.useState)(!1),[I,P]=(0,t.useState)(),[W,D]=(0,t.useState)(!1),[M,E]=(0,t.useState)(""),F=()=>{P(""),D(!1),E("")},[L,V]=(0,t.useState)({name:"",account_number:"",ifsc:""});(0,t.useEffect)((()=>{(async()=>{try{var e,i;let a=await(0,B.OAj)(r);const t=(null===a||void 0===a||null===(e=a.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map((e=>({...e,label:e.bank_name,value:e.bankID}))))||[];C(t)}catch(a){}})(),(async()=>{try{var e,i;let a=await(0,B.$p4)();j(null===a||void 0===a||null===(e=a.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.bankVerificationCharge)}catch(a){}})()}),[]);const q=e=>{const{name:i,value:a}=e.target;V((e=>({...e,[i]:"name"===i?a.replace(/[^a-zA-Z\s]/g,""):a})))},R=L.name&&L.account_number&&L.ifsc&&k;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(ie,{children:[(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,children:[(0,Z.jsx)(m.A,{onClick:()=>a.hasOwnProperty("mobile")?h("send-money-page"):h("money-transfer"),children:(0,Z.jsx)(w.A,{})}),(0,Z.jsx)(d.A,{variant:"body2",color:"var(--bs-nav)",fontWeight:"bold",fontSize:18,children:"Add New Beneficiary"})]}),(0,Z.jsxs)(n.A,{maxWidth:"800px",m:"auto",mt:3,children:[(0,Z.jsxs)(v.Ay,{container:!0,spacing:3,children:[(0,Z.jsx)(v.Ay,{item:!0,xs:12,md:6,children:(0,Z.jsx)(X,{fullWidth:!0,label:"Beneficiary Name",name:"name",value:L.name,onChange:q,disabled:N})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,md:6,children:(0,Z.jsx)(S.Ay,{value:k,onChange:e=>{_(e),V((i=>({...i,ifsc:(null===e||void 0===e?void 0:e.ifsc_code)||""})))},options:A,placeholder:"Select Bank",isClearable:!0,isSearchable:!0,menuPortalTarget:document.body,isDisabled:N,styles:{control:(e,i)=>({...e,minHeight:40,borderRadius:4,borderColor:i.isFocused?"var(--bs-primary1)":"#ced4da",boxShadow:i.isFocused?"0 0 0 1px var(--bs-primary1)":"none","&:hover":{borderColor:"var(--bs-primary1)"}}),placeholder:e=>({...e,color:"#6c757d",fontSize:14}),singleValue:e=>({...e,color:"#212529",fontWeight:500,fontSize:14}),menu:e=>({...e,zIndex:20,fontSize:14}),option:(e,i)=>({...e,fontSize:14,fontWeight:i.isSelected?500:400,color:i.isSelected?"var(--bs-primary1)":"#212529",backgroundColor:(i.isSelected||i.isFocused,"white"),"&:hover":{backgroundColor:"var(--bs-primary1)",color:"#fff"}}),menuPortal:e=>({...e,zIndex:9999})}})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,md:6,children:(0,Z.jsx)(X,{fullWidth:!0,label:"IFSC Code",name:"ifsc",value:L.ifsc,onChange:q,disabled:N})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,md:6,children:(0,Z.jsx)(X,{fullWidth:!0,label:"Account Number",name:"account_number",value:L.account_number,onChange:q,type:"number",disabled:N})})]}),(0,Z.jsxs)(d.A,{color:"var(--bs-nav)",sx:{mt:2},fontWeight:500,children:["Account Verification Charge: \u20b9 ",f||0]}),(0,Z.jsxs)(n.A,{sx:{display:"flex",gap:2,mt:2,justifyContent:"space-between"},children:[(0,Z.jsx)(o.A,{variant:"outlined",color:"info",width:"200px",disabled:!R||N,onClick:async()=>{const i={account_number:L.account_number,ifsc:L.ifsc,bank_name:k.bank_name,name:L.name,bankAccount:L.account_number,phone:a.mobile};x(!0);try{var t,r,n;let a=await(0,B.ege)(i);"200"===(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.statusCode)&&(T(!0),V((()=>{var e,i,t,r,n,o;return{name:null===a||void 0===a||null===(e=a.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.bank_account_name,ifsc:null===a||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.bank_ifsc,account_number:null===a||void 0===a||null===(n=a.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.bank_account_number}})),e()),(0,O.A)(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error,null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)}catch(o){}finally{x(!1)}},sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},children:b?(0,Z.jsx)(p.A,{size:24,color:"inherit"}):"Account Verification"}),(0,Z.jsx)(o.A,{variant:"outlined",color:"info",width:"200px",sx:{borderColor:"var(--bs-primary1)",color:"var(--bs-primary1)"},disabled:!R,onClick:async()=>{y(!0);const e={recipient_name:L.name,customer_mobile:null===a||void 0===a?void 0:a.mobile,account_number:null===L||void 0===L?void 0:L.account_number,ifsc:(null===L||void 0===L?void 0:L.ifsc)||"",bank_code:(null===k||void 0===k?void 0:k.bankID)||"",bank_id:null===k||void 0===k?void 0:k._id,recipient_mobile:null===a||void 0===a?void 0:a.mobile,isVerified:N,bank_name:(null===k||void 0===k?void 0:k.bank_name)||"",api_id:r,user_id:window.localStorage.getItem("userIdToken")};try{var i,t,n,o;const a=await(0,B.nJO)(e);var l,s;if(201===(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.statusCode))D(!0),E(null===a||void 0===a||null===(l=a.data)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.recipient_id);200===(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.statusCode)&&h("send-money-page"),(0,O.A)(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error,null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)}catch(d){}finally{y(!1)}},children:g?(0,Z.jsx)(p.A,{size:24,color:"inherit"}):"Add Beneficiary"})]})]})]}),(0,Z.jsxs)(l.A,{open:W,onClose:F,maxWidth:"xs",fullWidth:!0,children:[(0,Z.jsx)(s.A,{sx:{color:"var(--bs-primary1)"},children:"OTP Verification"}),(0,Z.jsxs)(c.A,{children:[(0,Z.jsx)(d.A,{mb:2,sx:{color:"var(--bs-primary1)"},children:"Enter the 6-digit code sent to your mobile number."}),(0,Z.jsx)(ee,{fullWidth:!0,label:"Enter OTP",value:I,onChange:e=>{const i=e.target.value.replace(/\D/g,"");(null===i||void 0===i?void 0:i.length)<=6&&P(i)},inputProps:{maxLength:6},autoFocus:!0})]}),(0,Z.jsxs)(u.A,{children:[(0,Z.jsx)(o.A,{onClick:F,children:"Cancel"}),(0,Z.jsx)(o.A,{onClick:async()=>{let e={recipient_id:M,customer_mobile:null===a||void 0===a?void 0:a.mobile,otp:I};i(!0);try{var t,r,n;const i=await(0,B.NmZ)(e);200==(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.statusCode)&&(F(),h("send-money-page")),(0,O.A)(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.error,null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)}catch(o){}finally{i(!1)}},sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},variant:"contained",disabled:(null===I||void 0===I?void 0:I.length)<6,children:"Verify"})]})]})]})},ne=()=>{const{selectedBank:e,setCurrentPage:i,mobile:a}=(0,z.useBankTransfer)(),r=new Date,l=new Date(r.getFullYear()-18,r.getMonth(),r.getDate()).toISOString().split("T")[0],s=new Date(r.getFullYear()-100,r.getMonth(),r.getDate()).toISOString().split("T")[0],[c,u]=(0,t.useState)({firstName:"",lastName:"",customerMobile:a,dob:"",country:"India",pinCode:"",state:"",city:"",district:"",area:"",aadharNumber:""}),h=L.Ik({firstName:L.Yj().required("First Name is required"),lastName:L.Yj().required("Last Name is required"),customerMobile:L.Yj().matches(/^[6-9]\d{9}$/,"Enter a valid 10-digit mobile number").required("Mobile number is required"),dob:L.Yj().required("Date of Birth is required"),pinCode:L.Yj().matches(/^\d{6}$/,"Pincode must be 6 digits").required("Pincode is required"),state:L.Yj().required("State is required"),city:L.Yj().required("City is required"),district:L.Yj().required("District is required"),area:L.Yj().required("Area is required"),aadharNumber:L.Yj().matches(/^\d{12}$/,"Aadhaar must be 12 digits").required("Aadhaar number is required")});return(0,Z.jsxs)(ie,{children:[(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,children:[(0,Z.jsx)(m.A,{onClick:()=>i("money-transfer"),children:(0,Z.jsx)(w.A,{})}),(0,Z.jsx)(d.A,{variant:"body2",color:"var(--bs-nav)",fontWeight:"bold",fontSize:18,children:"Add New Customer"})]}),(0,Z.jsx)(n.A,{maxWidth:"1000px",m:"auto",children:(0,Z.jsx)(F.l1,{initialValues:c,validationSchema:h,onSubmit:async(t,r)=>{let{setSubmitting:n}=r;await(async t=>{console.log("Submitted values:",t),u(t);let r={user_id:window.localStorage.getItem("userIdToken"),customer_mobile:a,name:t.firstName,dob:t.dob,country:t.country,city:t.city,state:t.state,pincode:t.pinCode,district:t.district,area:t.area,api_id:e,lastName:t.lastName,adhaar_number:t.aadharNumber};try{var n,o,l,s;const e=await(0,B.ffD)(r);200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)&&i("otp-page"),"008"===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.statusCode)&&i("otp-page"),(0,O.A)(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error,null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)}catch(d){}})(t),n(!1)},enableReinitialize:!0,children:e=>{let{errors:i,touched:a,setErrors:t,setFieldValue:r,isSubmitting:d}=e;return(0,Z.jsx)(F.lV,{children:(0,Z.jsx)(n.A,{p:3,children:(0,Z.jsxs)(v.Ay,{container:!0,rowSpacing:6,columnSpacing:6,children:[(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"firstName",as:ee,label:"First Name *",fullWidth:!0,error:a.firstName&&Boolean(i.firstName),helperText:a.firstName&&i.firstName})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"lastName",as:ee,label:"Last Name *",fullWidth:!0,error:a.lastName&&Boolean(i.lastName),helperText:a.lastName&&i.lastName})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"customerMobile",as:ee,label:"Customer Mobile *",fullWidth:!0,disabled:!0})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"dob",as:ee,label:"Date Of Birth *",fullWidth:!0,type:"date",InputLabelProps:{shrink:!0},error:a.dob&&Boolean(i.dob),helperText:a.dob&&i.dob,inputProps:{max:l,min:s}})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"country",as:ee,label:"Country *",fullWidth:!0,disabled:!0})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"pinCode",as:ee,label:"Pin Code *",onChange:e=>{const i=e.target.value.replace(/\D/g,"").slice(0,6);r("pinCode",i),6===i.length&&(async(e,i,a)=>{try{var t;if(!e)return void a({pincode:"Pincode is required"});if(!/^[0-9]{6}$/.test(e))return void a({pincode:"Pincode must be exactly 6 digits"});a({pincode:""});const v=await(0,B.sal)(e);var r,n,o,l,s,d,c,u;null!==v&&void 0!==v&&null!==(t=v.data)&&void 0!==t&&t.error?a({pincode:"Invalid Pincode or not found"}):(i("city",(null===(r=v.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.city)||""),i("state",(null===(o=v.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.state)||""),i("district",(null===(s=v.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.district)||""),i("area",(null===(c=v.data)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.sub_distance)||""))}catch(v){console.error("Error fetching pincode details:",v),a({pincode:"Something went wrong. Please try again."})}})(i,r,t)},fullWidth:!0,error:a.pinCode&&Boolean(i.pinCode),helperText:a.pinCode&&i.pinCode})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"state",as:ee,label:"State *",fullWidth:!0,error:a.state&&Boolean(i.state),helperText:a.state&&i.state})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"city",as:ee,label:"City *",fullWidth:!0,error:a.city&&Boolean(i.city),helperText:a.city&&i.city})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"district",as:ee,label:"District *",fullWidth:!0,error:a.district&&Boolean(i.district),helperText:a.district&&i.district})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"area",as:ee,label:"Area *",fullWidth:!0,error:a.area&&Boolean(i.area),helperText:a.area&&i.area})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(F.D0,{name:"aadharNumber",as:ee,label:"Aadhaar Number *",fullWidth:!0,error:a.aadharNumber&&Boolean(i.aadharNumber),helperText:a.aadharNumber&&i.aadharNumber})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,children:(0,Z.jsx)(o.A,{type:"submit",variant:"contained",color:"primary",sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},disabled:d,children:"Submit"})})]})})})}})})]})},oe=()=>{const[e,i]=(0,t.useState)(!0),{walletCall:a,setWadhValue:r,selectedBank:n,mobile:v,setCurrentPage:m}=(0,z.useBankTransfer)(),[h,p]=(0,t.useState)(""),b=()=>{p(""),m("money-transfer"),i(!1)};return(0,Z.jsxs)(l.A,{open:e,onClose:b,maxWidth:"xs",fullWidth:!0,children:[(0,Z.jsx)(s.A,{sx:{color:"var(--bs-primary1)"},children:"OTP Verification"}),(0,Z.jsxs)(c.A,{children:[(0,Z.jsx)(d.A,{mb:2,sx:{color:"var(--bs-primary1)"},children:"Enter the 6-digit code sent to your mobile number."}),(0,Z.jsx)(ee,{fullWidth:!0,label:"Enter OTP",value:h,onChange:e=>{const i=e.target.value.replace(/\D/g,"");i.length<=6&&p(i)},inputProps:{maxLength:6},autoFocus:!0})]}),(0,Z.jsxs)(u.A,{children:[(0,Z.jsx)(o.A,{onClick:b,children:"Cancel"}),(0,Z.jsx)(o.A,{onClick:async()=>{const e={customer_mobile:v,api_id:n,otp:h,user_id:window.localStorage.getItem("userIdToken")};try{var i,a,t,o;const n=await(0,B.LOM)(e);var l,s;if(200===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.statusCode)&&m("money-transfer"),200===(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.statusCode))m("KYC-page"),r(null===n||void 0===n||null===(l=n.data)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.wadhValue);(0,O.A)(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error,null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)}catch(d){}},sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},variant:"contained",disabled:h.length<6,children:"Verify"})]})]})},le=()=>{const[e,i]=(0,t.useState)(!0),{setCurrentPage:a}=(0,z.useBankTransfer)(),[r,n]=(0,t.useState)(""),v=()=>{n(""),a("money-transfer"),i(!1)};return(0,Z.jsxs)(l.A,{open:e,onClose:v,maxWidth:"xs",fullWidth:!0,children:[(0,Z.jsx)(s.A,{sx:{color:"var(--bs-primary1)"},children:"Marchant Verification"}),(0,Z.jsxs)(c.A,{children:[(0,Z.jsx)(d.A,{mb:2,sx:{color:"var(--bs-primary1)"},children:"Enter the 6-digit code sent to your mobile number."}),(0,Z.jsx)(ee,{fullWidth:!0,label:"Enter OTP",value:r,onChange:e=>{const i=e.target.value.replace(/\D/g,"");i.length<=6&&n(i)},inputProps:{maxLength:6},autoFocus:!0})]}),(0,Z.jsxs)(u.A,{children:[(0,Z.jsx)(o.A,{onClick:v,children:"Cancel"}),(0,Z.jsx)(o.A,{onClick:async()=>{const e={mobile:window.localStorage.getItem("regisNumber").slice(-10),otp:r};try{var i,t,n;const r=await(0,B.K_R)(e);"200"===(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.statusCode)&&a("money-transfer"),(0,O.A)(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.error,null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)}catch(o){}},sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},variant:"contained",disabled:r.length<6,children:"Verify"})]})]})},se=()=>{const e=[{id:"2",img:q,name:"Mantra"},{id:"3",img:R,name:"Mantra L1"},{id:"4",img:Y,name:"Morpho"}],{walletCall:i,wadhValue:a,selectedBank:r,mobile:l,setCurrentPage:s}=(0,z.useBankTransfer)(),[c,u]=(0,t.useState)(null),{loading:h,captureFingerprint:p}=(0,$.e)({wadhValue:a}),b=e.find((e=>e.id===c)),y=(0,E.A)((async(e,a)=>{if(!b)return alert("Please select a device.");try{var t,n,o,d;const c=(await p(b.name)).pidData+"<bookz/>",u=window.btoa((new XMLSerializer).serializeToString((new DOMParser).parseFromString(c,"application/xml"))),v={customer_mobile:l,latitude:e,longitude:a,biometric_data:u,api_id:r},m=await(0,B.Rc1)(v);"200"!==(null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.statusCode)||null!==m&&void 0!==m&&null!==(n=m.data)&&void 0!==n&&n.error||(s("send-money-page"),i()),(0,O.A)(null===m||void 0===m||null===(o=m.data)||void 0===o?void 0:o.error,null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.message)}catch(c){alert("Capture failed: "+c.message)}}));return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(ie,{children:[(0,Z.jsxs)(n.A,{display:"flex",alignItems:"center",gap:2,mb:2,children:[(0,Z.jsx)(m.A,{onClick:()=>s("money-transfer"),children:(0,Z.jsx)(w.A,{})}),(0,Z.jsx)(d.A,{variant:"body2",color:"var(--bs-nav)",fontWeight:"bold",fontSize:18,children:"Verify KYC"})]}),(0,Z.jsxs)(v.Ay,{container:!0,spacing:2,sx:{p:2},children:[(0,Z.jsx)(v.Ay,{item:!0,xs:12,children:(0,Z.jsx)(v.Ay,{container:!0,spacing:2,children:null===e||void 0===e?void 0:e.map(((e,i)=>(0,Z.jsx)(v.Ay,{item:!0,xs:6,sm:4,md:2,children:(0,Z.jsxs)(x.A,{onClick:()=>{return i=e.id,void u(i);var i},sx:{display:"flex",flexDirection:"column",alignItems:"center",p:1,height:"100%",border:c===e.id?"1px solid var(--bs-nav)":"1px solid #ddd",borderRadius:2,boxShadow:0,cursor:"pointer",transition:"all 0.3s ease"},children:[(0,Z.jsx)(A.A,{component:"img",image:e.img,alt:e.name,sx:{height:80,objectFit:"contain",mb:1}}),(0,Z.jsx)(g.A,{sx:{p:0},children:(0,Z.jsx)(d.A,{variant:"body2",align:"center",sx:{fontWeight:500},children:e.name})})]})},i)))})}),(0,Z.jsx)(v.Ay,{item:!0,xs:12,textAlign:"center",children:(0,Z.jsx)(o.A,{variant:"contained",disabled:!c||h,onClick:y,sx:{borderColor:"var(--bs-primary1)",mt:3,backgroundColor:"var(--bs-primary1)",color:"white"},children:h?"Capturing...":"Capture Fingerprint"})})]})]})})},de=()=>{var e,i,a,r,n,o,l,s,d,c,u,v;const[h,p]=(0,t.useState)(!1),{invoiceId:b,setCurrentPage:x}=(0,z.useBankTransfer)(),[g,y]=(0,t.useState)(null),f=(0,t.useRef)(),j=(0,G.useReactToPrint)({content:()=>f.current,documentTitle:"DMT Data"});(0,t.useEffect)((()=>{(async()=>{p(!0);try{var e;const i=await(0,B.vJ9)(b);y(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data)}catch(i){}p(!1)})()}),[b]);const A=(0,t.useRef)(null);(0,t.useEffect)((()=>{A.current&&(A.current.scrollTop=0)}),[]);return(0,t.useEffect)((()=>{(()=>{var e;null===A||void 0===A||null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})})()}),[]),(0,Z.jsxs)(Z.Fragment,{children:[h&&(0,Z.jsx)(V.A,{}),(0,Z.jsx)("div",{ref:A}),(0,Z.jsx)("div",{className:"ContentArea",children:(0,Z.jsxs)("div",{className:"card",children:[(0,Z.jsxs)("div",{className:"card-header card-Details",children:[(0,Z.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Z.jsx)(m.A,{onClick:()=>x("send-money-page"),children:(0,Z.jsx)(w.A,{})}),(0,Z.jsx)("div",{className:"Details",children:(0,Z.jsx)("span",{children:"Details"})})]}),(0,Z.jsxs)("div",{className:"button-print",children:[(0,Z.jsxs)("div",{type:"button",className:"btn btn-warning mr-3",onClick:j,children:[" ",(0,Z.jsx)(P.ne7,{}),"Full Print"]}),(0,Z.jsxs)("div",{type:"button",className:"btn btn-warning mr-3",onClick:()=>{const e=document.getElementById("contentId1");U()().set({margin:1,format:[90,297],filename:"thermal_print_page.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:[110,200],orientation:"portrait"}}).from(e).save()},children:[" ",(0,Z.jsx)(P.ne7,{}),"Thermal Print"]})]})]}),(0,Z.jsxs)("div",{ref:f,id:"contentId1",className:"contentId2",children:[(0,Z.jsx)("div",{className:"card-body",children:(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsx)("div",{className:"col-lg-12",children:(0,Z.jsx)("div",{className:"logo-print text-align-center pb-3",children:(0,Z.jsx)("img",{src:H,alt:""})})}),(0,Z.jsx)("div",{className:"col-lg-6 aabc",children:(0,Z.jsxs)("div",{className:"left-side-section",children:[(0,Z.jsxs)("div",{children:["CSP Name : ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(e=g.invoice[0])||void 0===e?void 0:e.shop_name})]}),(0,Z.jsxs)("div",{children:["Mobile Number :"," ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(i=g.invoice[0])||void 0===i?void 0:i.mobile_number})]}),(0,Z.jsxs)("div",{children:["Sender Name :"," ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(a=g.invoice[0])||void 0===a?void 0:a.customer_name})]}),(0,Z.jsxs)("div",{children:["Sender No :"," ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(r=g.invoice[0])||void 0===r?void 0:r.customer_mobile})]})]})}),(0,Z.jsx)("div",{className:"col-lg-6 aabc",children:(0,Z.jsxs)("div",{className:"right-side-section",children:[(0,Z.jsxs)("div",{children:["Beneficiary :"," ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(n=g.invoice[0])||void 0===n?void 0:n.beneficiary_name})]}),(0,Z.jsxs)("div",{children:["Bank Name : ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(o=g.invoice[0])||void 0===o?void 0:o.bank_name})]}),(0,Z.jsxs)("div",{children:["Account No :"," ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(l=g.invoice[0])||void 0===l?void 0:l.account_number})]}),(0,Z.jsxs)("div",{children:["Date : ",(0,Z.jsx)("span",{children:null===g||void 0===g||null===(s=g.invoice[0])||void 0===s?void 0:s.createdAt})]})]})})]})}),(0,Z.jsx)("div",{className:"col-lg-12",children:(0,Z.jsx)("div",{className:"card mt-4",style:{overflow:"auto"},children:(0,Z.jsxs)("div",{className:"card-body",children:[(0,Z.jsx)("div",{id:"myTable_wrapper",className:"dataTables_wrapper no-footer",children:(0,Z.jsxs)("table",{className:"table table-striped table-bordered table-hover display dataTable no-footer dtr-inline collapsed",role:"grid","aria-describedby":"myTable_info",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{role:"row",children:[(0,Z.jsx)("th",{className:"sorting",children:"TID"}),(0,Z.jsx)("th",{className:"sorting",children:"Status"}),(0,Z.jsx)("th",{className:"sorting",children:"UTR No"}),(0,Z.jsx)("th",{className:"sorting",children:"Amount"})]})}),(0,Z.jsxs)("tbody",{children:[g&&(null===g||void 0===g||null===(d=g.invoice[0])||void 0===d||null===(c=d.allTrans)||void 0===c?void 0:c.map((e=>(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.tid}),(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.status}),(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.utr}),(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===e||void 0===e?void 0:e.amount})]},null===e||void 0===e?void 0:e._id)))),(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",colSpan:3,children:"Total"}),(0,Z.jsx)("td",{valign:"top",className:"dataTables_empty",children:null===g||void 0===g||null===(u=g.invoice[0])||void 0===u?void 0:u.totalAmount})]})]})]})}),(0,Z.jsx)("div",{className:"col-lg-12",children:(0,Z.jsx)("div",{className:"reserve",children:(0,Z.jsxs)("p",{children:["\xa9 ",null===(v=new Date)||void 0===v?void 0:v.getFullYear()," All Rights Reserved "]})})})]})})})]})]})})]})},ce=()=>{const[e,i]=(0,t.useState)([]),[a,r]=(0,t.useState)(""),{globalLoader:l,setGlobalLoader:s,mobile:c,setMobile:u,setCurrentPage:m,currentPage:h,setCustomer:p,selectedBank:b,setSelectedBank:y,allBank:f,setAllBank:j}=(0,z.useBankTransfer)(),A=(0,t.useCallback)((async()=>{try{var e;const a=await(0,B.jnj)({mobile:c}),t=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||[];i(t)}catch(a){console.error("Error fetching suggestions:",a),i([])}}),[c]);(0,t.useEffect)((()=>{if(!c)return void i([]);const e=setTimeout(A,500);return()=>clearTimeout(e)}),[c,A]);(0,t.useEffect)((()=>{(async()=>{var e,i,a,t;let r=await(0,B.JqU)();j((null===r||void 0===r||null===(e=r.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.dmtApiType)||[]),y(null===r||void 0===r||null===(a=r.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.defaultApi)})()}),[]);return(0,Z.jsxs)(n.A,{sx:{width:"100vw",height:"100vh",backgroundColor:"var(--bs-primary1)",minHeight:"100vh"},children:[l&&(0,Z.jsx)(V.A,{}),(0,Z.jsx)("div",{className:"PageHeading",children:(0,Z.jsx)("h1",{children:"Bank Transfer"})}),"money-transfer"===h&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(ie,{children:[(0,Z.jsx)(d.A,{variant:"h6",fontWeight:"600",mb:2,children:"Bank Selection"}),(0,Z.jsx)(v.Ay,{container:!0,spacing:2,children:null===f||void 0===f?void 0:f.map((e=>{const i=b===e._id;return(0,Z.jsx)(v.Ay,{item:!0,xs:6,sm:3,md:3,lg:2,children:(0,Z.jsx)(x.A,{elevation:i?6:1,sx:{border:i?"1px solid var(--bs-nav)":"1px solid #ccc",position:"relative",borderRadius:2,transition:"all 0.3s ease",width:"150px"},children:(0,Z.jsxs)(C.A,{onClick:()=>{return i=e._id,void y(i);var i},children:[(0,Z.jsx)(g.A,{sx:{p:1},children:(0,Z.jsx)(d.A,{variant:"subtitle1",align:"center",color:"var(--bs-nav)",fontSize:14,children:e.name.toUpperCase()})}),i&&(0,Z.jsx)(D.A,{sx:{position:"absolute",top:11,right:30,width:"17px",height:"17px",color:"#1976d2",fill:"var(--bs-nav)"}})]})})},e._id)}))}),(0,Z.jsxs)(n.A,{sx:{mt:2,width:{xs:"100%",sm:"50%"}},children:[(0,Z.jsx)(d.A,{variant:"h6",fontWeight:"600",mb:2,children:"Customer Search"}),(0,Z.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!J(c))return void r("Please enter a valid mobile number.");s(!0);let i={mobile:c,api_id:b};try{var t,n,o,l,d,u;let e=await(0,B.dqk)(i);var v,h;if("401"===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.statusCode)&&m("add-customer"),"008"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)&&m("otp-page"),"007"===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.statusCode)&&m("marchant-onboarding-otp"),"200"===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.statusCode))p(null===e||void 0===e||null===(v=e.data)||void 0===v||null===(h=v.data)||void 0===h?void 0:h.response),m("send-money-page");(0,O.A)(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.error,null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.message)}catch(a){}finally{s(!1)}},children:(0,Z.jsxs)(n.A,{display:"flex",alignItems:"flex-start",gap:1.5,children:[(0,Z.jsx)(n.A,{sx:{width:40,height:40,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--bs-primary1)"},children:(0,Z.jsx)(_.A,{})}),(0,Z.jsx)(k.A,{freeSolo:!0,options:e,getOptionLabel:e=>"string"===typeof e?e:e.customer_number,inputValue:c,onInputChange:(e,i)=>{const a=i.replace(/\D/g,"").slice(0,10);u(a),a&&(a.length<10||!J(a))?r("Enter a valid 10-digit mobile number."):r("")},fullWidth:!0,renderInput:e=>(0,Z.jsx)(X,{...e,label:"Search customer mobile number",variant:"outlined",size:"small",error:!!a,helperText:a||null})}),(0,Z.jsx)(o.A,{variant:"contained",disabled:!J(c),type:"submit",sx:{width:"200px",backgroundColor:"var(--bs-primary1)",border:"1px solid var(--bs-primary2)",color:"var(--bs-primary2) !important","&:hover":{backgroundColor:"var(--bs-primary1)",color:"var(--bs-primary2) !important",opacity:.9},"&.Mui-disabled":{backgroundColor:"var(--bs-primary1) !important",color:"var(--bs-primary2) !important",borderColor:"var(--bs-primary2) !important",opacity:.5}},children:"Search"})]})})]})]})}),"send-money-page"===h&&(0,Z.jsx)(te,{}),"add-newBeneficiaryPage"===h&&(0,Z.jsx)(re,{}),"add-customer"===h&&(0,Z.jsx)(ne,{}),"otp-page"===h&&(0,Z.jsx)(oe,{}),"marchant-onboarding-otp"===h&&(0,Z.jsx)(le,{}),"KYC-page"===h&&(0,Z.jsx)(se,{}),"invoice"===h&&(0,Z.jsx)(de,{})]})}},44332:(e,i,a)=>{a.d(i,{R:()=>t});const t=[{name:"Mantra",path:"/rd/capture",hosts:["https://localhost","https://127.0.0.1"],ports:[11100,11101,11102]},{name:"Morpho",path:"/rd/capture",hosts:["https://localhost"],ports:[11100]},{name:"Mantra L1",path:"/rd/capture",hosts:["https://localhost","https://127.0.0.1"],ports:[11100,11101,11102]}]},89349:(e,i,a)=>{a.d(i,{g:()=>t});const t=()=>new Promise(((e,i)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((i=>{e({latitude:i.coords.latitude,longitude:i.coords.longitude})}),(e=>{e.code===e.PERMISSION_DENIED&&alert("Please Enable Location to Proceed"),i(e)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):i(new Error("Geolocation is not supported"))}))},54358:(e,i,a)=>{a.d(i,{A:()=>r});var t=a(91036);function r(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?t.oR.success(i):t.oR.error(i)}},8751:(e,i,a)=>{a.d(i,{A:()=>r});var t=a(89349);const r=e=>async function(){try{let{latitude:n,longitude:o}=await(0,t.g)();if(!n||!o)return alert("Please Enable Location");for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return await e(n,o,...a)}catch(n){console.error("Error fetching location:",n)}}},37912:(e,i,a)=>{e.exports=a.p+"static/media/iris.7815c2241d235d0e09e7.png"},33262:(e,i,a)=>{e.exports=a.p+"static/media/mantra.6c398cd6eba242d3496c.png"},45531:(e,i,a)=>{e.exports=a.p+"static/media/mantral1.cdc67b4cc75a0d886924.png"},60648:(e,i,a)=>{e.exports=a.p+"static/media/morpho.3d2243f00963167fc971.png"},56573:(e,i,a)=>{e.exports=a.p+"static/media/morphol1.1d9cca64ce0bd3399131.png"},6577:(e,i,a)=>{e.exports=a.p+"static/media/precision.bc7d5ca50f7f6227e698.png"},4137:(e,i,a)=>{e.exports=a.p+"static/media/sequgen.91463d52e65a91c44667.png"},58207:(e,i,a)=>{e.exports=a.p+"static/media/startrek.a6a704265d590008c71c.png"},10146:(e,i,a)=>{e.exports=a.p+"static/media/startrekl1.af847db98c53f9fa33a7.png"},17205:(e,i,a)=>{e.exports=a.p+"static/media/finger_success.1cae1bfaf912b6dcb6b3.gif"},6901:(e,i,a)=>{e.exports=a.p+"static/media/image4.6c2e81d319a597cbd094.jpeg"}}]);
//# sourceMappingURL=6515.934c2951.chunk.js.map