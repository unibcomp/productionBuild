(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[3103],{54478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(65043),a=s(73216),n=s(53519),o=s(38628),l=s(73722),c=s(61072),i=s(78602),d=s(64196),u=s(85369),x=(s(95702),s(76245)),m=(s(76323),s(73575)),h=s(72777),f=s(70579);const p=function(){const{userId:e}=(0,a.g)(),[t,s]=((0,a.zy)(),(0,r.useState)([])),[p,b]=(0,r.useState)([]),[y,j]=(0,r.useState)(0),[v,N]=(0,r.useState)(0),[g,k]=(0,r.useState)(!0),[w,C]=(0,r.useState)(null),[A,_]=(0,r.useState)({key:null,direction:"ascending"}),[T,O]=(0,r.useState)(1),[W,E]=(0,r.useState)(10),R=()=>(new Date).toISOString().substr(0,10),S={user_id:window.localStorage.getItem("userIdToken"),id:e,count:W,page:1,start_date:R(),end_date:R(),type:"",trans_type:"",order_id:"",txn_id:""},[P,I]=(0,r.useState)(S),[U,B]=(0,r.useState)(S);(0,r.useEffect)((()=>{(async()=>{try{var e;k(!0),C(null);const t={...U,page:T,count:W},r=await(0,m._RX)(t);null!==r&&void 0!==r&&null!==(e=r.data)&&void 0!==e&&e.data?(s(Array.isArray(r.data.data.wallet)?r.data.data.wallet:[]),j(r.data.data.total||0),N(r.data.totalAmount||0)):(s([]),j(0),N(0),C("No data available"))}catch(w){console.error("Error fetching user report:",w),C((null===w||void 0===w?void 0:w.message)||"Failed to fetch report data"),s([]),j(0),N(0)}finally{k(!1)}})()}),[e,T,W,U]);const D=e=>{const{name:t,value:s}=e.target;I((e=>({...e,[t]:"string"===typeof s?s.trim():s})))},M=e=>{let t="ascending";A.key===e&&"ascending"===A.direction&&(t="descending"),_({key:e,direction:t})},L=(0,r.useMemo)((()=>{const e=Array.isArray(t)?[...t]:[];return A.key&&e.length>0?e.sort(((e,t)=>{var s,r;const a=null!==(s=e[A.key])&&void 0!==s?s:"",n=null!==(r=t[A.key])&&void 0!==r?r:"";return a<n?"ascending"===A.direction?-1:1:a>n?"ascending"===A.direction?1:-1:0})):e}),[t,A]);return g?(0,f.jsx)(n.A,{fluid:!0,className:"px-4",children:(0,f.jsx)(h.A,{})}):(0,f.jsxs)(n.A,{fluid:!0,className:"px-4 PageHeading",children:[(0,f.jsx)("h1",{className:"mt-4 mb-4 ",children:"Transaction Report"}),(0,f.jsxs)(o.A,{className:"mb-4 ur-card",children:[(0,f.jsx)(o.A.Header,{className:"ur-card-header"}),(0,f.jsx)(o.A.Body,{className:"ur-card-body",children:(0,f.jsxs)(l.A,{children:[(0,f.jsxs)(c.A,{className:"mb-3",children:[(0,f.jsx)(i.A,{md:4,children:(0,f.jsxs)(l.A.Group,{controlId:"startDate",children:[(0,f.jsx)(l.A.Label,{children:"Start Date"}),(0,f.jsx)(l.A.Control,{type:"date",name:"start_date",value:P.start_date,onChange:D,max:R()})]})}),(0,f.jsx)(i.A,{md:4,children:(0,f.jsxs)(l.A.Group,{controlId:"endDate",children:[(0,f.jsx)(l.A.Label,{children:"End Date"}),(0,f.jsx)(l.A.Control,{type:"date",name:"end_date",value:P.end_date,onChange:D,max:R()})]})}),(0,f.jsx)(i.A,{md:4,children:(0,f.jsxs)(l.A.Group,{controlId:"type",children:[(0,f.jsx)(l.A.Label,{children:"Type"}),(0,f.jsxs)(l.A.Control,{as:"select",name:"type",value:P.type,onChange:D,children:[(0,f.jsx)("option",{value:"",children:"Select Type"}),(0,f.jsx)("option",{value:"all",children:"All"}),(0,f.jsx)("option",{value:"credit",children:"Credit"}),(0,f.jsx)("option",{value:"debit",children:"Debit"})]})]})})]}),(0,f.jsx)(c.A,{className:"mb-3",children:(0,f.jsx)(i.A,{md:4,children:(0,f.jsxs)(l.A.Group,{controlId:"txn_id",children:[(0,f.jsx)(l.A.Label,{children:"Txn Id"}),(0,f.jsx)(l.A.Control,{type:"text",name:"txn_id",value:P.txn_id,onChange:D})]})})}),(0,f.jsx)(c.A,{className:"mb-3",children:(0,f.jsx)("div",{className:"form-group col-md-6 col-lg-4",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{type:"button",className:"btn btn-primary mr-3",onClick:()=>{C(null),B(P),O(1)},children:"Search"}),(0,f.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{const e={...S,start_date:"",end_date:""};C(null),I(e),B(e),O(1),E(10)},children:"Reset"})]})})})]})})]}),(0,f.jsxs)(o.A,{className:"mb-4 ur-card",children:[(0,f.jsx)(o.A.Header,{className:"ur-card-header",children:(0,f.jsx)(c.A,{className:"align-items-center"})}),(0,f.jsxs)(o.A.Body,{className:"ur-card-body",children:[(0,f.jsxs)(d.A,{responsive:!0,striped:!0,bordered:!0,hover:!0,id:"table-to-xls",className:"ur-table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsxs)("th",{onClick:()=>M("_id"),className:"ur-th",style:{minWidth:"100px"},children:["S.No ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("createdAt"),className:"ur-th",style:{minWidth:"180px"},children:["Date ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("order_id"),className:"ur-th",children:["Order ID ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("txn_id"),className:"ur-th",children:["Transaction Id ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("o_bal"),className:"ur-th",style:{minWidth:"180px"},children:["Opening Balance ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("amount"),className:"ur-th",style:{minWidth:"180px"},children:["Amount ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("c_bal"),className:"ur-th",style:{minWidth:"180px"},children:["Closing Balance ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("trans_type"),className:"ur-th",children:["Transaction Type ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("type"),className:"ur-th",children:["Type ",(0,f.jsx)(u.MjW,{})]}),(0,f.jsxs)("th",{onClick:()=>M("message"),className:"ur-th",children:["Message ",(0,f.jsx)(u.MjW,{})]})]})}),(0,f.jsx)("tbody",{children:L.length>0?L.map(((e,t)=>{var s,r,a;return(0,f.jsxs)("tr",{className:"ur-tr",children:[(0,f.jsx)("td",{children:(T-1)*W+t+1}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.createdAt)||""}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.order_id)||""}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.txn_id)||""}),(0,f.jsx)("td",{children:null!==(s=null===e||void 0===e?void 0:e.o_bal)&&void 0!==s?s:0}),(0,f.jsx)("td",{children:null!==(r=null===e||void 0===e?void 0:e.amount)&&void 0!==r?r:""}),(0,f.jsx)("td",{children:null!==(a=null===e||void 0===e?void 0:e.c_bal)&&void 0!==a?a:0}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.trans_type)||""}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.type)||""}),(0,f.jsx)("td",{children:(null===e||void 0===e?void 0:e.message)||""})]},e._id||t)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:"9",className:"text-center",children:w||"No Data Found"})})})]}),L.length>0&&(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,f.jsxs)("p",{className:"ur-total-count mb-0",children:["Total Count: ",y]}),(0,f.jsxs)("p",{className:"ur-total-count mb-0",children:["Total Amount: ",v]}),(0,f.jsx)(x.A,{current:T,total:y,pageSize:W,showSizeChanger:!0,onChange:(e,t)=>{O(e),E(t)}})]})]})]})]})}},41497:(e,t,s)=>{"use strict";var r=s(13218);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,n,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return s.PropTypes=s,s}},65173:(e,t,s)=>{e.exports=s(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},38628:(e,t,s)=>{"use strict";s.d(t,{A:()=>E});var r=s(98139),a=s.n(r),n=s(65043),o=s(67852),l=s(70579);const c=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n="div",...c}=e;return r=(0,o.oU)(r,"card-body"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));c.displayName="CardBody";const i=c,d=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n="div",...c}=e;return r=(0,o.oU)(r,"card-footer"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));d.displayName="CardFooter";const u=d;var x=s(11778);const m=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:r,as:c="div",...i}=e;const d=(0,o.oU)(s,"card-header"),u=(0,n.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,l.jsx)(x.A.Provider,{value:u,children:(0,l.jsx)(c,{ref:t,...i,className:a()(r,d)})})}));m.displayName="CardHeader";const h=m,f=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:r,variant:n,as:c="img",...i}=e;const d=(0,o.oU)(s,"card-img");return(0,l.jsx)(c,{ref:t,className:a()(n?"".concat(d,"-").concat(n):d,r),...i})}));f.displayName="CardImg";const p=f,b=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n="div",...c}=e;return r=(0,o.oU)(r,"card-img-overlay"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));b.displayName="CardImgOverlay";const y=b,j=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n="a",...c}=e;return r=(0,o.oU)(r,"card-link"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));j.displayName="CardLink";const v=j;var N=s(4488);const g=(0,N.A)("h6"),k=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n=g,...c}=e;return r=(0,o.oU)(r,"card-subtitle"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));k.displayName="CardSubtitle";const w=k,C=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n="p",...c}=e;return r=(0,o.oU)(r,"card-text"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));C.displayName="CardText";const A=C,_=(0,N.A)("h5"),T=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:r,as:n=_,...c}=e;return r=(0,o.oU)(r,"card-title"),(0,l.jsx)(n,{ref:t,className:a()(s,r),...c})}));T.displayName="CardTitle";const O=T,W=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:r,bg:n,text:c,border:d,body:u=!1,children:x,as:m="div",...h}=e;const f=(0,o.oU)(s,"card");return(0,l.jsx)(m,{ref:t,...h,className:a()(r,f,n&&"bg-".concat(n),c&&"text-".concat(c),d&&"border-".concat(d)),children:u?(0,l.jsx)(i,{children:x}):x})}));W.displayName="Card";const E=Object.assign(W,{Img:p,Title:O,Subtitle:w,Body:i,Link:v,Text:A,Header:h,Footer:u,ImgOverlay:y})},11778:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});const r=s(65043).createContext(null);r.displayName="CardHeaderContext";const a=r},53519:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(98139),a=s.n(r),n=s(65043),o=s(67852),l=s(70579);const c=n.forwardRef(((e,t)=>{let{bsPrefix:s,fluid:r=!1,as:n="div",className:c,...i}=e;const d=(0,o.oU)(s,"container"),u="string"===typeof r?"-".concat(r):"-fluid";return(0,l.jsx)(n,{ref:t,...i,className:a()(c,r?"".concat(d).concat(u):d)})}));c.displayName="Container";const i=c},61072:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(98139),a=s.n(r),n=s(65043),o=s(67852),l=s(70579);const c=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:r,as:n="div",...c}=e;const i=(0,o.oU)(s,"row"),d=(0,o.gy)(),u=(0,o.Jm)(),x="".concat(i,"-cols"),m=[];return d.forEach((e=>{const t=c[e];let s;delete c[e],null!=t&&"object"===typeof t?({cols:s}=t):s=t;const r=e!==u?"-".concat(e):"";null!=s&&m.push("".concat(x).concat(r,"-").concat(s))})),(0,l.jsx)(n,{ref:t,...c,className:a()(r,i,...m)})}));c.displayName="Row";const i=c},64196:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(98139),a=s.n(r),n=s(65043),o=s(67852),l=s(70579);const c=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:r,striped:n,bordered:c,borderless:i,hover:d,size:u,variant:x,responsive:m,...h}=e;const f=(0,o.oU)(s,"table"),p=a()(r,f,x&&"".concat(f,"-").concat(x),u&&"".concat(f,"-").concat(u),n&&"".concat(f,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),c&&"".concat(f,"-bordered"),i&&"".concat(f,"-borderless"),d&&"".concat(f,"-hover")),b=(0,l.jsx)("table",{...h,className:p,ref:t});if(m){let e="".concat(f,"-responsive");return"string"===typeof m&&(e="".concat(e,"-").concat(m)),(0,l.jsx)("div",{className:e,children:b})}return b}))},67852:(e,t,s)=>{"use strict";s.d(t,{Jm:()=>u,Wz:()=>x,gy:()=>d,oU:()=>i});var r=s(65043);s(70579);const a=["xxl","xl","lg","md","sm","xs"],n="xs",o=r.createContext({prefixes:{},breakpoints:a,minBreakpoint:n}),{Consumer:l,Provider:c}=o;function i(e,t){const{prefixes:s}=(0,r.useContext)(o);return e||s[t]||t}function d(){const{breakpoints:e}=(0,r.useContext)(o);return e}function u(){const{minBreakpoint:e}=(0,r.useContext)(o);return e}function x(){const{dir:e}=(0,r.useContext)(o);return"rtl"===e}},4488:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(65043),a=s(98139),n=s.n(a),o=s(70579);const l=e=>r.forwardRef(((t,s)=>(0,o.jsx)("div",{...t,ref:s,className:n()(t.className,e)})))},95702:(e,t,s)=>{"use strict";var r=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),a=s(65043),n=l(a),o=l(s(65173));function l(e){return e&&e.__esModule?e:{default:e}}var c={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.handleDownload=s.handleDownload.bind(s),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,s=String(this.props.sheet),r=String(this.props.filename)+".xls",a={worksheet:s||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var n=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(n,r)})),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',a)),o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return n.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,s){return t[s]}))}}]),t}(a.Component);i.propTypes=c,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.A=i},76323:()=>{},98587:(e,t,s)=>{"use strict";function r(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;s[r]=e[r]}return s}s.d(t,{A:()=>r})},63662:(e,t,s)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}s.d(t,{A:()=>r})}}]);
//# sourceMappingURL=3103.333e4aa4.chunk.js.map