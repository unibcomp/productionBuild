"use strict";(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[2791,6698],{46698:(e,i,l)=>{l.r(i),l.d(i,{default:()=>T,statusFilters:()=>z});var r=l(65043),n=l(73460),o=l(28076),d=l(10039),s=l(11906),a=l(61596),t=l(94496),c=l(94516),v=l(83625),u=l(24056),x=l(79650),h=l(71806),p=l(84882),j=l(91449),m=l(53193),A=l(18356),b=l(72221),g=l(59135),f=l(90035),y=l(26600),w=l(35316),C=l(29347),S=l(73575),_=l(17392),k=l(70378),W=l(98082),D=l(54358),N=(l(91036),l(73216)),I=l(35475),R=l(72777),O=l(70579);const z={New:"New","Ready To Ship":"Ready To Ship",Manifested:"Manifested",Canceled:"Cancel Order"},T=()=>{const e=(new Date).toISOString().split("T")[0],[i,l]=(0,r.useState)(1),[T,M]=(0,r.useState)(10),[P,E]=(0,r.useState)(!1),[L,B]=(0,r.useState)(0),[F,V]=(0,r.useState)(!1),[K,Y]=(0,r.useState)(!1),G=(0,N.Zp)(),[U,q]=(0,r.useState)({startDate:e,endDate:e,orderId:"",status:"New"}),[H,Q]=(0,r.useState)(null),[Z,J]=(0,r.useState)(null),X=Boolean(H),$=(e,i)=>{Q(e.currentTarget),J(i)},ee=()=>{Q(null),J(null)},ie=()=>{Y(!1)},[le,re]=(0,r.useState)([]),ne=e=>{const{name:i,value:l}=e.target;q((e=>({...e,[i]:l})))};(0,r.useEffect)((()=>{(async()=>{const e={...U.startDate&&{start_date:U.startDate},...U.endDate&&{end_date:U.endDate},...U.orderId&&{order_id:U.orderId},page:i-1,count:T,status:U.status};V(!0);try{var l,r;let i=await(0,S.yfm)(e);var n,o;!1===(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.error)&&200===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.statusCode)?(re(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data),B(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.totalCount[0].count)):(re([]),B(0))}catch(d){}finally{V(!1)}})()}),[i,T,P]);const[oe,de]=(0,r.useState)("New"),se=Math.ceil(L/T),ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(0,O.jsx)(n.A,{children:(0,O.jsx)(o.A,{children:(0,O.jsx)(d.A,{colSpan:e,align:"center",sx:{color:"gray"},children:"No data found"})})})};return(0,O.jsxs)(O.Fragment,{children:[F&&(0,O.jsx)(R.A,{}),(0,O.jsx)(a.A,{sx:{padding:3,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,O.jsx)(t.A,{variant:"h6",sx:{fontWeight:"600",fontSize:"24px",color:"var(--bs-nav)",textAlign:"center"},children:"ORDER DETAILS"})}),(0,O.jsxs)("div",{className:"card",children:[(0,O.jsx)("div",{className:"card-header",children:" "}),(0,O.jsx)("div",{className:"card-body",children:(0,O.jsx)("form",{children:(0,O.jsxs)("div",{className:"form-row",style:{alignItems:"end"},children:[(0,O.jsxs)("div",{className:"form-group col-md-4",children:[(0,O.jsx)("label",{children:"Start Date"}),(0,O.jsx)("input",{type:"date",name:"startDate",className:"form-control",value:U.startDate,onChange:ne,max:e})]}),(0,O.jsxs)("div",{className:"form-group col-md-4",children:[(0,O.jsx)("label",{children:"End Date"}),(0,O.jsx)("input",{type:"date",name:"endDate",className:"form-control",value:U.endDate,onChange:ne,max:e})]}),(0,O.jsxs)("div",{className:"form-group col-md-4",children:[(0,O.jsx)("label",{children:"Order ID"}),(0,O.jsx)("input",{type:"text",name:"orderId",placeholder:"Order ID",className:"form-control",value:U.orderId,onChange:ne})]}),(0,O.jsxs)("div",{className:"form-group col-md-6 col-lg-4",children:[(0,O.jsx)("label",{children:"\xa0"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("button",{type:"button",className:"btn btn-secondary mr-3",onClick:()=>{console.log("Selected Filters:",U),E((e=>!e))},children:"Search"}),(0,O.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{q({startDate:"",endDate:"",orderId:"",status:"New"}),de("New"),l(1),M(10),E((e=>!e))},children:"Reset"})]})]})]})})})]}),(0,O.jsx)(c.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",mt:2},children:(0,O.jsx)(v.A,{value:oe,onChange:(e,i)=>{q((e=>({...e,status:i}))),de(i),E((e=>!e))},variant:"scrollable",scrollButtons:"auto","aria-label":"Order Status Tabs",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,minWidth:120,color:"#555","&.Mui-selected":{color:"var(--bs-primary1)",fontWeight:"bold"}},"& .MuiTabs-indicator":{backgroundColor:"var(--bs-primary1)"}},children:Object.entries(z).map((e=>{let[i,l]=e;return(0,O.jsx)(u.A,{label:l,value:i},i)}))})}),(0,O.jsx)(a.A,{sx:{padding:3,borderRadius:2,marginTop:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:(0,O.jsxs)(c.A,{sx:{padding:1},children:[(0,O.jsxs)(x.A,{component:c.A,elevation:3,children:[(0,O.jsxs)(h.A,{children:[(0,O.jsx)(p.A,{sx:{backgroundColor:"#f5f5f5"},children:(()=>{switch(oe){case"New":return(0,O.jsxs)(o.A,{children:[(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"S.No."})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Date"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Product Value"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"E-Way Bill Mandatory"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order ID"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Status"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Action"})})]});case"Ready To Ship":case"Manifested":return(0,O.jsxs)(o.A,{children:[(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"S.No."})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Date"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Product Value"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order ID"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Courier Name"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Tracking Id"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Total Charges"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Status"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Action"})})]});case"Canceled":return(0,O.jsxs)(o.A,{children:[(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"S.No."})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Date"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Product Value"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order ID"})}),(0,O.jsx)(d.A,{children:(0,O.jsx)("strong",{children:"Order Status"})})]});default:return null}})()}),(()=>{switch(oe){case"New":return null!==le&&void 0!==le&&le.length?(0,O.jsx)(n.A,{children:null===le||void 0===le?void 0:le.map(((e,l)=>(0,O.jsxs)(o.A,{hover:!0,children:[(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:l+1+(i-1)*T}),(0,O.jsxs)(d.A,{sx:{color:"var(--bs-nav)"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.n_value}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:(null===e||void 0===e?void 0:e.n_value)>=5e4?"YES":"No"}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,O.jsxs)(d.A,{align:"center",children:[(0,O.jsx)(s.A,{variant:"contained",color:"success",onClick:()=>(e=>{var i;G("/order-ship/?delivery_postcode=".concat(null===e||void 0===e||null===(i=e.shipping_address)||void 0===i?void 0:i.shipping_pincode,"&order_id=").concat(null===e||void 0===e?void 0:e.shipRocket_order_id))})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Ship"}),(0,O.jsx)(_.A,{onClick:i=>$(i,e),children:(0,O.jsx)(W.A,{})})]})]},l)))}):ae(7);case"Manifested":return null!==le&&void 0!==le&&le.length?(0,O.jsx)(n.A,{children:null===le||void 0===le?void 0:le.map(((e,l)=>(0,O.jsxs)(o.A,{hover:!0,children:[(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:l+1+(i-1)*T}),(0,O.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,O.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,O.jsxs)(d.A,{sx:{minWidth:"300px",textAlign:"center"},children:[(0,O.jsx)(s.A,{variant:"contained",color:"success",onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e.manifest_url){const i=document.createElement("a");return i.href=null===e||void 0===e?void 0:e.manifest_url,i.download=null===e||void 0===e?void 0:e.manifest_url,document.body.appendChild(i),i.click(),void document.body.removeChild(i)}let i={shipment_id:null===e||void 0===e?void 0:e.shipment_id};try{var l,r,n;let e=await(0,S.nJg)(i);if(!1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error)){var o,d;const i=document.createElement("a");i.href=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data.manifest_url,i.download=null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data.manifest_url,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(0,D.A)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),ee(),E((e=>!e))}catch(s){}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Generate Manifeast"}),(0,O.jsx)(_.A,{onClick:i=>$(i,e),children:(0,O.jsx)(W.A,{})})]})]},l)))}):ae(11);case"Ready To Ship":return null!==le&&void 0!==le&&le.length?(0,O.jsx)(n.A,{children:null===le||void 0===le?void 0:le.map(((e,l)=>(0,O.jsxs)(o.A,{hover:!0,children:[(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:l+1+(i-1)*T}),(0,O.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.courier_name}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:(0,O.jsx)(I.k2,{to:"/order-details/".concat(null===e||void 0===e?void 0:e.shipRocket_order_id,"/").concat(null===e||void 0===e?void 0:e.waybill),style:{textDecoration:"underline",color:"var(--bs-primary1)"},children:null===e||void 0===e?void 0:e.waybill})}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.finalAmount}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus}),(0,O.jsxs)(d.A,{sx:{minWidth:"250px",textAlign:"center"},children:[(0,O.jsx)(s.A,{variant:"contained",color:"success",onClick:()=>(async e=>{let i={shipment_id:null===e||void 0===e?void 0:e.shipment_id};V(!0);try{var l,r,n;let e=await(0,S.mLl)(i);!1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.error)&&E((e=>!e)),(0,D.A)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}catch(o){}finally{V(!1)}})(e),sx:{borderColor:"var(--bs-primary1)",backgroundColor:"var(--bs-primary1)",color:"white"},children:"Schedule Pickup"}),(0,O.jsx)(_.A,{onClick:i=>$(i,e),children:(0,O.jsx)(W.A,{})})]})]},l)))}):ae(11);case"delivered":return null!==le&&void 0!==le&&le.length?(0,O.jsx)(n.A,{children:null===le||void 0===le?void 0:le.map(((e,l)=>(0,O.jsxs)(o.A,{hover:!0,children:[(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:l+1+(i-1)*T}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.order_id}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveredDate}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.deliveryPerson})]},l)))}):ae();case"Canceled":return null!==le&&void 0!==le&&le.length?(0,O.jsx)(n.A,{children:null===le||void 0===le?void 0:le.map(((e,l)=>(0,O.jsxs)(o.A,{hover:!0,children:[(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)"},children:l+1+(i-1)*T}),(0,O.jsxs)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"200px"},children:[" ",(null===e||void 0===e?void 0:e.createdAt)&&new Date(e.createdAt).toLocaleString("en-IN")]}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.n_value}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.order_id}),(0,O.jsx)(d.A,{sx:{color:"var(--bs-nav)",minWidth:"150px"},children:null===e||void 0===e?void 0:e.orderStatus})]},l)))}):ae(5);default:return null}})()]}),(0,O.jsxs)(k.A,{anchorEl:H,open:X,onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{borderRadius:2,minWidth:200,bgcolor:"#fff",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",p:1}},MenuListProps:{sx:{py:0}},children:["New"===oe&&(0,O.jsx)(j.A,{onClick:()=>{Y(!0)},sx:{fontSize:"14px",color:"red",px:2,py:1},children:"Cancel Order"}),(0,O.jsx)(j.A,{onClick:()=>{(async()=>{let e={shipRocket_order_id:null===Z||void 0===Z?void 0:Z.shipRocket_order_id};try{var i,l,r;let d=await(0,S.tKj)(e);if(!1===(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.error)){var n,o;const e=document.createElement("a");e.href=null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.data.invoice_url,e.download=null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.data.invoice_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,D.A)(null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.error,null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message),ee()}catch(d){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Download Invoice"}),(0,O.jsx)(j.A,{onClick:()=>{(async()=>{console.log("click");let e={shipment_id:null===Z||void 0===Z?void 0:Z.shipment_id};try{var i,l,r;let d=await(0,S.MVw)(e);if(console.log(d,"res"),!1===(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.error)){var n,o;const e=document.createElement("a");e.href=null===d||void 0===d||null===(n=d.data)||void 0===n?void 0:n.data.label_url,e.download=null===d||void 0===d||null===(o=d.data)||void 0===o?void 0:o.data.label_url,document.body.appendChild(e),e.click(),document.body.removeChild(e)}(0,D.A)(null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.error,null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message),ee()}catch(d){}})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"Generate Label"}),(0,O.jsx)(j.A,{onClick:()=>{(()=>{const e="/order-details/".concat(null===Z||void 0===Z?void 0:Z.shipRocket_order_id),i=null!==Z&&void 0!==Z&&Z.waybill?"".concat(e,"/").concat(null===Z||void 0===Z?void 0:Z.waybill):e;G(i)})()},sx:{fontSize:"14px",color:"var(--bs-nav)",px:2,py:1},children:"View Order"})]})]}),(0,O.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,flexWrap:"wrap",gap:2,children:[(0,O.jsxs)(c.A,{display:"flex",alignItems:"center",gap:2,children:[(0,O.jsxs)(m.A,{size:"small",sx:{width:"150px"},children:[(0,O.jsx)(A.A,{children:"Rows per page"}),(0,O.jsx)(b.A,{value:T,onChange:e=>{M(Number(e.target.value)),l(1)},label:"Rows per page",sx:{fontSize:"14px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"var(--bs-primary1)"}},children:[5,10,25,50].map((e=>(0,O.jsx)(j.A,{value:e,children:e},e)))})]}),(0,O.jsxs)(t.A,{variant:"body2",sx:{fontSize:"14px",color:"#555"},children:["Total Entries: ",L]})]}),(0,O.jsx)(g.A,{count:se,page:i,onChange:(e,i)=>{l(i)},shape:"rounded",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{color:"var(--bs-primary1)",borderRadius:"8px"},"& .MuiPaginationItem-root.Mui-selected":{backgroundColor:"var(--bs-primary1)",color:"#fff",fontWeight:"bold","&:hover":{backgroundColor:"var(--bs-primary1)"}}}})]})]})}),(0,O.jsxs)(f.A,{open:K,onClose:ie,children:[(0,O.jsx)(y.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,O.jsx)(w.A,{children:(0,O.jsx)(t.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this order? This action cannot be undone."})}),(0,O.jsxs)(C.A,{sx:{px:3,pb:2},children:[(0,O.jsx)(s.A,{onClick:ie,color:"inherit",children:"No, Keep Order"}),(0,O.jsx)(s.A,{onClick:async()=>{let e={shipRocket_order_id:null===Z||void 0===Z?void 0:Z.shipRocket_order_id};try{var i,l,r;let n=await(0,S.gUq)(e);!1===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.error)&&(ie(),ee(),E((e=>!e))),(0,D.A)(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.error,null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)}catch(n){}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})}},2791:(e,i,l)=>{l.r(i),l.d(i,{default:()=>_});var r=l(65043),n=l(26240),o=l(73036),d=l(94516),s=l(17392),a=l(68903),t=l(12110),c=l(67807),v=l(94496),u=l(11906),x=l(39336),h=l(90035),p=l(26600),j=l(35316),m=l(29347),A=l(68641),b=l(85502),g=l(19778),f=l(73216),y=l(73575),w=l(72777),C=l(54358),S=(l(91036),l(46698),l(70579));const _=()=>{var e,i,l,_,D,N,I,R,O;const{orderId:z,trackingId:T}=(0,f.g)(),M=(0,n.A)(),P=(0,o.A)(M.breakpoints.down("sm")),[E,L]=(0,r.useState)(),[B,F]=(0,r.useState)(!0),V=(0,f.Zp)(),[K,Y]=(0,r.useState)(!1),[G,U]=(0,r.useState)(null),q=["Ready To Ship","Manifested"];(0,r.useEffect)((()=>{(async()=>{if(z){F(!0);try{var e;const n=await(0,y.IAQ)({order_id:z});var i,l,r;!1===(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.error)?(L(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.orderData),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)):console.warn("Error fetching order data:",null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)}catch(n){console.error("Failed to fetch order:",n)}finally{F(!1)}}else V("/order-details")})(),T&&(async()=>{try{var e,i;let l=await(0,y.qSY)(T);U((null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.tracking_data)||null)}catch(l){}})()}),[K]);const[H,Q]=(0,r.useState)(!1),Z=()=>{Q(!1)};return(0,S.jsxs)(S.Fragment,{children:[B&&(0,S.jsx)(w.A,{}),(0,S.jsxs)(d.A,{p:{xs:2,sm:3,md:4},bgcolor:"#f9f9f9",children:[(0,S.jsx)(s.A,{onClick:()=>{V("/order-details")},sx:{mb:2},children:(0,S.jsx)(A.A,{})}),(0,S.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,S.jsxs)(a.Ay,{item:!0,xs:12,md:7,children:[T&&(0,S.jsx)(t.A,{sx:{p:3,mb:4,borderRadius:3},children:(0,S.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,S.jsx)(a.Ay,{item:!0,xs:12,md:9,children:(0,S.jsxs)(c.A,{spacing:1,children:[(0,S.jsxs)(v.A,{variant:"h6",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:["Tracking No: ",T]}),(0,S.jsx)(d.A,{sx:{overflowX:"auto",pb:1}})]})}),(0,S.jsx)(a.Ay,{item:!0,xs:12,md:3,textAlign:P?"left":"right"})]})}),(0,S.jsx)(a.Ay,{container:!0,item:!0,xs:12,sm:12,md:12,mb:2,justifyContent:"flex-end",children:(0,S.jsx)(c.A,{spacing:2,children:q.includes(null===E||void 0===E?void 0:E.orderStatus)&&(0,S.jsx)(u.A,{variant:"outlined",fullWidth:!0,color:"error",startIcon:(0,S.jsx)(b.A,{}),disabled:!q.includes(null===E||void 0===E?void 0:E.orderStatus),onClick:()=>{Q(!0)},children:"Cancel Shipment"})})}),(0,S.jsxs)(t.A,{sx:{p:3,mb:4,borderRadius:3,boxShadow:1},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Order Details"}),(0,S.jsx)(x.A,{}),[["Order ID",null===E||void 0===E?void 0:E.order_id],["Order Status",null===E||void 0===E?void 0:E.orderStatus],["LR Number",null===E||void 0===E?void 0:E.lrnum],["Payment",null===E||void 0===E?void 0:E.mode],["Amount",null!==E&&void 0!==E&&E.amount?"\u20b9".concat(null===E||void 0===E?void 0:E.amount):null],["Plateform Charge",null!==E&&void 0!==E&&E.plateformCharge?"\u20b9".concat(null===E||void 0===E?void 0:E.plateformCharge):null],["Final Amount",null!==E&&void 0!==E&&E.finalAmount?"\u20b9".concat(null===E||void 0===E?void 0:E.finalAmount):null]].filter((e=>{let[i,l]=e;return l})).map(((e,i)=>{let[l,r]=e;return(0,S.jsx)(W,{label:l,value:r},i)}))]}),(0,S.jsxs)(t.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Customer Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),[["Name",null===E||void 0===E||null===(e=E.shipping_address)||void 0===e?void 0:e.shipping_customer_name],["Phone",null===E||void 0===E||null===(i=E.shipping_address)||void 0===i?void 0:i.shipping_phone],["Address",null===E||void 0===E||null===(l=E.shipping_address)||void 0===l?void 0:l.shipping_address],["Pincode",null===E||void 0===E||null===(_=E.shipping_address)||void 0===_?void 0:_.shipping_state],["City",null===E||void 0===E||null===(D=E.shipping_address)||void 0===D?void 0:D.shipping_city],["State",null===E||void 0===E||null===(N=E.shipping_address)||void 0===N?void 0:N.shipping_customer_name]].filter((e=>{let[i,l]=e;return l})).map(((e,i)=>{let[l,r]=e;return(0,S.jsx)(W,{label:l,value:r},i)}))]}),(e=>{const i=null===G||void 0===G||null===(e=G.shipment_track)||void 0===e?void 0:e[0];return i?(0,S.jsxs)(t.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Shipment Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),[["Courier",i.courier_name],["AWB Number",i.awb_code],["Pickup Date",i.pickup_date],["Estimated Delivery",i.edd]].filter((e=>{let[i,l]=e;return l})).map(((e,i)=>{let[l,r]=e;return(0,S.jsx)(W,{label:l,value:r},i)}))]}):null})(),(0,S.jsxs)(t.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Package Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(()=>{const e=(null===E||void 0===E?void 0:E.weight)||0,i=(null===E||void 0===E?void 0:E.length)||0,l=(null===E||void 0===E?void 0:E.width)||0,r=(null===E||void 0===E?void 0:E.height)||0,n=+(i*l*r/5e3).toFixed(2),o=Math.max(e,n);return[["Dead Weight in (kg)",e],["Dimensions in (cm)","".concat(i," * ").concat(l," * ").concat(r)],["Volumetric Weight in (kg)",n],["Applied Weight in (kg)",o]].filter((e=>{let[i,l]=e;return null!==l&&void 0!==l})).map(((e,i)=>{let[l,r]=e;return(0,S.jsx)(W,{label:l,value:r},i)}))})()]}),(0,S.jsxs)(t.A,{sx:{p:3,mb:4,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Product Details"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(0,S.jsxs)(d.A,{display:"flex",justifyContent:"space-between",fontWeight:600,px:2,py:1,children:[(0,S.jsx)(d.A,{sx:k,width:"40%",children:"Name"}),(0,S.jsx)(d.A,{sx:k,width:"15%",children:"SKU"}),(0,S.jsx)(d.A,{sx:k,width:"18%",children:"Qty"}),(0,S.jsx)(d.A,{sx:k,width:"17%",children:"Unit Price"})]}),(0,S.jsx)(x.A,{}),null===E||void 0===E||null===(I=E.order_items)||void 0===I?void 0:I.map((e=>(0,S.jsxs)(d.A,{display:"flex",justifyContent:"space-between",alignItems:"center",px:2,py:1,children:[(0,S.jsxs)(d.A,{width:"40%",sx:k,children:[e.name," "]}),(0,S.jsx)(d.A,{width:"15%",sx:k,children:e.sku}),(0,S.jsx)(d.A,{width:"18%",sx:k,children:e.units}),(0,S.jsxs)(d.A,{width:"17%",sx:k,children:["\u20b9",e.selling_price]})]},e._id))),(0,S.jsx)(x.A,{sx:{mt:2}})]})]}),(null===G||void 0===G||null===(R=G.shipment_track_activities)||void 0===R?void 0:R.length)>0&&(0,S.jsx)(a.Ay,{item:!0,xs:12,md:5,children:(0,S.jsxs)(t.A,{sx:{p:3,borderRadius:3},children:[(0,S.jsx)(v.A,{variant:"subtitle1",fontWeight:600,color:"var(--bs-nav)",fontSize:18,children:"Tracking History"}),(0,S.jsx)(x.A,{sx:{mb:2}}),(0,S.jsx)(c.A,{spacing:3,pl:1,maxHeight:"500px",overflow:"auto",children:null===G||void 0===G||null===(O=G.shipment_track_activities)||void 0===O?void 0:O.map(((e,i)=>(0,S.jsxs)(c.A,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,S.jsx)(g.A,{color:"success"}),(0,S.jsxs)(d.A,{children:[(0,S.jsx)(v.A,{sx:{fontSize:"15px",color:"var(--bs-nav)",fontWeight:600},children:null===e||void 0===e?void 0:e.activity}),(0,S.jsx)(v.A,{variant:"body2",sx:{color:"var(--bs-nav)"},children:null===e||void 0===e?void 0:e.location}),(0,S.jsx)(v.A,{variant:"caption",color:"text.secondary",children:null===e||void 0===e?void 0:e.date})]})]},i)))})]})})]})]}),(0,S.jsxs)(h.A,{open:H,onClose:Z,children:[(0,S.jsx)(p.A,{sx:{fontWeight:600,color:"var(--bs-nav)"},children:"Confirm Cancellation"}),(0,S.jsx)(j.A,{children:(0,S.jsx)(v.A,{variant:"body2",sx:{fontSize:14},children:"Are you sure you want to cancel this shipment? This action cannot be undone."})}),(0,S.jsxs)(m.A,{sx:{px:3,pb:2},children:[(0,S.jsx)(u.A,{onClick:Z,color:"inherit",children:"No, Keep Order"}),(0,S.jsx)(u.A,{onClick:async()=>{F(!0);try{var e,i,l;let r=await(0,y.acT)({waybill:T});!1===(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.error)&&(Q(!1),Y((e=>!e))),(0,C.A)(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error,null===r||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)}catch(r){}finally{F(!1)}},color:"error",variant:"contained",sx:{backgroundColor:"red",color:"white"},children:"Yes, Cancel It"})]})]})]})},k={fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word",mt:.5},W=e=>{let{label:i,value:l}=e;return(0,S.jsxs)(d.A,{display:"flex",mb:1,columnGap:10,children:[(0,S.jsxs)(v.A,{flex:3,sx:{fontSize:"14px",color:"var(--bs-nav)",minWidth:"130px",fontWeight:600},children:[i,":"]}),(0,S.jsx)(v.A,{flex:5,sx:{fontSize:"14px",color:"var(--bs-nav)",opacity:.8,wordBreak:"break-word"},children:l})]})}},54358:(e,i,l)=>{l.d(i,{A:()=>n});var r=l(91036);function n(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"something went wrong";!1===e?r.oR.success(i):r.oR.error(i)}}}]);
//# sourceMappingURL=2791.19743d0b.chunk.js.map