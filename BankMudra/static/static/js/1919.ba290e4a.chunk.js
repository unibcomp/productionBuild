(self.webpackChunkpaymaster=self.webpackChunkpaymaster||[]).push([[1919],{4078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(65043),a=r(73216),n=r(53519),o=r(38628),c=r(73722),l=r(61072),i=r(78602),d=r(64196),u=r(85369),m=r(95702),f=r(76245),x=(r(76323),r(73575)),h=r(72777),p=r(70579);const b=function(){const{userId:e}=(0,a.g)(),[t,r]=((0,a.zy)(),(0,s.useState)([])),[b,y]=(0,s.useState)([]),[j,N]=(0,s.useState)(0),[g,v]=(0,s.useState)(!0),[w,k]=(0,s.useState)({key:null,direction:"ascending"}),[C,_]=(0,s.useState)(1),[A]=(0,s.useState)(10),T=()=>(new Date).toISOString().substr(0,10),E={start_date:T(),end_date:T(),type:"",trans_type:"",order_id:"",txn_id:"",sortType:"",sortKey:""},[O,P]=(0,s.useState)(E),[R,S]=(0,s.useState)(E);(0,s.useEffect)((()=>{W()}),[e,C,A,R]);const W=async()=>{try{v(!0);const t=await(0,x.FSp)(C-1,A,e,R);t.data&&t.data.data&&(r(t.data.data),N(t.data.totalCount||0))}catch(t){console.error("Error fetching user report:",t)}finally{v(!1)}},U=e=>{const{name:t,value:r}=e.target;P((e=>({...e,[t]:"string"===typeof r?r.trim():r})))},D=e=>{let t="ascending";w.key===e&&"ascending"===w.direction&&(t="descending"),k({key:e,direction:t}),S((r=>({...r,sortType:"ascending"===t?1:-1,sortKey:e})))},I=(0,s.useMemo)((()=>{let e=[...t||[]];return w.key&&e.sort(((e,t)=>e[w.key]<t[w.key]?"ascending"===w.direction?-1:1:e[w.key]>t[w.key]?"ascending"===w.direction?1:-1:0)),e}),[t,w]);return g?(0,p.jsx)("div",{children:(0,p.jsx)(h.A,{})}):(Math.ceil(j/A),(0,p.jsxs)(n.A,{fluid:!0,className:"px-4 PageHeading",children:[(0,p.jsx)("h1",{className:"mt-4 mb-4 ",children:"Transaction Report"}),(0,p.jsxs)(o.A,{className:"mb-4 ur-card",children:[(0,p.jsx)(o.A.Header,{className:"ur-card-header"}),(0,p.jsx)(o.A.Body,{className:"ur-card-body",children:(0,p.jsxs)(c.A,{children:[(0,p.jsxs)(l.A,{className:"mb-3",children:[(0,p.jsx)(i.A,{md:3,children:(0,p.jsxs)(c.A.Group,{controlId:"startDate",children:[(0,p.jsx)(c.A.Label,{children:"Start Date"}),(0,p.jsx)(c.A.Control,{type:"date",name:"start_date",max:T(),value:O.start_date,onChange:U})]})}),(0,p.jsx)(i.A,{md:3,children:(0,p.jsxs)(c.A.Group,{controlId:"endDate",children:[(0,p.jsx)(c.A.Label,{children:"End Date"}),(0,p.jsx)(c.A.Control,{type:"date",name:"end_date",max:T(),value:O.end_date,onChange:U})]})})]}),(0,p.jsx)(l.A,{className:"mb-3",children:(0,p.jsx)("div",{className:"form-group col-md-6 col-lg-4",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{type:"button",className:"btn btn-primary mr-3",onClick:()=>{S(O),_(1)},children:"Search"}),(0,p.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{P({start_date:"",end_date:""}),S({start_date:"",end_date:""}),_(1)},children:"Reset"})]})})})]})})]}),(0,p.jsxs)(o.A,{className:"mb-4 ur-card",children:[(0,p.jsx)(o.A.Header,{className:"ur-card-header",children:(0,p.jsx)(l.A,{className:"align-items-center w-100",children:(0,p.jsx)(i.A,{md:12,className:"text-end dataTables_length mb-2",children:(0,p.jsx)(m.A,{id:"test-table-xls-button",className:"btn btn-success ur-download-btn",table:"table-to-xls",filename:"user_report",sheet:"user_report",buttonText:(0,p.jsx)(p.Fragment,{children:" Download Excel"}),onClick:async t=>{0===b.length&&(t.preventDefault(),await(async()=>{try{v(!0);const t=await(0,x.jrV)(e);t.data&&t.data.data&&y(t.data.data)}catch(t){console.error("Error fetching all user report data:",t)}finally{v(!1)}})())}})})})}),(0,p.jsxs)(o.A.Body,{className:"ur-card-body",children:[(0,p.jsxs)(d.A,{responsive:!0,striped:!0,bordered:!0,hover:!0,id:"table-to-xls",className:"ur-table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsxs)("th",{onClick:()=>D("_id"),className:"ur-th",children:["S.No ",(0,p.jsx)(u.MjW,{})]}),(0,p.jsxs)("th",{onClick:()=>D("_id"),className:"ur-th",children:["Transaction Id ",(0,p.jsx)(u.MjW,{})]}),(0,p.jsxs)("th",{onClick:()=>D("amount"),className:"ur-th",children:["Amount ",(0,p.jsx)(u.MjW,{})]}),(0,p.jsxs)("th",{onClick:()=>D("trans_type"),className:"ur-th",children:["Transaction Type ",(0,p.jsx)(u.MjW,{})]}),(0,p.jsxs)("th",{onClick:()=>D("createdAt"),className:"ur-th",children:["Date ",(0,p.jsx)(u.MjW,{})]})]})}),(0,p.jsx)("tbody",{children:I.length>0?I.map(((e,t)=>(0,p.jsxs)("tr",{className:"ur-tr",children:[(0,p.jsx)("td",{children:(C-1)*A+t+1}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.txn_id}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.amount}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.trans_type}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt})]},t))):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"5",className:"text-center",children:"No Data Found"})})})]}),(0,p.jsx)("div",{style:{marginTop:"1%",float:"right"},children:(0,p.jsx)(f.A,{current:C,total:j,pageSize:A,onChange:e=>_(e),showSizeChanger:!1})}),(0,p.jsxs)("p",{className:"ur-total-count",children:["Total Count: ",j]})]})]})]}))}},41497:(e,t,r)=>{"use strict";var s=r(13218);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,n,o){if(o!==s){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return r.PropTypes=r,r}},65173:(e,t,r)=>{e.exports=r(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},38628:(e,t,r)=>{"use strict";r.d(t,{A:()=>P});var s=r(98139),a=r.n(s),n=r(65043),o=r(67852),c=r(70579);const l=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n="div",...l}=e;return s=(0,o.oU)(s,"card-body"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));l.displayName="CardBody";const i=l,d=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n="div",...l}=e;return s=(0,o.oU)(s,"card-footer"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));d.displayName="CardFooter";const u=d;var m=r(11778);const f=n.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,as:l="div",...i}=e;const d=(0,o.oU)(r,"card-header"),u=(0,n.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,c.jsx)(m.A.Provider,{value:u,children:(0,c.jsx)(l,{ref:t,...i,className:a()(s,d)})})}));f.displayName="CardHeader";const x=f,h=n.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,variant:n,as:l="img",...i}=e;const d=(0,o.oU)(r,"card-img");return(0,c.jsx)(l,{ref:t,className:a()(n?"".concat(d,"-").concat(n):d,s),...i})}));h.displayName="CardImg";const p=h,b=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n="div",...l}=e;return s=(0,o.oU)(s,"card-img-overlay"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));b.displayName="CardImgOverlay";const y=b,j=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n="a",...l}=e;return s=(0,o.oU)(s,"card-link"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));j.displayName="CardLink";const N=j;var g=r(4488);const v=(0,g.A)("h6"),w=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n=v,...l}=e;return s=(0,o.oU)(s,"card-subtitle"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));w.displayName="CardSubtitle";const k=w,C=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n="p",...l}=e;return s=(0,o.oU)(s,"card-text"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));C.displayName="CardText";const _=C,A=(0,g.A)("h5"),T=n.forwardRef(((e,t)=>{let{className:r,bsPrefix:s,as:n=A,...l}=e;return s=(0,o.oU)(s,"card-title"),(0,c.jsx)(n,{ref:t,className:a()(r,s),...l})}));T.displayName="CardTitle";const E=T,O=n.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,bg:n,text:l,border:d,body:u=!1,children:m,as:f="div",...x}=e;const h=(0,o.oU)(r,"card");return(0,c.jsx)(f,{ref:t,...x,className:a()(s,h,n&&"bg-".concat(n),l&&"text-".concat(l),d&&"border-".concat(d)),children:u?(0,c.jsx)(i,{children:m}):m})}));O.displayName="Card";const P=Object.assign(O,{Img:p,Title:E,Subtitle:k,Body:i,Link:N,Text:_,Header:x,Footer:u,ImgOverlay:y})},11778:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const s=r(65043).createContext(null);s.displayName="CardHeaderContext";const a=s},53519:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(98139),a=r.n(s),n=r(65043),o=r(67852),c=r(70579);const l=n.forwardRef(((e,t)=>{let{bsPrefix:r,fluid:s=!1,as:n="div",className:l,...i}=e;const d=(0,o.oU)(r,"container"),u="string"===typeof s?"-".concat(s):"-fluid";return(0,c.jsx)(n,{ref:t,...i,className:a()(l,s?"".concat(d).concat(u):d)})}));l.displayName="Container";const i=l},61072:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(98139),a=r.n(s),n=r(65043),o=r(67852),c=r(70579);const l=n.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,as:n="div",...l}=e;const i=(0,o.oU)(r,"row"),d=(0,o.gy)(),u=(0,o.Jm)(),m="".concat(i,"-cols"),f=[];return d.forEach((e=>{const t=l[e];let r;delete l[e],null!=t&&"object"===typeof t?({cols:r}=t):r=t;const s=e!==u?"-".concat(e):"";null!=r&&f.push("".concat(m).concat(s,"-").concat(r))})),(0,c.jsx)(n,{ref:t,...l,className:a()(s,i,...f)})}));l.displayName="Row";const i=l},64196:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(98139),a=r.n(s),n=r(65043),o=r(67852),c=r(70579);const l=n.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,striped:n,bordered:l,borderless:i,hover:d,size:u,variant:m,responsive:f,...x}=e;const h=(0,o.oU)(r,"table"),p=a()(s,h,m&&"".concat(h,"-").concat(m),u&&"".concat(h,"-").concat(u),n&&"".concat(h,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),l&&"".concat(h,"-bordered"),i&&"".concat(h,"-borderless"),d&&"".concat(h,"-hover")),b=(0,c.jsx)("table",{...x,className:p,ref:t});if(f){let e="".concat(h,"-responsive");return"string"===typeof f&&(e="".concat(e,"-").concat(f)),(0,c.jsx)("div",{className:e,children:b})}return b}))},67852:(e,t,r)=>{"use strict";r.d(t,{Jm:()=>u,Wz:()=>m,gy:()=>d,oU:()=>i});var s=r(65043);r(70579);const a=["xxl","xl","lg","md","sm","xs"],n="xs",o=s.createContext({prefixes:{},breakpoints:a,minBreakpoint:n}),{Consumer:c,Provider:l}=o;function i(e,t){const{prefixes:r}=(0,s.useContext)(o);return e||r[t]||t}function d(){const{breakpoints:e}=(0,s.useContext)(o);return e}function u(){const{minBreakpoint:e}=(0,s.useContext)(o);return e}function m(){const{dir:e}=(0,s.useContext)(o);return"rtl"===e}},4488:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(65043),a=r(98139),n=r.n(a),o=r(70579);const c=e=>s.forwardRef(((t,r)=>(0,o.jsx)("div",{...t,ref:r,className:n()(t.className,e)})))},95702:(e,t,r)=>{"use strict";var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),a=r(65043),n=c(a),o=c(r(65173));function c(e){return e&&e.__esModule?e:{default:e}}var l={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleDownload=r.handleDownload.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,r=String(this.props.sheet),s=String(this.props.filename)+".xls",a={worksheet:r||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var n=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(n,s)})),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',a)),o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return n.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,r){return t[r]}))}}]),t}(a.Component);i.propTypes=l,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.A=i},76323:()=>{},98587:(e,t,r)=>{"use strict";function s(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}r.d(t,{A:()=>s})},63662:(e,t,r)=>{"use strict";function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}r.d(t,{A:()=>s})}}]);
//# sourceMappingURL=1919.ba290e4a.chunk.js.map